(this["webpackJsonpcubari-proxy"]=this["webpackJsonpcubari-proxy"]||[]).push([[0],{216:function(e,t,a){"use strict";a.r(t);var r=a(2),n=a.n(r),i=a(88),c=a.n(i),s=(a(95),a(96),a(6)),o=a(10),u=a(8),l=a(7),d=a(27),h=a(9),p=new IntersectionObserver((function(e,t){e.forEach((function(e){if(e.isIntersecting){var a=e.target.querySelector("img");a.src=a.dataset.src,t.unobserve(e.target)}}))})),g=a(33),f="history",v=new Event("history-changed"),m=a(0),b=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).saveToHistory=function(e){0!==e.button&&1!==e.button||function(e,t,a,r){var n=localStorage.getItem(f);n?((n=JSON.parse(n).filter((function(t){return t.identifier!==e}))).length>=20&&n.pop(),n=[{identifier:e,title:t,url:a,coverUrl:r}].concat(Object(g.a)(n))):n=[{identifier:e,title:t,url:a,coverUrl:r}],window.dispatchEvent(v),localStorage.setItem(f,JSON.stringify(n))}(r.props.mangaUrlizer(r.props.slug),r.props.mangaTitle,r.props.mangaUrlizer(r.props.slug),r.props.coverUrl)},r.componentDidMount=function(){p.observe(r.ref.current)},r.ref=n.a.createRef(),r}return Object(o.a)(a,[{key:"render",value:function(){return Object(m.jsx)("div",{className:"UI HistoryUnit",ref:this.ref,children:Object(m.jsxs)("a",{className:"manga-card smol proxy",href:this.props.mangaUrlizer(this.props.slug),target:"_blank",rel:"noopener noreferrer",onMouseDown:this.saveToHistory,children:[Object(m.jsx)("div",{className:"bloor",style:{backgroundImage:'url("'.concat(this.props.coverUrl,'")')}}),Object(m.jsx)("picture",{children:Object(m.jsx)("img",{"data-src":this.props.coverUrl,alt:this.props.mangaTitle})}),Object(m.jsx)("article",{children:Object(m.jsx)("h2",{children:Object(m.jsx)("span",{className:"title",children:this.props.mangaTitle})})})]})})}}]),a}(r.PureComponent),x=function(e){return e.split(" ").filter(Boolean).map((function(e){return e.charAt(0).toUpperCase()+e.toLowerCase().slice(1)})).join(" ")},y=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).createHeroSection=function(e){return Object(m.jsx)("h2",{className:"pinned-header",children:x(e.title)},e.id+e.title)},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=[];return this.props.discover.forEach((function(a){if(a.items){t.push(e.createHeroSection(a));var r=a.items.map((function(e){return Object(m.jsx)(b,{mangaUrlizer:a.mangaUrlizer,slug:e.id,coverUrl:e.image,mangaTitle:e.title.text},a.id+e.id)}));t.push(Object(m.jsx)("div",{className:"history UI List",children:r},a.id+a.title+"container"))}})),Object(m.jsx)(n.a.Fragment,{children:this.props.discover.size?t:Object(m.jsx)("progress",{className:"progress is-small"})})}}]),a}(r.PureComponent),j=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).handleInput=function(e){if("Enter"===e.key){var t={title:e.target.value};r.setState({searching:!0,results:new Set},(function(){r.runSearchQuery(t)}))}},r.runSearchQuery=function(e){r.props.sources.forEach((function(t){var a={source:t,query:e};r.runningQueries.add(a),t.searchRequest(e).then((function(e){var n=(e.results||[]).map((function(e){return e.mangaUrlizer=t.getMangaUrl,e.slug=e.id,e.coverUrl=e.image,e.mangaTitle=e.title.text,e}));r.runningQueries.delete(a),r.setState({results:new Set([].concat(Object(g.a)(r.state.results),Object(g.a)(n))),searching:!!r.runningQueries.size})}))}))},r.state={searching:!1,results:new Set},r.runningQueries=new Set,r}return Object(o.a)(a,[{key:"render",value:function(){var e=[];return this.state.results.forEach((function(t){return e.push(Object(m.jsx)(b,{mangaUrlizer:t.mangaUrlizer,slug:t.slug,coverUrl:t.coverUrl,mangaTitle:t.mangaTitle},t.slug))})),Object(m.jsxs)("div",{className:"columns is-mobile is-multiline",children:[Object(m.jsxs)("section",{className:"hero column is-full",children:[Object(m.jsx)("div",{className:"hero-body",children:Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("h1",{className:"title",children:"Search"}),Object(m.jsx)("h2",{className:"subtitle",children:"Press enter after your query to search."})]})}),Object(m.jsx)("input",{className:"input is-medium",onKeyPress:this.handleInput,type:"text",placeholder:"Search..."})]}),Object(m.jsx)("div",{className:"history UI List",children:e}),this.state.searching?Object(m.jsx)("progress",{className:"progress is-small"}):void 0]})}}]),a}(r.PureComponent),O=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=JSON.parse(localStorage.getItem(f)||"[]").map((function(e){return Object(m.jsx)(b,{mangaUrlizer:function(e){return e},slug:e.identifier,coverUrl:e.coverUrl,mangaTitle:e.title},e.identifier)}));return Object(m.jsxs)("div",{className:"columns is-mobile is-multiline",children:[Object(m.jsx)("section",{className:"hero column is-full",children:Object(m.jsx)("div",{className:"hero-body",children:Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("h1",{className:"title",children:"History"}),Object(m.jsx)("h2",{className:"subtitle",children:"Note that this history is different from your remotestorage history on cubari.moe."})]})})}),Object(m.jsx)("div",{className:"history UI List",children:e.length?e:Object(m.jsx)("section",{className:"hero column is-full",children:Object(m.jsx)("h1",{className:"title is-4",children:"No items."})})})]})}}]),a}(r.PureComponent),w=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(m.jsx)("div",{className:"columns is-mobile is-multiline",children:Object(m.jsx)("section",{className:"hero column is-full",children:Object(m.jsx)("div",{className:"hero-body",children:Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("h1",{className:"title",children:"404"}),Object(m.jsxs)("h2",{className:"subtitle",children:["Go home? Or visit ",Object(m.jsx)("a",{href:"https://cubari.moe/",children:"cubari.moe"}),"."]})]})})})})}}]),a}(r.PureComponent),k=a(1),M=a.n(k),T=a(3),N=a(5),S=a(4),q=a(55),I=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).requestManager={requestsPerSecond:2.5,requestTimeout:5e3,schedule:function(){var e=Object(N.a)(M.a.mark((function e(t,a){var r,n,i,c,s,o,u;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=null!==(r=t.headers)&&void 0!==r?r:{},s=t.data,null===(n=c["content-type"])||void 0===n?void 0:n.includes("application/x-www-form-urlencoded"))for(o in s="",t.data)s&&(s+="&"),s+="".concat(o,"=").concat(t.data[o]);return e.next=5,q({url:"https://cors.bridged.cc/".concat(t.url).concat(null!==(i=t.param)&&void 0!==i?i:""),method:t.method,headers:c,data:s,timeout:this.requestTimeout||0});case 5:return u=e.sent,e.abrupt("return",Promise.resolve(createResponseObject({data:u.data,status:u.status,headers:u.headers,request:t})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},e}return a}(S.Source),E="https://nhentai.net",_={version:"2.0.1",name:"nHentai",description:"Extension which pulls 18+ content from nHentai. (Literally all of it. We know why you're here)",author:"VibrantClouds",authorWebsite:"https://github.com/conradweiser",icon:"logo.png",hentaiSource:!1,sourceTags:[{text:"18+",type:S.TagType.YELLOW}],websiteBaseURL:E},A=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"getMangaUrl",value:function(e){return"https://cubari.moe/g/".concat(e,"/")}},{key:"getSourceDetails",value:function(){return _}},{key:"convertLanguageToCode",value:function(e){switch(e.toLowerCase()){case"english":return S.LanguageCode.ENGLISH;case"japanese":return S.LanguageCode.JAPANESE;case"chinese":return S.LanguageCode.CHINEESE;default:return S.LanguageCode.UNKNOWN}}},{key:"getMangaDetails",value:function(){var e=Object(N.a)(M.a.mark((function e(t){var a,r,n,i,c,s,o,u,l,d,h,p,g,f,v,m,b,x,y,j,O,w,k;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=createRequestObject({url:"".concat(E,"/g/").concat(t),method:"GET"}),e.next=3,this.requestManager.schedule(o,1);case 3:u=e.sent,l=this.cheerio.load(u.data),d=null!==(a=l("[itemprop=image]").attr("content"))&&void 0!==a?a:"",h=null!==(r=l("[itemprop=name]").attr("content"))&&void 0!==r?r:"",p=[createTagSection({id:"0",label:"tag",tags:[]})],g=null!==(n=null===(i=l('meta[name="twitter:description"]').attr("content"))||void 0===i?void 0:i.split(","))&&void 0!==n?n:[],p[0].tags=g.map((function(e){return createTag({id:e.trim(),label:e.trim()})})),h=h.replace(/(\[.+?\])/g,"").trim(),f=[h],v=l("#info"),m=null!==(c=l("h1",v).text())&&void 0!==c?c:"",b=null!==(s=l("h2",v).text())&&void 0!==s?s:"",m&&f.push(m.trim()),b&&f.push(b.trim()),x=l("#info-block"),y="",j=Object(T.a)(l(".tag-container",x).toArray());try{for(j.s();!(O=j.n()).done;)w=O.value,l(w).text().indexOf("Artists")>-1?(k=l("a",w).text(),y=k.substring(0,k.search(/\d/))):l(w).text().indexOf("Languages")}catch(M){j.e(M)}finally{j.f()}return 1,e.abrupt("return",createManga({id:t,titles:f,image:d,rating:0,status:1,artist:y,tags:p,hentai:!1}));case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapters",value:function(){var e=Object(N.a)(M.a.mark((function e(t){var a,r,n,i,c,s,o,u,l,d,h,p,g;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=createRequestObject({url:"".concat(E,"/g/").concat(t),method:"GET"}),e.next=3,this.requestManager.schedule(n,1);case 3:i=e.sent,c=this.cheerio.load(i.data),s=[],o=null!==(a=c("[itemprop=name]").attr("content"))&&void 0!==a?a:"",u=new Date(null!==(r=c("time").attr("datetime"))&&void 0!==r?r:""),o=o.replace(/(\[.+?\])/g,"").trim(),l=S.LanguageCode.UNKNOWN,d=Object(T.a)(c(".tag-container").toArray()),e.prev=11,d.s();case 13:if((h=d.n()).done){e.next=32;break}if(p=h.value,!(c(p).text().indexOf("Languages")>-1)){e.next=30;break}if(!(g=c("span",p).text()).includes("japanese")){e.next=22;break}return l=S.LanguageCode.JAPANESE,e.abrupt("break",32);case 22:if(!g.includes("english")){e.next=27;break}return l=S.LanguageCode.ENGLISH,e.abrupt("break",32);case 27:if(!g.includes("chinese")){e.next=30;break}return l=S.LanguageCode.CHINEESE,e.abrupt("break",32);case 30:e.next=13;break;case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(11),d.e(e.t0);case 37:return e.prev=37,d.f(),e.finish(37);case 40:return s.push(createChapter({id:"1",mangaId:t,name:o,chapNum:1,time:u,langCode:l})),e.abrupt("return",s);case 42:case"end":return e.stop()}}),e,this,[[11,34,37,40]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapterDetails",value:function(){var e=Object(N.a)(M.a.mark((function e(t,a){var r,n,i,c,s,o,u,l,d,h,p,g,f,v;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=createRequestObject({url:"".concat(E,"/g/").concat(t),method:"GET"}),e.next=3,this.requestManager.schedule(r,1);case 3:n=e.sent,i=this.cheerio.load(n.data),c=[],s=i("#thumbnail-container"),o=i("img",s).attr("data-src"),u=parseInt(null===o||void 0===o?void 0:o.match(/.*\/(\d*)\//)[1]),l=1,d=Object(T.a)(i(i("img",".thumb-container")).toArray());try{for(d.s();!(h=d.n()).done;)g=h.value,f=null===(p=i(g).attr("data-src"))||void 0===p?void 0:p.match(/\.([png|jpg]{3,3})/g)[0],c.push("https://i.nhentai.net/galleries/".concat(u,"/").concat(l).concat(f)),l++}catch(m){d.e(m)}finally{d.f()}return v=createChapterDetails({id:a,mangaId:t,pages:c,longStrip:!1}),e.abrupt("return",v);case 14:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"searchRequest",value:function(){var e=Object(N.a)(M.a.mark((function e(t,a){var r,n,i,c,s,o,u,l,d,h,p,g,f,v,m,b,x,y,j,O,w,k,N,S,q;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null!==(r=a)&&void 0!==r?r:{},c=null!==(n=a.page)&&void 0!==n?n:1,s=!1,!1!==t.hStatus&&t.title){e.next=5;break}return e.abrupt("return",createPagedResults({results:[]}));case 5:return o=void 0,(null===(i=t.title)||void 0===i?void 0:i.match(/\d{5,6}/))?(o=createRequestObject({url:"".concat(E,"/g/").concat(t.title),method:"GET"}),s=!0):(t.title=null===(u=t.title)||void 0===u?void 0:u.trim(),t.title=t.title.replace(" ","+")+"+",o=createRequestObject({url:"".concat(E,"/search/?q=").concat(t.title,"+english&page=").concat(c),method:"GET"}),s=!1),e.next=9,this.requestManager.schedule(o,1);case 9:if(l=e.sent,d=this.cheerio.load(l.data),h=[],!s){e.next=20;break}return f=d("#bigcontainer"),v=d("a",f).attr("href"),m=parseInt(null===v||void 0===v?void 0:v.match(/g\/(\d*)\/\d/)[1]),b=(b=null!==(p=d("[itemprop=name]").attr("content"))&&void 0!==p?p:"").replace(/(\[.+?\])/g,"").trim(),h.push(createMangaTile({id:m.toString(),title:createIconText({text:b}),image:null!==(g=d("[itemprop=image]").attr("content"))&&void 0!==g?g:""})),e.abrupt("return",createPagedResults({results:h}));case 20:x=d(".index-container"),y=Object(T.a)(d(".gallery",x).toArray());try{for(y.s();!(j=y.n()).done;)w=j.value,k=d(w),void 0===(N=d("img",k).attr("data-src"))&&(N="http:"+d("img",k).attr("src")),S=d(".caption",k).text(),q=null===(O=d("a",k).attr("href"))||void 0===O?void 0:O.match(/\/(\d*)\//),S=S.replace(/(\[.+?\])/g,"").trim(),h.push(createMangaTile({id:q[1],title:createIconText({text:S}),image:N}))}catch(M){y.e(M)}finally{y.f()}return d("a.last")?a.page=++c:a=void 0,e.abrupt("return",createPagedResults({results:h,metadata:a}));case 25:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getHomePageSections",value:function(){var e=Object(N.a)(M.a.mark((function e(t){var a,r,n,i,c,s,o,u,l,d,h,p,g,f,v,m,b,x,y,j,O,w,k,N;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createHomeSection({id:"popular",title:"Popular Now"}),r=createHomeSection({id:"new",title:"New Uploads",view_more:!0}),t(a),t(r),n=createRequestObject({url:"".concat(E,"/language/english"),method:"GET"}),e.next=7,this.requestManager.schedule(n,1);case 7:i=e.sent,c=[],s=[],o=this.cheerio.load(i.data),u=o(".index-container").first(),l=Object(T.a)(o(".gallery",u).toArray());try{for(l.s();!(d=l.n()).done;)p=d.value,g=o(p),void 0===(f=o("img",g).attr("data-src"))&&(f="http:"+o("img",g).attr("src")),v=(v=o(".caption",g).text()).replace(/(\[.+?\])/g,"").trim(),m=null===(h=o("a",g).attr("href"))||void 0===h?void 0:h.match(/\/(\d*)\//),c.push(createMangaTile({id:m[1],title:createIconText({text:v}),image:f}))}catch(M){l.e(M)}finally{l.f()}a.items=c,t(a),u=o(".index-container").last(),b=Object(T.a)(o(".gallery",u).toArray());try{for(b.s();!(x=b.n()).done;)j=x.value,O=o(j),void 0===(w=o("img",O).attr("data-src"))&&(w="http:"+o("img",O).attr("src")),k=(k=o(".caption",O).text()).replace(/(\[.+?\])/g,"").trim(),N=null===(y=o("a",O).attr("href"))||void 0===y?void 0:y.match(/\/(\d*)\//),s.push(createMangaTile({id:N[1],title:createIconText({text:k}),image:w}))}catch(M){b.e(M)}finally{b.f()}r.items=s,t(r);case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getViewMoreItems",value:function(){var e=Object(N.a)(M.a.mark((function e(t,a){var r,n,i,c,s,o,u,l,d,h,p,g,f,v,m,b;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null!==(r=a)&&void 0!==r?r:{},i=null!==(n=a.page)&&void 0!==n?n:1,c=createRequestObject({url:"".concat(E,"/?page=").concat(i),method:"GET"}),e.next=5,this.requestManager.schedule(c,1);case 5:s=e.sent,o=this.cheerio.load(s.data),u=[],l=o(".index-container"),d=Object(T.a)(o(".gallery",l).toArray());try{for(d.s();!(h=d.n()).done;)g=h.value,f=o(g),void 0===(v=o("img",f).attr("data-src"))&&(v="http:"+o("img",f).attr("src")),m=(m=o(".caption",f).text()).replace(/(\[.+?\])/g,"").trim(),b=null===(p=o("a",f).attr("href"))||void 0===p?void 0:p.match(/\/(\d*)\//),u.push(createMangaTile({id:b[1],title:createIconText({text:m}),image:v}))}catch(t){d.e(t)}finally{d.f()}return o("a.last")?a.page=++i:a=void 0,e.abrupt("return",createPagedResults({results:u,metadata:a}));case 13:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),a}(I),C=function(e,t){var a,r=e("h1.heading").first().text().trim(),n=[];n.push(r),e("div.alt_name").text().trim().replace(" ","").split(";").forEach((function(e){n.push(e)}));var i=null!==(a=e("div.media div.cover img").attr("src"))&&void 0!==a?a:"",c=e(".author").text().trim(),s=e(".summary > p").text().trim(),o=e(".value.status").text().trim(),u=!1,l=[];e(".genres > a").each((function(t,a){var r,n,i=e(a).text().trim(),c=null!==(r=null===(n=e(a).attr("href"))||void 0===n?void 0:n.split("genre/")[1])&&void 0!==r?r:"";["Adult","Smut","Mature"].includes(i)&&(u=!0),l.push({id:c,label:i})}));var d=[createTagSection({id:"0",label:"genres",tags:l.map((function(e){return createTag(e)}))})],h=S.MangaStatus.ONGOING;switch(o){case"Ongoing":h=S.MangaStatus.ONGOING;break;case"Completed":h=S.MangaStatus.COMPLETED;break;default:h=S.MangaStatus.ONGOING}return createManga({id:t,titles:n,image:i,rating:0,status:h,author:c,artist:"",tags:d,desc:s,hentai:u})},R=function(e,t){var a,r=[],n=new RegExp("c([0-9.]+)"),i=Object(T.a)(e("tr:has(.chapter)").toArray());try{for(i.s();!(a=i.n()).done;){var c,s,o,u=a.value,l=e("a",u).text(),d=new Date(null!==(c=e(".update_time",u).text())&&void 0!==c?c:""),h=null!==(s=null===(o=e("a",u).attr("href"))||void 0===o?void 0:o.split("/").pop())&&void 0!==s?s:"",p=Number("0"+h.match(n)[1]);isNaN(p)||r.push(createChapter({id:h,mangaId:t,name:l,langCode:S.LanguageCode.ENGLISH,chapNum:p,time:d}))}}catch(g){i.e(g)}finally{i.f()}return r},U=function(e,t,a){var r,n=[],i=RegExp("var ytaw=\\[([^\\[]*)]"),c=Object(T.a)(e("script").toArray());try{for(c.s();!(r=c.n()).done;){var s,o=null===(s=r.value.children[0])||void 0===s?void 0:s.data;if("undefined"!==typeof o&&o.includes("var ytaw=")){var u,l=o.match(i)[1].replace(/''?/g,"").split(","),d=Object(T.a)(l);try{for(d.s();!(u=d.n()).done;){var h=u.value;""!==h&&n.push(h)}}catch(p){d.e(p)}finally{d.f()}}}}catch(p){c.e(p)}finally{c.f()}return createChapterDetails({id:a,mangaId:t,pages:n,longStrip:!1})},L=function(e){var t,a=[createTagSection({id:"0",label:"genres",tags:[]})],r=Object(T.a)(e(".wrap_item").toArray());try{for(r.s();!(t=r.n()).done;){var n,i,c=t.value,s=e("a",c).first().text().trim(),o=null!==(n=null===(i=e("a",c).attr("href"))||void 0===i?void 0:i.split("genre/")[1])&&void 0!==n?n:"";a[0].tags.push(createTag({id:o,label:s}))}}catch(u){r.e(u)}finally{r.f()}return a},G=function(e,t,a){var r,n=[],i=!0,c=Object(T.a)(e("div.item","div#book_list").toArray());try{for(c.s();!(r=c.n()).done;){var s,o,u=r.value,l=null!==(s=null===(o=e("a",u).attr("href"))||void 0===o?void 0:o.split("/").pop())&&void 0!==s?s:"";new Date(e(".update_time",u).first().text())>t?a.includes(l)&&n.push(l):i=!1}}catch(d){c.e(d)}finally{c.f()}return{ids:n,loadMore:i}},D=function(e,t,a){var r,n=Object(T.a)(t);try{for(n.s();!(r=n.n()).done;){a(r.value)}}catch(P){n.e(P)}finally{n.f()}var i,c=[],s=Object(T.a)(e("div.item","div#hot_update").toArray());try{for(s.s();!(i=s.n()).done;){var o,u,l,d=i.value,h=e(".title",d).text().trim(),p=null!==(o=null===(u=e("a",d).attr("href"))||void 0===u?void 0:u.split("/").pop())&&void 0!==o?o:"",g=null!==(l=e("img",d).first().attr("src"))&&void 0!==l?l:"",f=e(".chapter",d).first().text().trim();p&&h&&c.push(createMangaTile({id:p,image:g,title:createIconText({text:h}),subtitleText:createIconText({text:f})}))}}catch(P){s.e(P)}finally{s.f()}t[0].items=c,a(t[0]);var v,m=[],b=Object(T.a)(e("div.item","div#hot_book").toArray());try{for(b.s();!(v=b.n()).done;){var x,y,j,O=v.value,w=e(".title",O).text().trim(),k=null!==(x=null===(y=e("a",O).attr("href"))||void 0===y?void 0:y.split("/").pop())&&void 0!==x?x:"",M=null!==(j=e("img",O).attr("data-src"))&&void 0!==j?j:"",N=e(".chapter",O).first().text().trim();k&&w&&m.push(createMangaTile({id:k,image:M,title:createIconText({text:w}),subtitleText:createIconText({text:N})}))}}catch(P){b.e(P)}finally{b.f()}t[1].items=m,a(t[1]);var S,q=[],I=Object(T.a)(e("div.item","div#book_list").toArray());try{for(I.s();!(S=I.n()).done;){var E,_,A,C=S.value,R=e(".title",C).text().trim(),U=null!==(E=null===(_=e("a",C).attr("href"))||void 0===_?void 0:_.split("/").pop())&&void 0!==E?E:"",L=null!==(A=e("img",C).first().attr("src"))&&void 0!==A?A:"",G=e(".chapter",C).first().text().trim();U&&R&&q.push(createMangaTile({id:U,image:L,title:createIconText({text:R}),subtitleText:createIconText({text:G})}))}}catch(P){I.e(P)}finally{I.f()}t[2].items=q,a(t[2]);var D,H=Object(T.a)(t);try{for(H.s();!(D=H.n()).done;){a(D.value)}}catch(P){H.e(P)}finally{H.f()}},H=function(e){var t,a;return null!==(t=null===(a=e.title)||void 0===a?void 0:a.replace(" ","+"))&&void 0!==t?t:""},P=function(e){var t=[];try{var a;if(null===(a=e('meta[property="$=url"]').attr("content"))||void 0===a?void 0:a.includes("/manga/")){var r,n,i,c,s,o=null!==(r=e("h1.heading").first().text().trim())&&void 0!==r?r:"",u=null!==(n=null===(i=e('meta[property$=url]"]').attr("content"))||void 0===i||null===(c=i.split("/"))||void 0===c?void 0:c.pop())&&void 0!==n?n:"",l=null!==(s=e("div.media div.cover img").attr("src"))&&void 0!==s?s:"";u&&o&&t.push(createMangaTile({id:u,image:l,title:createIconText({text:o})}))}else{var d,h=[],p=Object(T.a)(e("div.item","#book_list").toArray());try{for(p.s();!(d=p.n()).done;){var g,f,v,m=d.value,b=e(".title a",m).text().trim(),x=null!==(g=null===(f=e("a",m).attr("href"))||void 0===f?void 0:f.split("/").pop())&&void 0!==g?g:"",y=null!==(v=e("img",m).attr("src"))&&void 0!==v?v:"",j=e(".chapter",m).first().text().trim();!h.includes(x)&&x&&b&&(t.push(createMangaTile({id:x,image:y,title:createIconText({text:b}),subtitleText:createIconText({text:j})})),h.push(x))}}catch(O){p.e(O)}finally{p.f()}}}catch(w){console.log(w)}return t},z=function(e,t){var a,r=[],n=Object(T.a)(e("div.item","div#book_list").toArray());try{for(n.s();!(a=n.n()).done;){var i,c,s,o=a.value,u=e(".title a",o).text().trim(),l=null!==(i=null===(c=e("a",o).attr("href"))||void 0===c?void 0:c.split("/").pop())&&void 0!==i?i:"",d=null!==(s=e("img",o).attr("src"))&&void 0!==s?s:"",h=e(".chapter",o).first().text().trim();l&&u&&r.push(createMangaTile({id:l,image:d,title:createIconText({text:u}),subtitleText:createIconText({text:h})}))}}catch(p){n.e(p)}finally{n.f()}return r},J=function(e){var t=!0;return Boolean(e("a.next.page-numbers","ul.uk-pagination").text())&&(t=!1),t},B="https://mangakatana.com",W="GET",K={"content-type":"application/x-www-form-urlencoded"},Q={version:"1.0.3",name:"MangaKatana",icon:"icon.png",author:"Netsky",authorWebsite:"https://github.com/TheNetsky",description:"Extension that pulls manga from MangaKatana.",hentaiSource:!1,websiteBaseURL:B,sourceTags:[{text:"Notifications",type:S.TagType.GREEN},{text:"Buggy",type:S.TagType.RED}]},V=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"getMangaShareUrl",value:function(e){return"".concat(B,"/manga/").concat(e)}},{key:"getMangaUrl",value:function(e){return"https://cubari.moe/mk/".concat(B,"/manga/").concat(e)}},{key:"getSourceDetails",value:function(){return Q}},{key:"getMangaDetails",value:function(){var e=Object(N.a)(M.a.mark((function e(t){var a,r,n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({url:"".concat(B,"/manga/"),method:W,param:t}),e.next=3,this.requestManager.schedule(a,1);case 3:return r=e.sent,n=this.cheerio.load(r.data),e.abrupt("return",C(n,t));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapters",value:function(){var e=Object(N.a)(M.a.mark((function e(t){var a,r,n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({url:"".concat(B,"/manga/"),method:W,param:t}),e.next=3,this.requestManager.schedule(a,1);case 3:return r=e.sent,n=this.cheerio.load(r.data),e.abrupt("return",R(n,t));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapterDetails",value:function(){var e=Object(N.a)(M.a.mark((function e(t,a){var r,n,i;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=createRequestObject({url:"".concat(B,"/manga/").concat(t,"/").concat(a),method:"GET"}),e.next=3,this.requestManager.schedule(r,1);case 3:return n=e.sent,i=this.cheerio.load(n.data,{xmlMode:!1}),e.abrupt("return",U(i,t,a));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getTags",value:function(){var e=Object(N.a)(M.a.mark((function e(){var t,a,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=createRequestObject({url:"".concat(B,"/genres"),method:W}),e.next=3,this.requestManager.schedule(t,1);case 3:return a=e.sent,r=this.cheerio.load(a.data),e.abrupt("return",L(r));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"filterUpdatedManga",value:function(){var e=Object(N.a)(M.a.mark((function e(t,a,r){var n,i,c,s,o;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=1,i={ids:[],loadMore:!0};case 2:if(!i.loadMore){e.next=12;break}return c=createRequestObject({url:"".concat(B,"/latest/page/").concat(n++),method:W}),e.next=6,this.requestManager.schedule(c,1);case 6:s=e.sent,o=this.cheerio.load(s.data),(i=G(o,a,r)).ids.length>0&&t(createMangaUpdates({ids:i.ids})),e.next=2;break;case 12:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"getHomePageSections",value:function(){var e=Object(N.a)(M.a.mark((function e(t){var a,r,n,i,c,s,o;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createHomeSection({id:"hot_update",title:"Hot Updates"}),r=createHomeSection({id:"hot_manga",title:"Hot Manga",view_more:!0}),n=createHomeSection({id:"latest_updates",title:"Latest Updates",view_more:!0}),i=[a,r,n],c=createRequestObject({url:B,method:W}),e.next=7,this.requestManager.schedule(c,1);case 7:s=e.sent,o=this.cheerio.load(s.data),D(o,i,t);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getViewMoreItems",value:function(){var e=Object(N.a)(M.a.mark((function e(t,a){var r,n,i,c,s,o,u,l;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=null!==(r=null===(n=a)||void 0===n?void 0:n.page)&&void 0!==r?r:1,c="",e.t0=t,e.next="hot_manga"===e.t0?5:"latest_updates"===e.t0?7:9;break;case 5:return c="/new-manga/page/".concat(i),e.abrupt("break",11);case 7:return c="/latest/page/".concat(i),e.abrupt("break",11);case 9:return e.abrupt("return",Promise.resolve(null));case 11:return s=createRequestObject({url:"".concat(B),method:W,param:c}),e.next=14,this.requestManager.schedule(s,1);case 14:return o=e.sent,u=this.cheerio.load(o.data),l=z(u),a=J(u)?void 0:{page:i+1},e.abrupt("return",createPagedResults({results:l,metadata:a}));case 19:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"searchRequest",value:function(){var e=Object(N.a)(M.a.mark((function e(t,a){var r,n,i,c,s,o,u,l;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=null!==(r=null===(n=a)||void 0===n?void 0:n.page)&&void 0!==r?r:1,c=H(t),s=createRequestObject({url:B,method:W,headers:K,param:"/page/".concat(i,"?search=").concat(c,"&search_by=book_name")}),e.next=5,this.requestManager.schedule(s,1);case 5:return o=e.sent,u=this.cheerio.load(o.data),l=P(u),a=J(u)?void 0:{page:i+1},e.abrupt("return",createPagedResults({results:l,metadata:a}));case 10:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),a}(I),$=a(90),Y="https://guya.moe",F="".concat(Y,"/api/series"),X="".concat(Y,"/api/get_all_series/"),Z={version:"1.1.1",name:"Guya",icon:"icon.png",author:"funkyhippo",authorWebsite:"https://github.com/funkyhippo",description:"Extension that pulls manga from guya.moe",language:"en",hentaiSource:!1,websiteBaseURL:Y},ee=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"getSourceDetails",value:function(){return Z}},{key:"getMangaUrl",value:function(e){return"https://guya.moe/read/manga/".concat(e,"/")}},{key:"getMangaDetails",value:function(){var e=Object(N.a)(M.a.mark((function e(t){var a,r,n,i,c,s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({metadata:{mangaId:t},url:X,method:"GET"}),e.next=3,this.requestManager.schedule(a,1);case 3:for(c in r=e.sent,n="string"===typeof r.data?JSON.parse(r.data):r.data,i=[],n)s=n[c],t.includes(s.slug)&&i.push(createManga({id:s.slug,titles:[c],image:"".concat(Y,"/").concat(s.cover),rating:5,status:S.MangaStatus.ONGOING,artist:s.artist,author:s.author,desc:s.description}));return e.abrupt("return",i[0]);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapters",value:function(){var e=Object(N.a)(M.a.mark((function e(t){var a,r,n,i,c,s,o,u,l;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({metadata:{mangaId:t},url:"".concat(F,"/").concat(t,"/"),method:"GET"}),e.next=3,this.requestManager.schedule(a,1);case 3:for(o in r=e.sent,n="string"===typeof r.data?JSON.parse(r.data):r.data,i=n.chapters,c=n.groups,s=[],i)for(l in(u=i[o]).groups)s.push(createChapter({id:"".concat(o).concat("|").concat(l),mangaId:t,chapNum:Number(o),langCode:S.LanguageCode.ENGLISH,name:u.title,volume:u.volume,group:c[l],time:new Date(1e3*Number(u.release_date[l]))}));return e.abrupt("return",s);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapterDetails",value:function(){var e=Object(N.a)(M.a.mark((function e(t,a){var r,n,i,c,s,o,u,l;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=createRequestObject({url:"".concat(F,"/").concat(t,"/"),method:"GET"}),e.next=3,this.requestManager.schedule(r,1);case 3:return n=e.sent,i="string"===typeof n.data?JSON.parse(n.data):n.data,c=i.chapters,s=a.split("|"),o=Object($.a)(s,2),u=o[0],l=o[1],e.abrupt("return",createChapterDetails({id:a,longStrip:!1,mangaId:t,pages:c[u].groups[l].map((function(e){return"".concat(Y,"/media/manga/").concat(t,"/chapters/").concat(c[u].folder,"/").concat(l,"/").concat(e)}))}));case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"searchRequest",value:function(){var e=Object(N.a)(M.a.mark((function e(t,a){var r,n,i,c,s,o,u;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=createRequestObject({url:X,method:"GET"}),e.next=3,this.requestManager.schedule(n,1);case 3:return i=e.sent,c="string"===typeof i.data?JSON.parse(i.data):i.data,s=null!==(r=t.title)&&void 0!==r?r:"",o=Object.keys(c).filter((function(e){return e.toLowerCase().includes(s.toLowerCase())})),u=o.map((function(e){var t=c[e];return createMangaTile({id:t.slug,image:"".concat(Y,"/").concat(t.cover),title:createIconText({text:e})})})),e.abrupt("return",createPagedResults({results:u}));case 9:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getHomePageSections",value:function(){var e=Object(N.a)(M.a.mark((function e(t){var a,r,n,i,c,s,o;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createHomeSection({id:"all_guya",title:"ALL GUYA"}),t(a),r=createRequestObject({url:X,method:"GET"}),e.next=5,this.requestManager.schedule(r,1);case 5:for(s in n=e.sent,i="string"===typeof n.data?JSON.parse(n.data):n.data,c=[],i)o=i[s],c.push(createMangaTile({id:o.slug,image:"".concat(Y,"/").concat(o.cover),title:createIconText({text:s})}));a.items=c,t(a);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"filterUpdatedManga",value:function(){var e=Object(N.a)(M.a.mark((function e(t,a,r){var n,i,c,s,o,u;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=createRequestObject({url:X,method:"GET"}),e.next=3,this.requestManager.schedule(n,1);case 3:for(o in i=e.sent,c="string"===typeof i.data?JSON.parse(i.data):i.data,s=[],c)u=c[o],new Date(1e3*u.last_updated)>=a&&r.includes(o)&&s.push(o);t(createMangaUpdates({ids:s}));case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"getMangaShareUrl",value:function(e){return"".concat(Y,"/read/manga/").concat(e,"/")}}]),a}(I),te=function(e,t){var a,r,n,i,c=e(".manga-info-top"),s=null!==(a=e("h1",c).first().text())&&void 0!==a?a:"",o=null!==(r=e(".manga-info-pic",c).children().first().attr("src"))&&void 0!==r?r:"",u=e(".manga-info-text",c),l="",d=e(".manga-info-text li:nth-child(2)").text().replace("Author(s) :","").replace(/\r?\n|\r/g,"").split(", ");d[d.length-1]=null===(n=d[d.length-1])||void 0===n?void 0:n.replace(", ",""),i=d[0],d.length>1&&" "!==e(d[1]).text()&&(l=d[1]);var h=Number(e("#rate_row_cmd",u).text().replace("Mangakakalot.com rate : ","").slice(e("#rate_row_cmd",u).text().indexOf("Mangakakalot.com rate : "),e("#rate_row_cmd",u).text().indexOf(" / 5"))),p="Ongoing"===e(".manga-info-text li:nth-child(3)").text().split(" ").pop()?S.MangaStatus.ONGOING:S.MangaStatus.COMPLETED,g=[s],f=Number(e("#rate_row_cmd",u).text().replace(" votes","").split(" ").pop()),v=Number(e(".manga-info-text li:nth-child(6)").text().replace(/,/g,"").replace("View : ","")),m=[createTagSection({id:"0",label:"genres",tags:[]})],b=e(".manga-info-text li:nth-child(7)").find("a").toArray(),x=[];x=Array.from(b,(function(t){return e(t).text()})),m[0].tags=x.map((function(e){return createTag({id:e,label:e})}));var y,j=Object(T.a)(e("li",u).toArray());try{for(j.s();!(y=j.n()).done;){var O=y.value;if(e(O).find(".story-alternative").length>0){var w,k=e("h2",u).text().replace("Alternative : ","").split(/,|;/),M=Object(T.a)(k);try{for(M.s();!(w=M.n()).done;){var N=w.value;g.push(N.trim())}}catch(E){M.e(E)}finally{M.f()}}}}catch(E){j.e(E)}finally{j.f()}var q=new Date(e(".manga-info-text li:nth-child(4)").text().replace(/((AM)*(PM)*)/g,"").replace("Last updated : ","")).toDateString(),I=e("#noidungm",e(".leftCol")).clone().children().remove().end().text().replace(/^\s+|\s+$/g,"");return createManga({id:t,titles:g,image:o,rating:Number(h),status:p,artist:l,author:i,tags:m,views:v,follows:f,lastUpdate:q,desc:I,hentai:!1})},ae=function(e,t){var a,r=e(".chapter-list",".leftCol"),n=[],i=Object(T.a)(e(".row",r).toArray());try{for(i.s();!(a=i.n()).done;){var c,s,o,u=a.value,l=null!==(c=e("a",u).attr("href"))&&void 0!==c?c:"",d=null!==(s=e("a",u).text())&&void 0!==s?s:"",h=Number(l.split("_").pop()),p=new Date(null!==(o=e("span:nth-child(3)",u).attr("title"))&&void 0!==o?o:"");n.push(createChapter({id:l,mangaId:t,name:d,langCode:S.LanguageCode.ENGLISH,chapNum:h,time:p}))}}catch(g){i.e(g)}finally{i.f()}return n},re=function(e,t,a){var r,n=[],i=e("img",".container-chapter-reader").toArray(),c=Object(T.a)(i);try{for(c.s();!(r=c.n()).done;){var s=e(r.value).attr("src");"undefined"!==typeof s&&n.push(s)}}catch(o){c.e(o)}finally{c.f()}return createChapterDetails({id:a,mangaId:t,pages:n,longStrip:!1})},ne=function(e,t,a){var r,n=Object(T.a)(t);try{for(n.s();!(r=n.n()).done;){a(r.value)}}catch(j){n.e(j)}finally{n.f()}var i,c=[],s=[],o=Object(T.a)(e(".item",".owl-carousel").toArray());try{for(o.s();!(i=o.n()).done;){var u=i.value,l=e("a",u).first().attr("href"),d=e("img",u).attr("src"),h=e("div.slide-caption",u).children().first().text(),p=e("div.slide-caption",u).children().last().text();"undefined"!==typeof l&&"undefined"!==typeof d&&c.push(createMangaTile({id:l,image:d,title:createIconText({text:h}),subtitleText:createIconText({text:p})}))}}catch(j){o.e(j)}finally{o.f()}var g,f=Object(T.a)(e(".first",".doreamon").toArray());try{for(f.s();!(g=f.n()).done;){var v=g.value,m=e("a",v).first().attr("href"),b=e("img",v).attr("src");"undefined"!==typeof m&&"undefined"!==typeof b&&s.push(createMangaTile({id:m,image:b,title:createIconText({text:e("h3",v).text()}),subtitleText:createIconText({text:e(".sts_1",v).first().text()})}))}}catch(j){f.e(j)}finally{f.f()}t[0].items=c,t[1].items=s;var x,y=Object(T.a)(t);try{for(y.s();!(x=y.n()).done;){a(x.value)}}catch(j){y.e(j)}finally{y.f()}},ie=function(e,t,a){var r,n=Object(T.a)(t);try{for(n.s();!(r=n.n()).done;){a(r.value)}}catch(s){n.e(s)}finally{n.f()}t[0].items=ce(e);var i,c=Object(T.a)(t);try{for(c.s();!(i=c.n()).done;){a(i.value)}}catch(s){c.e(s)}finally{c.f()}},ce=function(e){var t,a=[],r=e(".truyen-list"),n=Object(T.a)(e(".list-truyen-item-wrap",r).toArray());try{for(n.s();!(t=n.n()).done;){var i,c,s=t.value,o=e("a",s).first().attr("href"),u=e("img",s).first().attr("src"),l=null!==(i=e("a",s).first().attr("title"))&&void 0!==i?i:"",d=null!==(c=e(".list-story-item-wrap-chapter",s).attr("title"))&&void 0!==c?c:"";"undefined"!==typeof o&&"undefined"!==typeof u&&a.push(createMangaTile({id:o,image:u,title:createIconText({text:l}),subtitleText:createIconText({text:d})}))}}catch(h){n.e(h)}finally{n.f()}return a},se=function(e){var t,a,r=(null!==(t=e.title)&&void 0!==t?t:"").replace(/ /g,"_");return e.author&&(r+=(null!==(a=e.author)&&void 0!==a?a:"").replace(/ /g,"_")),"".concat(r)},oe=function(e){var t,a=[],r=e(".panel_story_list"),n=e(".story_item",r).toArray(),i=Object(T.a)(n);try{for(i.s();!(t=i.n()).done;){var c,s,o=t.value,u=null!==(c=e("a",o).first().attr("href"))&&void 0!==c?c:"",l=e(".story_name",o).children().first().text(),d=e(".story_chapter",o).first().text().trim(),h=null!==(s=e("img",o).attr("src"))&&void 0!==s?s:"",p=new Date(e(".story_item_right span:nth-child(5)",o).text().replace(/((AM)*(PM)*)/g,"").replace("Updated : ","")).toDateString();a.push(createMangaTile({id:u,image:h,title:createIconText({text:l}),subtitleText:createIconText({text:d}),secondaryText:createIconText({text:p,icon:"clock.fill"})}))}}catch(g){i.e(g)}finally{i.f()}return a},ue=function(e){var t,a=e(".panel-category").find("a").clone().remove(".ctg-select").toArray(),r=createTagSection({id:"genre",label:"Genre",tags:[]}),n=Object(T.a)(a);try{for(n.s();!(t=n.n()).done;){var i=e(t.value).text();r.tags.push(createTag({id:i,label:i}))}}catch(c){n.e(c)}finally{n.f()}return[r]},le=function(e){return ce(e)},de=function(e){var t,a=e(".page_select").text(),r=e(".page_last").text();return!a||+(r=(null!==(t=/(\d+)/g.exec(r))&&void 0!==t?t:[""])[0])===+a},he=function(e,t){var a,r,n,i,c,s=e(".panel-story-info"),o=null!==(a=e(".img-loading",s).attr("title"))&&void 0!==a?a:"",u=null!==(r=e(".img-loading",s).attr("src"))&&void 0!==r?r:"",l=e(".variations-tableInfo",s),d="",h="",p=S.MangaStatus.ONGOING,g=[o],f=0,v="",m=[createTagSection({id:"0",label:"genres",tags:[]})],b=Object(T.a)(e("tr",l).toArray());try{for(b.s();!(c=b.n()).done;){var x=c.value;if(e(x).find(".info-alternative").length>0){var y,j=e("h2",l).text().split(/,|;/),O=Object(T.a)(j);try{for(O.s();!(y=O.n()).done;){var w=y.value;g.push(w.trim())}}catch(U){O.e(U)}finally{O.f()}}else if(e(x).find(".info-author").length>0){var k=e(".table-value",x).find("a").toArray();d=e(k[0]).text(),k.length>1&&(h=e(k[1]).text())}else if(e(x).find(".info-status").length>0)p="Ongoing"===e(".table-value",x).text()?S.MangaStatus.ONGOING:S.MangaStatus.COMPLETED;else if(e(x).find(".info-genres").length>0){var M,N=e(".table-value",x).find("a").toArray(),q=[],I=Object(T.a)(N);try{for(I.s();!(M=I.n()).done;){var E=e(M.value).text();q.push(E)}}catch(U){I.e(U)}finally{I.f()}}}}catch(U){b.e(U)}finally{b.f()}l=e(".story-info-right-extent",s);var _,A=Object(T.a)(e("p",l).toArray());try{for(A.s();!(_=A.n()).done;){var C=_.value;if(e(C).find(".info-time").length>0)v=new Date(e(".stre-value",C).text().replace(/(-*(AM)*(PM)*)/g,"")).toDateString();else e(C).find(".info-view").length>0&&(f=Number(e(".stre-value",C).text().replace(/,/g,"")))}}catch(U){A.e(U)}finally{A.f()}n=Number(e("[property=v\\:average]",l).text()),i=Number(e("[property=v\\:votes]",l).text());var R=e(".panel-story-info-description",s).text();return createManga({id:t,titles:g,image:u,rating:Number(n),status:p,artist:h,author:d,tags:m,views:f,follows:i,lastUpdate:v,desc:R,hentai:!1})},pe=function(e,t){var a,r=e(".row-content-chapter",".body-site"),n=[],i=Object(T.a)(e("li",r).toArray());try{for(i.s();!(a=i.n()).done;){var c,s,o,u,l,d=a.value,h=null!==(c=e("a",d).attr("href"))&&void 0!==c?c:"",p=null!==(s=e("a",d).text())&&void 0!==s?s:"",g=Number(null!==(o=(null!==(u=/Chapter (\d*)/g.exec(p))&&void 0!==u?u:[])[1])&&void 0!==o?o:""),f=new Date(null!==(l=e(".chapter-time",d).attr("title"))&&void 0!==l?l:"");n.push(createChapter({id:h,mangaId:t,name:p,langCode:S.LanguageCode.ENGLISH,chapNum:g,time:f}))}}catch(v){i.e(v)}finally{i.f()}return n},ge=function(e,t,a){var r=Array.from(e("img",".container-chapter-reader").toArray(),(function(t){var a;return null!==(a=e(t).attr("src"))&&void 0!==a?a:""}));return createChapterDetails({id:a,mangaId:t,pages:r,longStrip:!1})},fe="https://mangakakalot.com",ve="https://manganelo.com",me="GET",be={Referer:ve,"content-type":"application/x-www-form-urlencoded"},xe={version:"2.0.4",name:"Mangakakalot",icon:"mangakakalot.com.png",author:"getBoolean",authorWebsite:"https://github.com/getBoolean",description:"Extension that pulls manga from Mangakakalot",hentaiSource:!1,websiteBaseURL:fe,sourceTags:[{text:"Notifications",type:S.TagType.GREEN}]},ye=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"getMangaUrl",value:function(e){return"https://cubari.moe/mb/".concat(e)}},{key:"getSourceDetails",value:function(){return xe}},{key:"getMangaShareUrl",value:function(e){return"".concat(e,"/")}},{key:"getMangaDetails",value:function(){var e=Object(N.a)(M.a.mark((function e(t){var a,r,n,i,c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.slice(t.indexOf("/",t.indexOf("/")+2),t.length),r=t.replace(a,""),n=createRequestObject({url:"".concat(r,"/"),method:me,param:a}),e.next=5,this.requestManager.schedule(n,1);case 5:if(i=e.sent,c=this.cheerio.load(i.data),!t.toLowerCase().includes("mangakakalot")){e.next=11;break}return e.abrupt("return",te(c,t));case 11:return e.abrupt("return",he(c,t));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapters",value:function(){var e=Object(N.a)(M.a.mark((function e(t){var a,r,n,i,c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.slice(t.indexOf("/",t.indexOf("/")+2),t.length),r=t.replace(a,""),n=createRequestObject({url:"".concat(r,"/"),method:me,param:a}),e.next=5,this.requestManager.schedule(n,1);case 5:if(i=e.sent,c=this.cheerio.load(i.data),!t.toLowerCase().includes("mangakakalot")){e.next=11;break}return e.abrupt("return",ae(c,t));case 11:return e.abrupt("return",pe(c,t));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapterDetails",value:function(){var e=Object(N.a)(M.a.mark((function e(t,a){var r,n,i;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.toLowerCase().includes("manganelo")?createRequestObject({url:"".concat(a),method:me,headers:{Referer:ve,"content-type":"application/x-www-form-urlencoded",Cookie:"content_lazyload=off"}}):createRequestObject({url:"".concat(a),method:me,headers:{"content-type":"application/x-www-form-urlencoded",Cookie:"content_lazyload=off"}}),e.next=3,this.requestManager.schedule(r,1);case 3:if(n=e.sent,i=this.cheerio.load(n.data),!t.toLowerCase().includes("mangakakalot")){e.next=9;break}return e.abrupt("return",re(i,t,a));case 9:return e.abrupt("return",ge(i,t,a));case 10:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"filterUpdatedManga",value:function(){var e=Object(N.a)(M.a.mark((function e(t,a,r){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(createMangaUpdates({ids:r}));case 1:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"getHomePageSections",value:function(){var e=Object(N.a)(M.a.mark((function e(t){var a,r,n,i,c,s,o,u,l,d,h,p,g,f,v,m,b;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createHomeSection({id:"popular_manga",title:"POPULAR MANGA"}),r=createHomeSection({id:"latest_updates",title:"LATEST MANGA RELEASES",view_more:!0}),n=createHomeSection({id:"hot_manga",title:"HOT MANGA",view_more:!0}),i=createHomeSection({id:"new_manga",title:"NEW MANGA",view_more:!0}),c=createHomeSection({id:"zcompleted_manga",title:"COMPLETED MANGA",view_more:!0}),s=createRequestObject({url:"".concat(fe),method:"GET"}),o=createRequestObject({url:"".concat(fe,"/manga_list?type=topview&category=all&state=all&page="),method:"GET"}),u=createRequestObject({url:"".concat(fe,"/manga_list?type=newest&category=all&state=all&page="),method:"GET"}),l=createRequestObject({url:"".concat(fe,"/manga_list?type=newest&category=all&state=Completed&page="),method:"GET"}),e.next=11,this.requestManager.schedule(s,1);case 11:return d=e.sent,h=this.cheerio.load(d.data),e.next=15,this.requestManager.schedule(o,1);case 15:return p=e.sent,g=this.cheerio.load(p.data),e.next=19,this.requestManager.schedule(u,1);case 19:return f=e.sent,v=this.cheerio.load(f.data),e.next=23,this.requestManager.schedule(l,1);case 23:m=e.sent,b=this.cheerio.load(m.data),ne(h,[a,r],t),ie(g,[n],t),ie(v,[i],t),ie(b,[c],t);case 29:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"searchRequest",value:function(){var e=Object(N.a)(M.a.mark((function e(t,a){var r,n,i,c,s,o,u,l;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=null!==(r=null===(n=a)||void 0===n?void 0:n.page)&&void 0!==r?r:1,c=se(t),s=createRequestObject({url:"".concat(fe,"/search/story/"),method:me,headers:be,param:"".concat(c,"?page=").concat(i)}),e.next=5,this.requestManager.schedule(s,1);case 5:return o=e.sent,u=this.cheerio.load(o.data),l=oe(u),a=de(u)?void 0:{page:i+1},e.abrupt("return",createPagedResults({results:l,metadata:a}));case 10:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getTags",value:function(){var e=Object(N.a)(M.a.mark((function e(){var t,a,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=createRequestObject({url:fe,method:me,headers:be}),e.next=3,this.requestManager.schedule(t,1);case 3:return a=e.sent,r=this.cheerio.load(a.data),e.abrupt("return",ue(r));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getViewMoreItems",value:function(){var e=Object(N.a)(M.a.mark((function e(t,a){var r,n,i,c,s,o,u,l;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=null!==(r=null===(n=a)||void 0===n?void 0:n.page)&&void 0!==r?r:1,c="",e.t0=t,e.next="latest_updates"===e.t0?5:"hot_manga"===e.t0?7:"new_manga"===e.t0?9:"zcompleted_manga"===e.t0?11:13;break;case 5:return c="/manga_list?type=latest&category=all&state=all&page=".concat(i),e.abrupt("break",14);case 7:return c="/manga_list?type=topview&category=all&state=all&page=".concat(i),e.abrupt("break",14);case 9:return c="/manga_list?type=newest&category=all&state=all&page=".concat(i),e.abrupt("break",14);case 11:return c="/manga_list?type=newest&category=all&state=Completed&page=".concat(i),e.abrupt("break",14);case 13:return e.abrupt("return",Promise.resolve(null));case 14:return s=createRequestObject({url:fe,method:me,param:c}),e.next=17,this.requestManager.schedule(s,1);case 17:return o=e.sent,u=this.cheerio.load(o.data),l=le(u),a=de(u)?void 0:{page:i+1},e.abrupt("return",createPagedResults({results:l,metadata:a}));case 22:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"globalRequestHeaders",value:function(){var e=Object(N.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{referer:ve});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),a}(I),je=a(34),Oe=a.n(je),we={};localStorage.getItem("hentai")||window.location.search.includes("hentai")?we.NHentai=new A(Oe.a):(we.MangaKatana=new V(Oe.a),we.Guya=new ee(Oe.a),we.Mangakakalot=new ye(Oe.a));var ke=we,Me=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).initializeMobileMenu=function(){var e=document.getElementById("navMenu"),t=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);t.length>0&&t.forEach((function(t){t.addEventListener("click",(function(){t.classList.toggle("is-active"),e.classList.toggle("is-active")}))})),Array.prototype.slice.call(document.querySelectorAll(".ni"),0).forEach((function(t){t.addEventListener("click",(function(){document.querySelector(".navbar-burger").classList.remove("is-active"),e.classList.remove("is-active")}))}))},r.initializeDiscoverItems=function(){r.sources.forEach((function(e){e.getHomePageSections((function(t){t.title.startsWith(e.getSourceDetails().name)||(t.title="".concat(e.getSourceDetails().name," - ").concat(t.title)),t.source=e,t.mangaUrlizer=e.getMangaUrl,r.setState({discover:new Set(r.state.discover).add(t)})}))}))},r.componentDidMount=function(){r.initializeMobileMenu(),r.initializeDiscoverItems()},r.state={discover:new Set},r.sources=Object.values(ke),r}return Object(o.a)(a,[{key:"render",value:function(){return Object(m.jsxs)(d.a,{children:[Object(m.jsx)("nav",{className:"navbar is-dark",role:"navigation","aria-label":"main navigation",children:Object(m.jsxs)("div",{className:"container",children:[Object(m.jsxs)("div",{className:"navbar-brand",children:[Object(m.jsx)("div",{className:"navbar-item navbar-logo",children:Object(m.jsx)(d.b,{to:"/"})}),Object(m.jsxs)("a",{role:"button",className:"navbar-burger","aria-label":"menu","aria-expanded":"false",children:[Object(m.jsx)("span",{"aria-hidden":"true"}),Object(m.jsx)("span",{"aria-hidden":"true"}),Object(m.jsx)("span",{"aria-hidden":"true"})]})]}),Object(m.jsx)("div",{id:"navMenu",className:"navbar-menu",children:Object(m.jsxs)("div",{className:"navbar-start",children:[Object(m.jsx)(d.b,{className:"navbar-item ni",to:"/",children:"Discover"}),Object(m.jsx)(d.b,{className:"navbar-item ni",to:"/search",children:"Search"}),Object(m.jsx)(d.b,{className:"navbar-item ni",to:"/history",children:"History"})]})})]})}),Object(m.jsx)("div",{id:"history",children:Object(m.jsx)("div",{className:"UI HistoryView has-pinned has-history",children:Object(m.jsxs)(h.c,{children:[Object(m.jsx)(h.a,{exact:!0,path:"/",children:Object(m.jsx)(y,{discover:this.state.discover})}),Object(m.jsx)(h.a,{exact:!0,path:"/search",children:Object(m.jsx)(j,{sources:this.sources})}),Object(m.jsx)(h.a,{exact:!0,path:"/history",children:Object(m.jsx)(O,{})}),Object(m.jsx)(h.a,{children:Object(m.jsx)(w,{})})]})})})]})}}]),a}(r.Component);c.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(Me,{})}),document.getElementById("root"))},95:function(e,t,a){},96:function(e,t,a){}},[[216,1,2]]]);