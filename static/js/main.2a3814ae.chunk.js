(this["webpackJsonpcubari-proxy"]=this["webpackJsonpcubari-proxy"]||[]).push([[0],{219:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(42),i=a.n(c),s=(a(99),a(6)),o=a(9),u=a(8),l=a(7),d=a(44),p=a(10),h=a(30),g=new IntersectionObserver((function(e,t){e.forEach((function(e){e.isIntersecting&&(e.target.style.backgroundImage=e.target.dataset.backgroundImage,t.unobserve(e.target))}))})),f=a(31),m="history",v=new Event("history-changed"),b=a(2),x=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).saveToHistory=function(e){0!==e.button&&1!==e.button||function(e,t,a,r){var n=localStorage.getItem(m);n?((n=JSON.parse(n).filter((function(t){return t.identifier!==e}))).length>=20&&n.pop(),n=[{identifier:e,title:t,url:a,coverUrl:r}].concat(Object(f.a)(n))):n=[{identifier:e,title:t,url:a,coverUrl:r}],window.dispatchEvent(v),localStorage.setItem(m,JSON.stringify(n))}(r.props.mangaUrlizer(r.props.slug),r.props.mangaTitle,r.props.mangaUrlizer(r.props.slug),r.props.coverUrl)},r.componentDidMount=function(){g.observe(r.ref.current)},r.ref=n.a.createRef(),r}return Object(o.a)(a,[{key:"render",value:function(){return Object(b.jsx)("a",{ref:this.ref,href:this.props.mangaUrlizer(this.props.slug),target:"_blank",rel:"noopener noreferrer",className:"lazy-background bg-no-repeat bg-cover bg-center transform rounded-lg hover:shadow-lg shadow-md scale-95 hover:scale-100 h-80 w-52 bg-gray-600 flex flex-row flex-wrap p-2 transition duration-250 ease-in-out","data-background-image":'linear-gradient(rgba(0,0,0,0) 50%, black 95%), url("'.concat(this.props.coverUrl,'")'),onMouseDown:this.saveToHistory,children:Object(b.jsx)("div",{className:"w-full px-0 flex flex-row flex-wrap overflow-hidden",children:Object(b.jsx)("div",{className:"w-full text-gray-700 font-semibold relative pt-3 md:pt-0",children:Object(b.jsx)("div",{className:"text-l text-white absolute bottom-0 left-0",style:{textShadow:"0 0 8px black, 0 0 8px black, 0 0 8px black, 0 0 8px black"},children:this.props.mangaTitle})})})})}}]),a}(r.PureComponent),y=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"w-full h-full flex overflow-x-auto pb-1 pt-2 select-none",children:Object(b.jsx)("div",{className:"flex flex-nowrap space-x-4 mt-4 mb-4",children:this.props.children})})}}]),a}(r.PureComponent),j=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(b.jsx)("section",{className:"w-full flex-grow pt-2",children:Object(b.jsxs)("div",{className:"w-full flex-grow",children:[Object(b.jsx)("h1",{className:"text-3xl text-black dark:text-white font-semibold leading-loose",children:this.props.text}),Object(b.jsx)("h2",{className:"text-md text-gray-600 dark:text-gray-400 font-medium uppercase",children:this.props.subText})]})})}}]),a}(r.PureComponent),O=a(20),k=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"w-full flex place-content-center pt-10 pb-10",children:Object(b.jsx)(O.d,{className:"text-black dark:text-white animate-spin block h-12 w-12"})})}}]),a}(r.PureComponent),w=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"container mx-auto max-w-6xl pb-10",children:Object(b.jsx)("div",{className:"w-full h-full bg-transparent flex flex-wrap place-items-center p-3",children:this.props.children})})}}]),a}(r.PureComponent),T=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).componentDidMount=function(){e.props.setPath("Discover")},e}return Object(o.a)(a,[{key:"render",value:function(){var e=[];return this.props.discover.forEach((function(t){if(t.items&&t.items.length){var a=t.title.split(" - "),r=Object(h.a)(a,2),n=r[0],c=r[1];e.push(Object(b.jsx)(j,{text:n,subText:c},t.id+t.title+"title")),e.push(Object(b.jsx)(y,{children:t.items.map((function(e){return Object(b.jsx)(x,{mangaUrlizer:t.mangaUrlizer,slug:e.id,coverUrl:e.image,mangaTitle:e.title.text},t.id+e.id)}))},t.id+t.title+"-carousel"))}})),Object(b.jsx)(w,{children:this.props.discover.size?e:Object(b.jsx)(k,{})})}}]),a}(r.PureComponent),N=a(43),M=a(93),S=["MangaKatana","Manga4Life","Guya"],q=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).handleInput=function(e){if("Enter"===e.key){var t={title:e.target.value};r.setState({searching:!0,results:{}},(function(){r.runSearchQuery(t)}))}},r.runSearchQuery=function(e){r.props.sources.forEach((function(t){var a={source:t,query:e};r.runningQueries.add(a),t.searchRequest(e).then((function(e){var a=(e.results||[]).map((function(e){return e.mangaUrlizer=t.getMangaUrl,e.slug=e.id,e.coverUrl=e.image,e.mangaTitle=e.title.text,e}));r.setState({results:Object(M.a)(Object(N.a)({},t.getSourceDetails().name,a),r.state.results)})})).finally((function(){r.runningQueries.delete(a),r.setState({searching:!!r.runningQueries.size})}))}))},r.componentDidMount=function(){r.props.setPath("Search")},r.state={searching:void 0,results:{}},r.runningQueries=new Set,r}return Object(o.a)(a,[{key:"render",value:function(){var e=[];return Object.entries(this.state.results).forEach((function(t){var a=t[0],r=t[1];r&&r.length&&(e.push(Object(b.jsx)(j,{text:a,subText:S.includes(a)?"Recommended":void 0},"search-".concat(a))),e.push(Object(b.jsx)(y,{children:r.map((function(e){return Object(b.jsx)(x,{mangaUrlizer:e.mangaUrlizer,slug:e.id,coverUrl:e.image,mangaTitle:e.title.text},"Search-"+a.name+e.id)}))},"search-".concat(a,"-carousel"))))})),Object(b.jsxs)(w,{children:[Object(b.jsx)("input",{className:"w-full mt-8 p-4 pt-4 pb-4 text-2xl text-black bg-gray-200 dark:text-white dark:bg-gray-800 rounded-md focus:outline-none",onKeyPress:this.handleInput,type:"text",placeholder:"Search..."}),this.state.searching?Object(b.jsx)(k,{}):void 0===this.state.searching||e.length?void 0:Object(b.jsx)(j,{text:"No results.",subText:"Sorry 'bout that."},"results"),Object(b.jsx)(w,{children:e})]})}}]),a}(r.PureComponent),E=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(Boolean).join(" ")},I=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"columns is-mobile is-multiline",children:Object(b.jsx)("section",{className:"hero column is-full",children:Object(b.jsx)("div",{className:"hero-body",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h1",{className:"title",children:"404"}),Object(b.jsxs)("h2",{className:"subtitle",children:["Go home? Or visit ",Object(b.jsx)("a",{href:"https://cubari.moe/",children:"cubari.moe"}),"."]})]})})})})}}]),a}(r.PureComponent),C=a(18),R=a(1),D=a.n(R),L=a(3),A=a(4),_=a(5),G=a(60),U=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).requestManager={requestsPerSecond:2.5,requestTimeout:15e3,schedule:function(){var e=Object(A.a)(D.a.mark((function e(t,a){var r,n,c,i,s,o,u;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null!==(r=t.headers)&&void 0!==r?r:{},s=t.data,null===(n=i["content-type"])||void 0===n?void 0:n.includes("application/x-www-form-urlencoded"))for(o in s="",t.data)s&&(s+="&"),s+="".concat(o,"=").concat(t.data[o]);return e.next=5,G({url:"https://cors.bridged.cc/".concat(t.url).concat(null!==(c=t.param)&&void 0!==c?c:""),method:t.method,headers:i,data:s,timeout:this.requestTimeout||0});case 5:return u=e.sent,e.abrupt("return",Promise.resolve(createResponseObject({data:u.data,status:u.status,headers:u.headers,request:t})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},e}return a}(_.Source),P="https://nhentai.net",H={version:"2.0.2",name:"nHentai",description:"Extension which pulls 18+ content from nHentai. (Literally all of it. We know why you're here)",author:"VibrantClouds",authorWebsite:"https://github.com/conradweiser",icon:"logo.png",hentaiSource:!1,sourceTags:[{text:"18+",type:_.TagType.YELLOW}],websiteBaseURL:P},J=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"getMangaUrl",value:function(e){return"https://cubari.moe/g/".concat(e,"/")}},{key:"getSourceDetails",value:function(){return H}},{key:"convertLanguageToCode",value:function(e){switch(e.toLowerCase()){case"english":return _.LanguageCode.ENGLISH;case"japanese":return _.LanguageCode.JAPANESE;case"chinese":return _.LanguageCode.CHINEESE;default:return _.LanguageCode.UNKNOWN}}},{key:"getMangaDetails",value:function(){var e=Object(A.a)(D.a.mark((function e(t){var a,r,n,c,i,s,o,u,l,d,p,h,g,f,m,v,b,x,y,j,O,k,w,T,N,M;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=createRequestObject({url:"".concat(P,"/g/").concat(t),method:"GET"}),e.next=3,this.requestManager.schedule(o,1);case 3:u=e.sent,l=this.cheerio.load(u.data),l("[itemprop=name]"),d=null!==(a=l("[itemprop=image]").attr("content"))&&void 0!==a?a:"",p=null!==(r=l("[itemprop=name]").attr("content"))&&void 0!==r?r:"",h=[createTagSection({id:"0",label:"tag",tags:[]})],g=null!==(n=null===(c=l('meta[name="twitter:description"]').attr("content"))||void 0===c?void 0:c.split(","))&&void 0!==n?n:[],h[0].tags=g.map((function(e){return createTag({id:e.trim(),label:e.trim()})})),p=p.replace(/(\[.+?\])/g,"").trim(),f=[p],m=l("#info"),v=null!==(i=l("h1",m).text())&&void 0!==i?i:"",b=null!==(s=l("h2",m).text())&&void 0!==s?s:"",v&&f.push(v.trim()),b&&f.push(b.trim()),x=l("#info-block"),y="","",j=Object(L.a)(l(".tag-container",x).toArray());try{for(j.s();!(O=j.n()).done;)k=O.value,l(k).text().indexOf("Artists")>-1?(w=l("a",k).text(),y=w.substring(0,w.search(/\d/))):l(k).text().indexOf("Languages")>-1&&((T=l("a",k)).toArray().length>1?(N=l(T.toArray()[1]).text(),N.substring(0,N.indexOf(" ("))):(M=T.text(),M.substring(0,M.indexOf(" ("))))}catch(S){j.e(S)}finally{j.f()}return 1,!0,e.abrupt("return",createManga({id:t,titles:f,image:d,rating:0,status:1,artist:y,tags:h,hentai:!1}));case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapters",value:function(){var e=Object(A.a)(D.a.mark((function e(t){var a,r,n,c,i,s,o,u,l,d,p,h,g;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=createRequestObject({url:"".concat(P,"/g/").concat(t),method:"GET"}),e.next=3,this.requestManager.schedule(n,1);case 3:c=e.sent,i=this.cheerio.load(c.data),s=[],o=null!==(a=i("[itemprop=name]").attr("content"))&&void 0!==a?a:"",u=new Date(null!==(r=i("time").attr("datetime"))&&void 0!==r?r:""),o=o.replace(/(\[.+?\])/g,"").trim(),l=_.LanguageCode.UNKNOWN,d=Object(L.a)(i(".tag-container").toArray()),e.prev=11,d.s();case 13:if((p=d.n()).done){e.next=32;break}if(h=p.value,!(i(h).text().indexOf("Languages")>-1)){e.next=30;break}if(!(g=i("span",h).text()).includes("japanese")){e.next=22;break}return l=_.LanguageCode.JAPANESE,e.abrupt("break",32);case 22:if(!g.includes("english")){e.next=27;break}return l=_.LanguageCode.ENGLISH,e.abrupt("break",32);case 27:if(!g.includes("chinese")){e.next=30;break}return l=_.LanguageCode.CHINEESE,e.abrupt("break",32);case 30:e.next=13;break;case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(11),d.e(e.t0);case 37:return e.prev=37,d.f(),e.finish(37);case 40:return s.push(createChapter({id:"1",mangaId:t,name:o,chapNum:1,time:u,langCode:l})),e.abrupt("return",s);case 42:case"end":return e.stop()}}),e,this,[[11,34,37,40]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapterDetails",value:function(){var e=Object(A.a)(D.a.mark((function e(t,a){var r,n,c,i,s,o,u,l,d,p,h,g,f,m;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=createRequestObject({url:"".concat(P,"/g/").concat(t),method:"GET"}),e.next=3,this.requestManager.schedule(r,1);case 3:n=e.sent,c=this.cheerio.load(n.data),i=[],s=c("#thumbnail-container"),c(".thumb-container",s).length,o=c("img",s).attr("data-src"),u=parseInt(null===o||void 0===o?void 0:o.match(/.*\/(\d*)\//)[1]),l=1,d=Object(L.a)(c(c("img",".thumb-container")).toArray());try{for(d.s();!(p=d.n()).done;)g=p.value,f=null===(h=c(g).attr("data-src"))||void 0===h?void 0:h.match(/\.([png|jpg]{3,3})/g)[0],i.push("https://i.nhentai.net/galleries/".concat(u,"/").concat(l).concat(f)),l++}catch(v){d.e(v)}finally{d.f()}return m=createChapterDetails({id:a,mangaId:t,pages:i,longStrip:!1}),e.abrupt("return",m);case 15:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"searchRequest",value:function(){var e=Object(A.a)(D.a.mark((function e(t,a){var r,n,c,i,s,o,u,l,d,p,h,g,f,m,v,b,x,y,j,O,k,w,T,N,M;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null!==(r=a)&&void 0!==r?r:{},i=null!==(n=a.page)&&void 0!==n?n:1,s=!1,!1!==t.hStatus&&t.title){e.next=5;break}return e.abrupt("return",createPagedResults({results:[]}));case 5:return o=void 0,(null===(c=t.title)||void 0===c?void 0:c.match(/\d{5,6}/))?(o=createRequestObject({url:"".concat(P,"/g/").concat(t.title),method:"GET"}),s=!0):(t.title=null===(u=t.title)||void 0===u?void 0:u.trim(),t.title=t.title.replace(/ /g,"+")+"+",o=createRequestObject({url:"".concat(P,"/search/?q=").concat(t.title,"&page=").concat(i),method:"GET"}),s=!1),e.next=9,this.requestManager.schedule(o,1);case 9:if(l=e.sent,d=this.cheerio.load(l.data),p=[],!s){e.next=20;break}return f=d("#bigcontainer"),m=d("a",f).attr("href"),v=parseInt(null===m||void 0===m?void 0:m.match(/g\/(\d*)\/\d/)[1]),b=(b=null!==(h=d("[itemprop=name]").attr("content"))&&void 0!==h?h:"").replace(/(\[.+?\])/g,"").trim(),p.push(createMangaTile({id:v.toString(),title:createIconText({text:b}),image:null!==(g=d("[itemprop=image]").attr("content"))&&void 0!==g?g:""})),e.abrupt("return",createPagedResults({results:p}));case 20:x=d(".index-container"),y=Object(L.a)(d(".gallery",x).toArray());try{for(y.s();!(j=y.n()).done;)k=j.value,w=d(k),void 0==(T=d("img",w).attr("data-src"))&&(T="http:"+d("img",w).attr("src")),N=d(".caption",w).text(),M=null===(O=d("a",w).attr("href"))||void 0===O?void 0:O.match(/\/(\d*)\//),N=N.replace(/(\[.+?\])/g,"").trim(),p.push(createMangaTile({id:M[1],title:createIconText({text:N}),image:T}))}catch(S){y.e(S)}finally{y.f()}return d("a.last")?a.page=++i:a=void 0,e.abrupt("return",createPagedResults({results:p,metadata:a}));case 25:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getHomePageSections",value:function(){var e=Object(A.a)(D.a.mark((function e(t){var a,r,n,c,i,s,o,u,l,d,p,h,g,f,m,v,b,x,y,j,O,k,w,T;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createHomeSection({id:"popular",title:"Popular Now"}),r=createHomeSection({id:"new",title:"New Uploads",view_more:!0}),t(a),t(r),n=createRequestObject({url:"".concat(P),method:"GET"}),e.next=7,this.requestManager.schedule(n,1);case 7:c=e.sent,i=[],s=[],o=this.cheerio.load(c.data),u=o(".index-container").first(),l=Object(L.a)(o(".gallery",u).toArray());try{for(l.s();!(d=l.n()).done;)h=d.value,g=o(h),void 0==(f=o("img",g).attr("data-src"))&&(f="http:"+o("img",g).attr("src")),m=(m=o(".caption",g).text()).replace(/(\[.+?\])/g,"").trim(),v=null===(p=o("a",g).attr("href"))||void 0===p?void 0:p.match(/\/(\d*)\//),i.push(createMangaTile({id:v[1],title:createIconText({text:m}),image:f}))}catch(N){l.e(N)}finally{l.f()}a.items=i,t(a),u=o(".index-container").last(),b=Object(L.a)(o(".gallery",u).toArray());try{for(b.s();!(x=b.n()).done;)j=x.value,O=o(j),void 0==(k=o("img",O).attr("data-src"))&&(k="http:"+o("img",O).attr("src")),w=(w=o(".caption",O).text()).replace(/(\[.+?\])/g,"").trim(),T=null===(y=o("a",O).attr("href"))||void 0===y?void 0:y.match(/\/(\d*)\//),s.push(createMangaTile({id:T[1],title:createIconText({text:w}),image:k}))}catch(N){b.e(N)}finally{b.f()}r.items=s,t(r);case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getViewMoreItems",value:function(){var e=Object(A.a)(D.a.mark((function e(t,a){var r,n,c,i,s,o,u,l,d,p,h,g,f,m,v,b;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null!==(r=a)&&void 0!==r?r:{},c=null!==(n=a.page)&&void 0!==n?n:1,i=createRequestObject({url:"".concat(P,"/?page=").concat(c),method:"GET"}),e.next=5,this.requestManager.schedule(i,1);case 5:s=e.sent,o=this.cheerio.load(s.data),u=[],l=o(".index-container"),d=Object(L.a)(o(".gallery",l).toArray());try{for(d.s();!(p=d.n()).done;)g=p.value,f=o(g),void 0==(m=o("img",f).attr("data-src"))&&(m="http:"+o("img",f).attr("src")),v=(v=o(".caption",f).text()).replace(/(\[.+?\])/g,"").trim(),b=null===(h=o("a",f).attr("href"))||void 0===h?void 0:h.match(/\/(\d*)\//),u.push(createMangaTile({id:b[1],title:createIconText({text:v}),image:m}))}catch(t){d.e(t)}finally{d.f()}return o("a.last")?a.page=++c:a=void 0,e.abrupt("return",createPagedResults({results:u,metadata:a}));case 13:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),a}(U),z=function(e,t){var a,r=e("h1.heading").first().text().trim(),n=[];n.push(r),e("div.alt_name").text().trim().replace(" ","").split(";").forEach((function(e){n.push(e)}));var c=null!==(a=e("div.media div.cover img").attr("src"))&&void 0!==a?a:"",i=e(".author").text().trim(),s=e(".summary > p").text().trim(),o=e(".value.status").text().trim(),u=!1,l=[];e(".genres > a").each((function(t,a){var r,n,c=e(a).text().trim(),i=null!==(r=null===(n=e(a).attr("href"))||void 0===n?void 0:n.split("genre/")[1])&&void 0!==r?r:"";["Adult","Smut","Mature"].includes(c)&&(u=!0),l.push({id:i,label:c})}));var d=[createTagSection({id:"0",label:"genres",tags:l.map((function(e){return createTag(e)}))})],p=_.MangaStatus.ONGOING;switch(o){case"Ongoing":p=_.MangaStatus.ONGOING;break;case"Completed":p=_.MangaStatus.COMPLETED;break;default:p=_.MangaStatus.ONGOING}return createManga({id:t,titles:n,image:c,rating:0,status:p,author:i,artist:"",tags:d,desc:s,hentai:u})},B=function(e,t){var a,r=[],n=new RegExp("c([0-9.]+)"),c=Object(L.a)(e("tr:has(.chapter)").toArray());try{for(c.s();!(a=c.n()).done;){var i,s,o,u=a.value,l=e("a",u).text(),d=new Date(null!==(i=e(".update_time",u).text())&&void 0!==i?i:""),p=null!==(s=null===(o=e("a",u).attr("href"))||void 0===o?void 0:o.split("/").pop())&&void 0!==s?s:"",h=Number("0"+p.match(n)[1]);isNaN(h)||r.push(createChapter({id:p,mangaId:t,name:l,langCode:_.LanguageCode.ENGLISH,chapNum:h,time:d}))}}catch(g){c.e(g)}finally{c.f()}return r},W=function(e,t,a){var r,n=[],c=RegExp("var ytaw=\\[([^\\[]*)]"),i=Object(L.a)(e("script").toArray());try{for(i.s();!(r=i.n()).done;){var s,o=null===(s=r.value.children[0])||void 0===s?void 0:s.data;if("undefined"!==typeof o&&o.includes("var ytaw=")){var u,l=o.match(c)[1].replace(/''?/g,"").split(","),d=Object(L.a)(l);try{for(d.s();!(u=d.n()).done;){var p=u.value;""!==p&&n.push(p)}}catch(h){d.e(h)}finally{d.f()}}}}catch(h){i.e(h)}finally{i.f()}return createChapterDetails({id:a,mangaId:t,pages:n,longStrip:!1})},F=function(e){var t,a=[createTagSection({id:"0",label:"genres",tags:[]})],r=Object(L.a)(e(".wrap_item").toArray());try{for(r.s();!(t=r.n()).done;){var n,c,i=t.value,s=e("a",i).first().text().trim(),o=null!==(n=null===(c=e("a",i).attr("href"))||void 0===c?void 0:c.split("genre/")[1])&&void 0!==n?n:"";a[0].tags.push(createTag({id:o,label:s}))}}catch(u){r.e(u)}finally{r.f()}return a},K=function(e,t,a){var r,n=[],c=!0,i=Object(L.a)(e("div.item","div#book_list").toArray());try{for(i.s();!(r=i.n()).done;){var s,o,u=r.value,l=null!==(s=null===(o=e("a",u).attr("href"))||void 0===o?void 0:o.split("/").pop())&&void 0!==s?s:"";new Date(e(".update_time",u).first().text())>t?a.includes(l)&&n.push(l):c=!1}}catch(d){i.e(d)}finally{i.f()}return{ids:n,loadMore:c}},V=function(e,t,a){var r,n=Object(L.a)(t);try{for(n.s();!(r=n.n()).done;){a(r.value)}}catch(H){n.e(H)}finally{n.f()}var c,i=[],s=Object(L.a)(e("div.item","div#hot_update").toArray());try{for(s.s();!(c=s.n()).done;){var o,u,l,d=c.value,p=e(".title",d).text().trim(),h=null!==(o=null===(u=e("a",d).attr("href"))||void 0===u?void 0:u.split("/").pop())&&void 0!==o?o:"",g=null!==(l=e("img",d).first().attr("src"))&&void 0!==l?l:"",f=e(".chapter",d).first().text().trim();h&&p&&i.push(createMangaTile({id:h,image:g,title:createIconText({text:p}),subtitleText:createIconText({text:f})}))}}catch(H){s.e(H)}finally{s.f()}t[0].items=i,a(t[0]);var m,v=[],b=Object(L.a)(e("div.item","div#hot_book").toArray());try{for(b.s();!(m=b.n()).done;){var x,y,j,O=m.value,k=e(".title",O).text().trim(),w=null!==(x=null===(y=e("a",O).attr("href"))||void 0===y?void 0:y.split("/").pop())&&void 0!==x?x:"",T=null!==(j=e("img",O).attr("data-src"))&&void 0!==j?j:"",N=e(".chapter",O).first().text().trim();w&&k&&v.push(createMangaTile({id:w,image:T,title:createIconText({text:k}),subtitleText:createIconText({text:N})}))}}catch(H){b.e(H)}finally{b.f()}t[1].items=v,a(t[1]);var M,S=[],q=Object(L.a)(e("div.item","div#book_list").toArray());try{for(q.s();!(M=q.n()).done;){var E,I,C,R=M.value,D=e(".title",R).text().trim(),A=null!==(E=null===(I=e("a",R).attr("href"))||void 0===I?void 0:I.split("/").pop())&&void 0!==E?E:"",_=null!==(C=e("img",R).first().attr("src"))&&void 0!==C?C:"",G=e(".chapter",R).first().text().trim();A&&D&&S.push(createMangaTile({id:A,image:_,title:createIconText({text:D}),subtitleText:createIconText({text:G})}))}}catch(H){q.e(H)}finally{q.f()}t[2].items=S,a(t[2]);var U,P=Object(L.a)(t);try{for(P.s();!(U=P.n()).done;){a(U.value)}}catch(H){P.e(H)}finally{P.f()}},Q=function(e){var t,a;return null!==(t=null===(a=e.title)||void 0===a?void 0:a.replace(" ","+"))&&void 0!==t?t:""},$=function(e){var t=[];try{var a;if(null===(a=e('meta[property="$=url"]').attr("content"))||void 0===a?void 0:a.includes("/manga/")){var r,n,c,i,s,o=null!==(r=e("h1.heading").first().text().trim())&&void 0!==r?r:"",u=null!==(n=null===(c=e('meta[property$=url]"]').attr("content"))||void 0===c||null===(i=c.split("/"))||void 0===i?void 0:i.pop())&&void 0!==n?n:"",l=null!==(s=e("div.media div.cover img").attr("src"))&&void 0!==s?s:"";u&&o&&t.push(createMangaTile({id:u,image:l,title:createIconText({text:o})}))}else{var d,p=[],h=Object(L.a)(e("div.item","#book_list").toArray());try{for(h.s();!(d=h.n()).done;){var g,f,m,v=d.value,b=e(".title a",v).text().trim(),x=null!==(g=null===(f=e("a",v).attr("href"))||void 0===f?void 0:f.split("/").pop())&&void 0!==g?g:"",y=null!==(m=e("img",v).attr("src"))&&void 0!==m?m:"",j=e(".chapter",v).first().text().trim();!p.includes(x)&&x&&b&&(t.push(createMangaTile({id:x,image:y,title:createIconText({text:b}),subtitleText:createIconText({text:j})})),p.push(x))}}catch(O){h.e(O)}finally{h.f()}}}catch(k){console.log(k)}return t},Y=function(e,t){var a,r=[],n=Object(L.a)(e("div.item","div#book_list").toArray());try{for(n.s();!(a=n.n()).done;){var c,i,s,o=a.value,u=e(".title a",o).text().trim(),l=null!==(c=null===(i=e("a",o).attr("href"))||void 0===i?void 0:i.split("/").pop())&&void 0!==c?c:"",d=null!==(s=e("img",o).attr("src"))&&void 0!==s?s:"",p=e(".chapter",o).first().text().trim();l&&u&&r.push(createMangaTile({id:l,image:d,title:createIconText({text:u}),subtitleText:createIconText({text:p})}))}}catch(h){n.e(h)}finally{n.f()}return r},Z=function(e){var t=!0;return Boolean(e("a.next.page-numbers","ul.uk-pagination").text())&&(t=!1),t},X="https://mangakatana.com",ee="GET",te={"content-type":"application/x-www-form-urlencoded"},ae={version:"1.0.6",name:"MangaKatana",icon:"icon.png",author:"Netsky",authorWebsite:"https://github.com/TheNetsky",description:"Extension that pulls manga from MangaKatana.",hentaiSource:!1,websiteBaseURL:X,sourceTags:[{text:"Notifications",type:_.TagType.GREEN}]},re=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"getMangaUrl",value:function(e){return"https://cubari.moe/mk/".concat(X,"/manga/").concat(e)}},{key:"getSourceDetails",value:function(){return ae}},{key:"getMangaShareUrl",value:function(e){return"".concat(X,"/manga/").concat(e)}},{key:"getMangaDetails",value:function(){var e=Object(A.a)(D.a.mark((function e(t){var a,r,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({url:"".concat(X,"/manga/"),method:ee,param:t}),e.next=3,this.requestManager.schedule(a,1);case 3:return r=e.sent,n=this.cheerio.load(r.data),e.abrupt("return",z(n,t));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapters",value:function(){var e=Object(A.a)(D.a.mark((function e(t){var a,r,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({url:"".concat(X,"/manga/"),method:ee,param:t}),e.next=3,this.requestManager.schedule(a,1);case 3:return r=e.sent,n=this.cheerio.load(r.data),e.abrupt("return",B(n,t));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapterDetails",value:function(){var e=Object(A.a)(D.a.mark((function e(t,a){var r,n,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=createRequestObject({url:"".concat(X,"/manga/").concat(t,"/").concat(a),method:ee}),e.next=3,this.requestManager.schedule(r,1);case 3:return n=e.sent,c=this.cheerio.load(n.data,{xmlMode:!1}),e.abrupt("return",W(c,t,a));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getTags",value:function(){var e=Object(A.a)(D.a.mark((function e(){var t,a,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=createRequestObject({url:"".concat(X,"/genres"),method:ee}),e.next=3,this.requestManager.schedule(t,1);case 3:return a=e.sent,r=this.cheerio.load(a.data),e.abrupt("return",F(r));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"filterUpdatedManga",value:function(){var e=Object(A.a)(D.a.mark((function e(t,a,r){var n,c,i,s,o;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=1,c={ids:[],loadMore:!0};case 2:if(!c.loadMore){e.next=12;break}return i=createRequestObject({url:"".concat(X,"/latest/page/").concat(n++),method:ee}),e.next=6,this.requestManager.schedule(i,1);case 6:s=e.sent,o=this.cheerio.load(s.data),(c=K(o,a,r)).ids.length>0&&t(createMangaUpdates({ids:c.ids})),e.next=2;break;case 12:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"getHomePageSections",value:function(){var e=Object(A.a)(D.a.mark((function e(t){var a,r,n,c,i,s,o;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createHomeSection({id:"hot_update",title:"Hot Updates"}),r=createHomeSection({id:"hot_manga",title:"Hot Manga",view_more:!0}),n=createHomeSection({id:"latest_updates",title:"Latest Updates",view_more:!0}),c=[a,r,n],i=createRequestObject({url:X,method:ee}),e.next=7,this.requestManager.schedule(i,1);case 7:s=e.sent,o=this.cheerio.load(s.data),V(o,c,t);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getViewMoreItems",value:function(){var e=Object(A.a)(D.a.mark((function e(t,a){var r,n,c,i,s,o,u,l;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=null!==(r=null===(n=a)||void 0===n?void 0:n.page)&&void 0!==r?r:1,i="",e.t0=t,e.next="hot_manga"===e.t0?5:"latest_updates"===e.t0?7:9;break;case 5:return i="/new-manga/page/".concat(c),e.abrupt("break",11);case 7:return i="/latest/page/".concat(c),e.abrupt("break",11);case 9:return e.abrupt("return",Promise.resolve(null));case 11:return s=createRequestObject({url:"".concat(X),method:ee,param:i}),e.next=14,this.requestManager.schedule(s,1);case 14:return o=e.sent,u=this.cheerio.load(o.data),l=Y(u),a=Z(u)?void 0:{page:c+1},e.abrupt("return",createPagedResults({results:l,metadata:a}));case 19:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"searchRequest",value:function(){var e=Object(A.a)(D.a.mark((function e(t,a){var r,n,c,i,s,o,u,l;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=null!==(r=null===(n=a)||void 0===n?void 0:n.page)&&void 0!==r?r:1,i=Q(t),s=createRequestObject({url:X,method:ee,headers:te,param:"/page/".concat(c,"?search=").concat(i,"&search_by=book_name")}),e.next=5,this.requestManager.schedule(s,1);case 5:return o=e.sent,u=this.cheerio.load(o.data),l=$(u),a=Z(u)?void 0:{page:c+1},e.abrupt("return",createPagedResults({results:l,metadata:a}));case 10:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),a}(U),ne="https://guya.moe",ce="".concat(ne,"/api/series"),ie="".concat(ne,"/api/get_all_series/"),se={version:"1.1.1",name:"Guya",icon:"icon.png",author:"funkyhippo",authorWebsite:"https://github.com/funkyhippo",description:"Extension that pulls manga from guya.moe",language:"en",hentaiSource:!1,websiteBaseURL:ne},oe=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"getSourceDetails",value:function(){return se}},{key:"getMangaUrl",value:function(e){return"https://guya.moe/read/manga/".concat(e,"/")}},{key:"getMangaDetails",value:function(){var e=Object(A.a)(D.a.mark((function e(t){var a,r,n,c,i,s;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({metadata:{mangaId:t},url:ie,method:"GET"}),e.next=3,this.requestManager.schedule(a,1);case 3:for(i in r=e.sent,n="string"===typeof r.data?JSON.parse(r.data):r.data,c=[],n)s=n[i],t.includes(s.slug)&&c.push(createManga({id:s.slug,titles:[i],image:"".concat(ne,"/").concat(s.cover),rating:5,status:_.MangaStatus.ONGOING,artist:s.artist,author:s.author,desc:s.description}));return e.abrupt("return",c[0]);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapters",value:function(){var e=Object(A.a)(D.a.mark((function e(t){var a,r,n,c,i,s,o,u,l;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({metadata:{mangaId:t},url:"".concat(ce,"/").concat(t,"/"),method:"GET"}),e.next=3,this.requestManager.schedule(a,1);case 3:for(o in r=e.sent,n="string"===typeof r.data?JSON.parse(r.data):r.data,c=n.chapters,i=n.groups,s=[],c)for(l in(u=c[o]).groups)s.push(createChapter({id:"".concat(o).concat("|").concat(l),mangaId:t,chapNum:Number(o),langCode:_.LanguageCode.ENGLISH,name:u.title,volume:u.volume,group:i[l],time:new Date(1e3*Number(u.release_date[l]))}));return e.abrupt("return",s);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapterDetails",value:function(){var e=Object(A.a)(D.a.mark((function e(t,a){var r,n,c,i,s,o,u,l;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=createRequestObject({url:"".concat(ce,"/").concat(t,"/"),method:"GET"}),e.next=3,this.requestManager.schedule(r,1);case 3:return n=e.sent,c="string"===typeof n.data?JSON.parse(n.data):n.data,i=c.chapters,s=a.split("|"),o=Object(h.a)(s,2),u=o[0],l=o[1],e.abrupt("return",createChapterDetails({id:a,longStrip:!1,mangaId:t,pages:i[u].groups[l].map((function(e){return"".concat(ne,"/media/manga/").concat(t,"/chapters/").concat(i[u].folder,"/").concat(l,"/").concat(e)}))}));case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"searchRequest",value:function(){var e=Object(A.a)(D.a.mark((function e(t,a){var r,n,c,i,s,o,u;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=createRequestObject({url:ie,method:"GET"}),e.next=3,this.requestManager.schedule(n,1);case 3:return c=e.sent,i="string"===typeof c.data?JSON.parse(c.data):c.data,s=null!==(r=t.title)&&void 0!==r?r:"",o=Object.keys(i).filter((function(e){return e.toLowerCase().includes(s.toLowerCase())})),u=o.map((function(e){var t=i[e];return createMangaTile({id:t.slug,image:"".concat(ne,"/").concat(t.cover),title:createIconText({text:e})})})),e.abrupt("return",createPagedResults({results:u}));case 9:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getHomePageSections",value:function(){var e=Object(A.a)(D.a.mark((function e(t){var a,r,n,c,i,s,o;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createHomeSection({id:"all_guya",title:"ALL GUYA"}),t(a),r=createRequestObject({url:ie,method:"GET"}),e.next=5,this.requestManager.schedule(r,1);case 5:for(s in n=e.sent,c="string"===typeof n.data?JSON.parse(n.data):n.data,i=[],c)o=c[s],i.push(createMangaTile({id:o.slug,image:"".concat(ne,"/").concat(o.cover),title:createIconText({text:s})}));a.items=i,t(a);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"filterUpdatedManga",value:function(){var e=Object(A.a)(D.a.mark((function e(t,a,r){var n,c,i,s,o,u;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=createRequestObject({url:ie,method:"GET"}),e.next=3,this.requestManager.schedule(n,1);case 3:for(o in c=e.sent,i="string"===typeof c.data?JSON.parse(c.data):c.data,s=[],i)u=i[o],new Date(1e3*u.last_updated)>=a&&r.includes(o)&&s.push(o);t(createMangaUpdates({ids:s}));case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"getMangaShareUrl",value:function(e){return"".concat(ne,"/read/manga/").concat(e,"/")}}]),a}(U),ue=function(e,t){var a,r,n,c,i=e(".manga-info-top"),s=null!==(a=e("h1",i).first().text())&&void 0!==a?a:"",o=null!==(r=e(".manga-info-pic",i).children().first().attr("src"))&&void 0!==r?r:"",u=e(".manga-info-text",i),l="",d=e(".manga-info-text li:nth-child(2)").text().replace("Author(s) :","").replace(/\r?\n|\r/g,"").split(", ");d[d.length-1]=null===(n=d[d.length-1])||void 0===n?void 0:n.replace(", ",""),c=d[0],d.length>1&&" "!==e(d[1]).text()&&(l=d[1]);var p=Number(e("#rate_row_cmd",u).text().replace("Mangakakalot.com rate : ","").slice(e("#rate_row_cmd",u).text().indexOf("Mangakakalot.com rate : "),e("#rate_row_cmd",u).text().indexOf(" / 5"))),h="Ongoing"===e(".manga-info-text li:nth-child(3)").text().split(" ").pop()?_.MangaStatus.ONGOING:_.MangaStatus.COMPLETED,g=[s],f=Number(e("#rate_row_cmd",u).text().replace(" votes","").split(" ").pop()),m=Number(e(".manga-info-text li:nth-child(6)").text().replace(/,/g,"").replace("View : ","")),v=[createTagSection({id:"0",label:"genres",tags:[]})],b=e(".manga-info-text li:nth-child(7)").find("a").toArray(),x=[];x=Array.from(b,(function(t){return e(t).text()})),v[0].tags=x.map((function(e){return createTag({id:e,label:e})}));var y,j=Object(L.a)(e("li",u).toArray());try{for(j.s();!(y=j.n()).done;){var O=y.value;if(e(O).find(".story-alternative").length>0){var k,w=e("h2",u).text().replace("Alternative : ","").split(/,|;/),T=Object(L.a)(w);try{for(T.s();!(k=T.n()).done;){var N=k.value;g.push(N.trim())}}catch(q){T.e(q)}finally{T.f()}}}}catch(q){j.e(q)}finally{j.f()}var M=new Date(e(".manga-info-text li:nth-child(4)").text().replace(/((AM)*(PM)*)/g,"").replace("Last updated : ","")).toDateString(),S=e("#noidungm",e(".leftCol")).clone().children().remove().end().text().replace(/^\s+|\s+$/g,"");return createManga({id:t,titles:g,image:o,rating:Number(p),status:h,artist:l,author:c,tags:v,views:m,follows:f,lastUpdate:M,desc:S,hentai:!1})},le=function(e,t){var a,r=e(".chapter-list",".leftCol"),n=[],c=Object(L.a)(e(".row",r).toArray());try{for(c.s();!(a=c.n()).done;){var i,s,o,u=a.value,l=null!==(i=e("a",u).attr("href"))&&void 0!==i?i:"",d=null!==(s=e("a",u).text())&&void 0!==s?s:"",p=Number(l.split("_").pop()),h=new Date(null!==(o=e("span:nth-child(3)",u).attr("title"))&&void 0!==o?o:"");n.push(createChapter({id:l,mangaId:t,name:d,langCode:_.LanguageCode.ENGLISH,chapNum:p,time:h}))}}catch(g){c.e(g)}finally{c.f()}return n},de=function(e,t,a){var r,n=[],c=e("img",".container-chapter-reader").toArray(),i=Object(L.a)(c);try{for(i.s();!(r=i.n()).done;){var s=e(r.value).attr("src");"undefined"!==typeof s&&n.push(s)}}catch(o){i.e(o)}finally{i.f()}return createChapterDetails({id:a,mangaId:t,pages:n,longStrip:!1})},pe=function(e,t,a){var r,n=Object(L.a)(t);try{for(n.s();!(r=n.n()).done;){a(r.value)}}catch(j){n.e(j)}finally{n.f()}var c,i=[],s=[],o=Object(L.a)(e(".item",".owl-carousel").toArray());try{for(o.s();!(c=o.n()).done;){var u=c.value,l=e("a",u).first().attr("href"),d=e("img",u).attr("src"),p=e("div.slide-caption",u).children().first().text(),h=e("div.slide-caption",u).children().last().text();"undefined"!==typeof l&&"undefined"!==typeof d&&i.push(createMangaTile({id:l,image:d,title:createIconText({text:p}),subtitleText:createIconText({text:h})}))}}catch(j){o.e(j)}finally{o.f()}var g,f=Object(L.a)(e(".first",".doreamon").toArray());try{for(f.s();!(g=f.n()).done;){var m=g.value,v=e("a",m).first().attr("href"),b=e("img",m).attr("src");"undefined"!==typeof v&&"undefined"!==typeof b&&s.push(createMangaTile({id:v,image:b,title:createIconText({text:e("h3",m).text()}),subtitleText:createIconText({text:e(".sts_1",m).first().text()})}))}}catch(j){f.e(j)}finally{f.f()}t[0].items=i,t[1].items=s;var x,y=Object(L.a)(t);try{for(y.s();!(x=y.n()).done;){a(x.value)}}catch(j){y.e(j)}finally{y.f()}},he=function(e,t,a){var r,n=Object(L.a)(t);try{for(n.s();!(r=n.n()).done;){a(r.value)}}catch(s){n.e(s)}finally{n.f()}t[0].items=ge(e);var c,i=Object(L.a)(t);try{for(i.s();!(c=i.n()).done;){a(c.value)}}catch(s){i.e(s)}finally{i.f()}},ge=function(e){var t,a=[],r=e(".truyen-list"),n=Object(L.a)(e(".list-truyen-item-wrap",r).toArray());try{for(n.s();!(t=n.n()).done;){var c,i,s=t.value,o=e("a",s).first().attr("href"),u=e("img",s).first().attr("src"),l=null!==(c=e("a",s).first().attr("title"))&&void 0!==c?c:"",d=null!==(i=e(".list-story-item-wrap-chapter",s).attr("title"))&&void 0!==i?i:"";"undefined"!==typeof o&&"undefined"!==typeof u&&a.push(createMangaTile({id:o,image:u,title:createIconText({text:l}),subtitleText:createIconText({text:d})}))}}catch(p){n.e(p)}finally{n.f()}return a},fe=function(e){var t,a,r=(null!==(t=e.title)&&void 0!==t?t:"").replace(/ /g,"_");return e.author&&(r+=(null!==(a=e.author)&&void 0!==a?a:"").replace(/ /g,"_")),"".concat(r)},me=function(e){var t,a=[],r=e(".panel_story_list"),n=e(".story_item",r).toArray(),c=Object(L.a)(n);try{for(c.s();!(t=c.n()).done;){var i,s,o=t.value,u=null!==(i=e("a",o).first().attr("href"))&&void 0!==i?i:"",l=e(".story_name",o).children().first().text(),d=e(".story_chapter",o).first().text().trim(),p=null!==(s=e("img",o).attr("src"))&&void 0!==s?s:"",h=new Date(e(".story_item_right span:nth-child(5)",o).text().replace(/((AM)*(PM)*)/g,"").replace("Updated : ","")).toDateString();a.push(createMangaTile({id:u,image:p,title:createIconText({text:l}),subtitleText:createIconText({text:d}),secondaryText:createIconText({text:h,icon:"clock.fill"})}))}}catch(g){c.e(g)}finally{c.f()}return a},ve=function(e){var t,a=e(".panel-category").find("a").clone().remove(".ctg-select").toArray(),r=createTagSection({id:"genre",label:"Genre",tags:[]}),n=Object(L.a)(a);try{for(n.s();!(t=n.n()).done;){var c=e(t.value).text();r.tags.push(createTag({id:c,label:c}))}}catch(i){n.e(i)}finally{n.f()}return[r]},be=function(e){return ge(e)},xe=function(e){var t,a=e(".page_select").text(),r=e(".page_last").text();return!a||+(r=(null!==(t=/(\d+)/g.exec(r))&&void 0!==t?t:[""])[0])===+a},ye=function(e,t){var a,r,n,c,i,s=e(".panel-story-info"),o=null!==(a=e(".img-loading",s).attr("title"))&&void 0!==a?a:"",u=null!==(r=e(".img-loading",s).attr("src"))&&void 0!==r?r:"",l=e(".variations-tableInfo",s),d="",p="",h=_.MangaStatus.ONGOING,g=[o],f=0,m="",v=[createTagSection({id:"0",label:"genres",tags:[]})],b=Object(L.a)(e("tr",l).toArray());try{for(b.s();!(i=b.n()).done;){var x=i.value;if(e(x).find(".info-alternative").length>0){var y,j=e("h2",l).text().split(/,|;/),O=Object(L.a)(j);try{for(O.s();!(y=O.n()).done;){var k=y.value;g.push(k.trim())}}catch(D){O.e(D)}finally{O.f()}}else if(e(x).find(".info-author").length>0){var w=e(".table-value",x).find("a").toArray();d=e(w[0]).text(),w.length>1&&(p=e(w[1]).text())}else if(e(x).find(".info-status").length>0)h="Ongoing"===e(".table-value",x).text()?_.MangaStatus.ONGOING:_.MangaStatus.COMPLETED;else if(e(x).find(".info-genres").length>0){var T,N=e(".table-value",x).find("a").toArray(),M=[],S=Object(L.a)(N);try{for(S.s();!(T=S.n()).done;){var q=e(T.value).text();M.push(q)}}catch(D){S.e(D)}finally{S.f()}}}}catch(D){b.e(D)}finally{b.f()}l=e(".story-info-right-extent",s);var E,I=Object(L.a)(e("p",l).toArray());try{for(I.s();!(E=I.n()).done;){var C=E.value;if(e(C).find(".info-time").length>0)m=new Date(e(".stre-value",C).text().replace(/(-*(AM)*(PM)*)/g,"")).toDateString();else e(C).find(".info-view").length>0&&(f=Number(e(".stre-value",C).text().replace(/,/g,"")))}}catch(D){I.e(D)}finally{I.f()}n=Number(e("[property=v\\:average]",l).text()),c=Number(e("[property=v\\:votes]",l).text());var R=e(".panel-story-info-description",s).text();return createManga({id:t,titles:g,image:u,rating:Number(n),status:h,artist:p,author:d,tags:v,views:f,follows:c,lastUpdate:m,desc:R,hentai:!1})},je=function(e,t){var a,r=e(".row-content-chapter",".body-site"),n=[],c=Object(L.a)(e("li",r).toArray());try{for(c.s();!(a=c.n()).done;){var i,s,o,u,l,d=a.value,p=null!==(i=e("a",d).attr("href"))&&void 0!==i?i:"",h=null!==(s=e("a",d).text())&&void 0!==s?s:"",g=Number(null!==(o=(null!==(u=/Chapter (\d*)/g.exec(h))&&void 0!==u?u:[])[1])&&void 0!==o?o:""),f=new Date(null!==(l=e(".chapter-time",d).attr("title"))&&void 0!==l?l:"");n.push(createChapter({id:p,mangaId:t,name:h,langCode:_.LanguageCode.ENGLISH,chapNum:g,time:f}))}}catch(m){c.e(m)}finally{c.f()}return n},Oe=function(e,t,a){var r=Array.from(e("img",".container-chapter-reader").toArray(),(function(t){var a;return null!==(a=e(t).attr("src"))&&void 0!==a?a:""}));return createChapterDetails({id:a,mangaId:t,pages:r,longStrip:!1})},ke="https://mangakakalot.com",we="https://manganelo.com",Te="GET",Ne={Referer:we,"content-type":"application/x-www-form-urlencoded"},Me={version:"2.0.4",name:"Mangakakalot",icon:"mangakakalot.com.png",author:"getBoolean",authorWebsite:"https://github.com/getBoolean",description:"Extension that pulls manga from Mangakakalot",hentaiSource:!1,websiteBaseURL:ke,sourceTags:[{text:"Notifications",type:_.TagType.GREEN}]},Se=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"getMangaUrl",value:function(e){return"https://cubari.moe/mb/".concat(e)}},{key:"getSourceDetails",value:function(){return Me}},{key:"getMangaShareUrl",value:function(e){return"".concat(e,"/")}},{key:"getMangaDetails",value:function(){var e=Object(A.a)(D.a.mark((function e(t){var a,r,n,c,i;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.slice(t.indexOf("/",t.indexOf("/")+2),t.length),r=t.replace(a,""),n=createRequestObject({url:"".concat(r,"/"),method:Te,param:a}),e.next=5,this.requestManager.schedule(n,1);case 5:if(c=e.sent,i=this.cheerio.load(c.data),!t.toLowerCase().includes("mangakakalot")){e.next=11;break}return e.abrupt("return",ue(i,t));case 11:return e.abrupt("return",ye(i,t));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapters",value:function(){var e=Object(A.a)(D.a.mark((function e(t){var a,r,n,c,i;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.slice(t.indexOf("/",t.indexOf("/")+2),t.length),r=t.replace(a,""),n=createRequestObject({url:"".concat(r,"/"),method:Te,param:a}),e.next=5,this.requestManager.schedule(n,1);case 5:if(c=e.sent,i=this.cheerio.load(c.data),!t.toLowerCase().includes("mangakakalot")){e.next=11;break}return e.abrupt("return",le(i,t));case 11:return e.abrupt("return",je(i,t));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapterDetails",value:function(){var e=Object(A.a)(D.a.mark((function e(t,a){var r,n,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.toLowerCase().includes("manganelo")?createRequestObject({url:"".concat(a),method:Te,headers:{Referer:we,"content-type":"application/x-www-form-urlencoded",Cookie:"content_lazyload=off"}}):createRequestObject({url:"".concat(a),method:Te,headers:{"content-type":"application/x-www-form-urlencoded",Cookie:"content_lazyload=off"}}),e.next=3,this.requestManager.schedule(r,1);case 3:if(n=e.sent,c=this.cheerio.load(n.data),!t.toLowerCase().includes("mangakakalot")){e.next=9;break}return e.abrupt("return",de(c,t,a));case 9:return e.abrupt("return",Oe(c,t,a));case 10:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"filterUpdatedManga",value:function(){var e=Object(A.a)(D.a.mark((function e(t,a,r){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(createMangaUpdates({ids:r}));case 1:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"getHomePageSections",value:function(){var e=Object(A.a)(D.a.mark((function e(t){var a,r,n,c,i,s,o,u,l,d,p,h,g,f,m,v,b;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createHomeSection({id:"popular_manga",title:"POPULAR MANGA"}),r=createHomeSection({id:"latest_updates",title:"LATEST MANGA RELEASES",view_more:!0}),n=createHomeSection({id:"hot_manga",title:"HOT MANGA",view_more:!0}),c=createHomeSection({id:"new_manga",title:"NEW MANGA",view_more:!0}),i=createHomeSection({id:"zcompleted_manga",title:"COMPLETED MANGA",view_more:!0}),s=createRequestObject({url:"".concat(ke),method:"GET"}),o=createRequestObject({url:"".concat(ke,"/manga_list?type=topview&category=all&state=all&page="),method:"GET"}),u=createRequestObject({url:"".concat(ke,"/manga_list?type=newest&category=all&state=all&page="),method:"GET"}),l=createRequestObject({url:"".concat(ke,"/manga_list?type=newest&category=all&state=Completed&page="),method:"GET"}),e.next=11,this.requestManager.schedule(s,1);case 11:return d=e.sent,p=this.cheerio.load(d.data),e.next=15,this.requestManager.schedule(o,1);case 15:return h=e.sent,g=this.cheerio.load(h.data),e.next=19,this.requestManager.schedule(u,1);case 19:return f=e.sent,m=this.cheerio.load(f.data),e.next=23,this.requestManager.schedule(l,1);case 23:v=e.sent,b=this.cheerio.load(v.data),pe(p,[a,r],t),he(g,[n],t),he(m,[c],t),he(b,[i],t);case 29:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"searchRequest",value:function(){var e=Object(A.a)(D.a.mark((function e(t,a){var r,n,c,i,s,o,u,l;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=null!==(r=null===(n=a)||void 0===n?void 0:n.page)&&void 0!==r?r:1,i=fe(t),s=createRequestObject({url:"".concat(ke,"/search/story/"),method:Te,headers:Ne,param:"".concat(i,"?page=").concat(c)}),e.next=5,this.requestManager.schedule(s,1);case 5:return o=e.sent,u=this.cheerio.load(o.data),l=me(u),a=xe(u)?void 0:{page:c+1},e.abrupt("return",createPagedResults({results:l,metadata:a}));case 10:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getTags",value:function(){var e=Object(A.a)(D.a.mark((function e(){var t,a,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=createRequestObject({url:ke,method:Te,headers:Ne}),e.next=3,this.requestManager.schedule(t,1);case 3:return a=e.sent,r=this.cheerio.load(a.data),e.abrupt("return",ve(r));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getViewMoreItems",value:function(){var e=Object(A.a)(D.a.mark((function e(t,a){var r,n,c,i,s,o,u,l;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=null!==(r=null===(n=a)||void 0===n?void 0:n.page)&&void 0!==r?r:1,i="",e.t0=t,e.next="latest_updates"===e.t0?5:"hot_manga"===e.t0?7:"new_manga"===e.t0?9:"zcompleted_manga"===e.t0?11:13;break;case 5:return i="/manga_list?type=latest&category=all&state=all&page=".concat(c),e.abrupt("break",14);case 7:return i="/manga_list?type=topview&category=all&state=all&page=".concat(c),e.abrupt("break",14);case 9:return i="/manga_list?type=newest&category=all&state=all&page=".concat(c),e.abrupt("break",14);case 11:return i="/manga_list?type=newest&category=all&state=Completed&page=".concat(c),e.abrupt("break",14);case 13:return e.abrupt("return",Promise.resolve(null));case 14:return s=createRequestObject({url:ke,method:Te,param:i}),e.next=17,this.requestManager.schedule(s,1);case 17:return o=e.sent,u=this.cheerio.load(o.data),l=be(u),a=xe(u)?void 0:{page:c+1},e.abrupt("return",createPagedResults({results:l,metadata:a}));case 22:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"globalRequestHeaders",value:function(){var e=Object(A.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{referer:we});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),a}(U),qe="https://mangadex.org",Ee="https://api.mangadex.org",Ie={author:"nar1n",description:"Extension that pulls manga from MangaDex",icon:"icon.png",name:"MangaDex",version:"1.0.1",authorWebsite:"https://github.com/nar1n",websiteBaseURL:qe,hentaiSource:!1,language:_.LanguageCode.ENGLISH,sourceTags:[{text:"Recommended",type:_.TagType.BLUE},{text:"Notifications",type:_.TagType.GREEN}]},Ce=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).languageMapping={en:"gb","pt-br":"pt",ru:"ru",fr:"fr","es-la":"es",pl:"pl",tr:"tr",it:"it",es:"es",id:"id",vi:"vn",hu:"hu",zh:"cn",de:"de","zh-hk":"hk",th:"th",bg:"bg",uk:"ua",mn:"mn",ro:"ro",ms:"my",ja:"jp",ko:"kr",cs:"cz",pt:"pt",nl:"nl",no:"no",lt:"lt",da:"dk",fi:"fi"},e}return Object(o.a)(a,[{key:"getMangaUrl",value:function(e){return"https://cubari.moe/read/mangadex/".concat(e)}},{key:"getSourceDetails",value:function(){return Ie}},{key:"getMangaShareUrl",value:function(e){return"".concat(qe,"/manga/").concat(e)}},{key:"getMangaUUIDs",value:function(){var e=Object(A.a)(D.a.mark((function e(t){var a,r,n,c,i,s,o,u,l,d=arguments;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.length>1&&void 0!==d[1]?d[1]:"manga",a=t.length,r=0,n={};case 4:return c=createRequestObject({url:"".concat(Ee,"/legacy/mapping"),method:"POST",headers:{"content-type":"application/json"},data:{type:"manga",ids:t.slice(r,r+500).map((function(e){return Number(e)}))}}),r+=500,e.next=9,this.requestManager.schedule(c,1);case 9:i=e.sent,s="string"===typeof i.data?JSON.parse(i.data):i.data,o=Object(L.a)(s);try{for(o.s();!(u=o.n()).done;)l=u.value,n[l.data.attributes.legacyId]=l.data.attributes.newId}catch(p){o.e(p)}finally{o.f()}if(!(r>=a)){e.next=15;break}return e.abrupt("break",17);case 15:e.next=4;break;case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAuthors",value:function(){var e=Object(A.a)(D.a.mark((function e(t){var a,r,n,c,i,s,o,u,l,d,p,h;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="".concat(Ee,"/author/?limit=100"),r=0,n=Object(L.a)(t);try{for(n.s();!(c=n.n()).done;)i=c.value,a+="&ids[".concat(r,"]=").concat(i),r+=1}catch(g){n.e(g)}finally{n.f()}return s=createRequestObject({url:a,method:"GET"}),e.next=7,this.requestManager.schedule(s,1);case 7:o=e.sent,u="string"===typeof o.data?JSON.parse(o.data):o.data,l={},d=Object(L.a)(u.results);try{for(d.s();!(p=d.n()).done;)h=p.value,l[h.data.id]=h.data.attributes.name}catch(g){d.e(g)}finally{d.f()}return e.abrupt("return",l);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getGroups",value:function(){var e=Object(A.a)(D.a.mark((function e(t){var a,r,n,c,i,s,o,u,l,d,p,h,g,f;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.length,r=0,n={};case 3:0,c="".concat(Ee,"/group/?limit=100&offset=").concat(r),i=0,s=Object(L.a)(t.slice(r,r+100));try{for(s.s();!(o=s.n()).done;)u=o.value,c+="&ids[".concat(i,"]=").concat(u),i+=1}catch(m){s.e(m)}finally{s.f()}return r+=100,l=createRequestObject({url:c,method:"GET"}),e.next=12,this.requestManager.schedule(l,1);case 12:d=e.sent,p="string"===typeof d.data?JSON.parse(d.data):d.data,h=Object(L.a)(p.results);try{for(h.s();!(g=h.n()).done;)f=g.value,n[f.data.id]=f.data.attributes.name}catch(m){h.e(m)}finally{h.f()}if(!(r>=a)){e.next=18;break}return e.abrupt("break",20);case 18:e.next=3;break;case 20:return e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMDHNodeURL",value:function(){var e=Object(A.a)(D.a.mark((function e(t){var a,r,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({url:"".concat(Ee,"/at-home/server/").concat(t),method:"GET"}),e.next=3,this.requestManager.schedule(a,1);case 3:return r=e.sent,n="string"===typeof r.data?JSON.parse(r.data):r.data,e.abrupt("return",n.baseUrl);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getImageLink",value:function(){var e=Object(A.a)(D.a.mark((function e(t){var a,r,n,c,i,s,o,u,l,d,p,h,g,f=arguments;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=f.length>1&&void 0!==f[1]&&f[1],null!==t){e.next=3;break}return e.abrupt("return","https://i.imgur.com/6TrIues.jpg");case 3:if(void 0===t.kt){e.next=6;break}if(isNaN(Number(t.kt))){e.next=6;break}return e.abrupt("return","https://media.kitsu.io/manga/poster_images/".concat(t.kt,"/small.jpg"));case 6:if(!a){e.next=34;break}if(void 0===t.mal){e.next=16;break}return r=createRequestObject({url:"https://api.jikan.moe/v3/manga/".concat(t.mal,"/pictures"),method:"GET"}),e.next=11,this.requestManager.schedule(r,1);case 11:if(n=e.sent,void 0===(c="string"===typeof n.data?JSON.parse(n.data):n.data).pictures){e.next=16;break}if(!(c.pictures.length>0)){e.next=16;break}return e.abrupt("return",c.pictures[0].small);case 16:if(void 0===t.al){e.next=25;break}return i="query ($id: Int) { Media (id: $id, type: MANGA) {coverImage {large}}}",s={id:t.al},o=createRequestObject({url:"https://graphql.anilist.co",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},data:JSON.stringify({query:i,variables:s})}),e.next=22,this.requestManager.schedule(o,1);case 22:return u=e.sent,l="string"===typeof u.data?JSON.parse(u.data):u.data,e.abrupt("return",l.data.Media.coverImage.large);case 25:if(void 0===t.ap){e.next=34;break}return d=createRequestObject({url:"https://www.anime-planet.com/manga/".concat(t.ap),method:"GET"}),e.next=29,this.requestManager.schedule(d,1);case 29:if(p=e.sent,h=this.cheerio.load(p.data),void 0===(g=h(".screenshots").attr("src"))){e.next=34;break}return e.abrupt("return","https://www.anime-planet.com".concat(g));case 34:return e.abrupt("return","https://i.imgur.com/6TrIues.jpg");case 35:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMangaDetails",value:function(){var e=Object(A.a)(D.a.mark((function e(t){var a,r,n,c,i,s,o,u,l,d,p,h,g,f,m,v,b,x=this;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.includes("-")){e.next=7;break}return e.next=3,this.getMangaUUIDs([t]);case 3:r=e.sent,a=r[t],e.next=8;break;case 7:a=t;case 8:return n=createRequestObject({url:"".concat(Ee,"/manga/").concat(a),method:"GET"}),e.next=11,this.requestManager.schedule(n,1);case 11:c=e.sent,i="string"===typeof c.data?JSON.parse(c.data):c.data,s=i.data.attributes,o=[s.title[Object.keys(s.title)[0]]].concat(s.altTitles.map((function(e){return x.decodeHTMLEntity(e[Object.keys(e)[0]])}))),u=this.decodeHTMLEntity(s.description.en).replace(/\[\/{0,1}[bus]\]/g,""),l=_.MangaStatus.COMPLETED,"ongoing"==s.status&&(l=_.MangaStatus.ONGOING),d=[],p=Object(L.a)(s.tags);try{for(g=function(){var e=h.value,t=e.attributes.name;d.push(createTag({id:e.id,label:Object.keys(t).map((function(e){return t[e]}))[0]}))},p.s();!(h=p.n()).done;)g()}catch(y){p.e(y)}finally{p.f()}if(f=i.relationships.filter((function(e){return"author"==e.type})).map((function(e){return e.id})),m=i.relationships.filter((function(e){return"artist"==e.type})).map((function(e){return e.id})),0==(v=f.concat(m)).length){e.next=30;break}return e.next=27,this.getAuthors(v);case 27:b=e.sent,f=f.map((function(e){return x.decodeHTMLEntity(b[e])})).join(", "),m=m.map((function(e){return x.decodeHTMLEntity(b[e])})).join(", ");case 30:return e.t0=createManga,e.t1=t,e.t2=o,e.next=35,this.getImageLink(s.links,!0);case 35:return e.t3=e.sent,e.t4=f,e.t5=m,e.t6=u,e.t7=l,e.t8=[createTagSection({id:"tags",label:"Tags",tags:d})],e.t9={id:e.t1,titles:e.t2,image:e.t3,author:e.t4,artist:e.t5,desc:e.t6,rating:5,status:e.t7,tags:e.t8},e.abrupt("return",(0,e.t0)(e.t9));case 43:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapters",value:function(){var e=Object(A.a)(D.a.mark((function e(t){var a,r,n,c,i,s,o,u,l,d,p,h,g,f,m,v,b,x,y,j,O,k,w,T,N=this;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.includes("-")){e.next=7;break}return e.next=3,this.getMangaUUIDs([t]);case 3:r=e.sent,a=r[t],e.next=8;break;case 7:a=t;case 8:n=[],c=0,i=[];case 11:return s=createRequestObject({url:"".concat(Ee,"/manga/").concat(a,"/feed?limit=500&offset=").concat(c),method:"GET"}),e.next=15,this.requestManager.schedule(s,1);case 15:o=e.sent,u="string"===typeof o.data?JSON.parse(o.data):o.data,c+=500,l=Object(L.a)(u.results);try{for(l.s();!(d=l.n()).done;){p=d.value,h=p.data.id,g=p.data.attributes,f=this.decodeHTMLEntity(g.title),m=Number(null===g||void 0===g?void 0:g.chapter),v=Number(null===g||void 0===g?void 0:g.volume),b=g.translatedLanguage,b=Object.keys(this.languageMapping).includes(b)?this.languageMapping[g.translatedLanguage]:"_unkown",x=new Date(g.publishAt),y=p.relationships.filter((function(e){return"scanlation_group"==e.type})).map((function(e){return e.id})),j=Object(L.a)(y);try{for(j.s();!(O=j.n()).done;)k=O.value,i.includes(k)||i.push(k)}catch(M){j.e(M)}finally{j.f()}n.push({id:h,mangaId:t,name:f,chapNum:m,volume:v,langCode:b,groups:y,time:x})}}catch(M){l.e(M)}finally{l.f()}if(!(u.total<=c)){e.next=22;break}return e.abrupt("break",24);case 22:e.next=11;break;case 24:return e.next=26,this.getGroups(i);case 26:return w=e.sent,T=n.map((function(e){return e.group=e.groups.map((function(e){return N.decodeHTMLEntity(w[e])})).join(", ")+"",delete e.groups,createChapter(e)})),e.abrupt("return",T);case 29:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapterDetails",value:function(){var e=Object(A.a)(D.a.mark((function e(t,a){var r,n,c,i,s,o;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.includes("-")){e.next=2;break}throw new Error("OLD ID: PLEASE REFRESH AND CLEAR ORPHANED CHAPTERS");case 2:return e.next=4,this.getMDHNodeURL(a);case 4:return r=e.sent,n=createRequestObject({url:"".concat(Ee,"/chapter/").concat(a),method:"GET"}),e.next=8,this.requestManager.schedule(n,1);case 8:return c=e.sent,i="string"===typeof c.data?JSON.parse(c.data):c.data,s=i.data.attributes,o=s.data.map((function(e){return"".concat(r,"/data/").concat(s.hash,"/").concat(e)})),e.abrupt("return",createChapterDetails({id:a,mangaId:t,pages:o,longStrip:!1}));case 13:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"searchRequest",value:function(){var e=Object(A.a)(D.a.mark((function e(t,a){var r,n,c,i,s,o,u,l,d,p,h,g,f;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=null!==(r=null===a||void 0===a?void 0:a.offset)&&void 0!==r?r:0,i=[],s=createRequestObject({url:"".concat(Ee,"/manga?title=").concat(encodeURIComponent(null!==(n=t.title)&&void 0!==n?n:""),"&limit=100&offset=").concat(c),method:"GET"}),e.next=5,this.requestManager.schedule(s,1);case 5:if(200==(o=e.sent).status){e.next=8;break}return e.abrupt("return",createPagedResults({results:i}));case 8:u="string"===typeof o.data?JSON.parse(o.data):o.data,l=Object(L.a)(u.results),e.prev=10,l.s();case 12:if((d=l.n()).done){e.next=29;break}return p=d.value,h=p.data.id,g=p.data.attributes,f=this.decodeHTMLEntity(g.title[Object.keys(g.title)[0]]),e.t0=i,e.t1=createMangaTile,e.t2=h,e.t3=createIconText({text:f}),e.next=23,this.getImageLink(g.links);case 23:e.t4=e.sent,e.t5={id:e.t2,title:e.t3,image:e.t4},e.t6=(0,e.t1)(e.t5),e.t0.push.call(e.t0,e.t6);case 27:e.next=12;break;case 29:e.next=34;break;case 31:e.prev=31,e.t7=e.catch(10),l.e(e.t7);case 34:return e.prev=34,l.f(),e.finish(34);case 37:return e.abrupt("return",createPagedResults({results:i,metadata:{offset:c+100}}));case 38:case"end":return e.stop()}}),e,this,[[10,31,34,37]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getHomePageSections",value:function(){var e=Object(A.a)(D.a.mark((function e(t){var a,r,n,c,i,s=this;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=[{request:createRequestObject({url:"".concat(Ee,"/manga?limit=20"),method:"GET"}),section:createHomeSection({id:"recently_updated",title:"RECENTLY UPDATED TITLES",view_more:!0})},{request:createRequestObject({url:"".concat(Ee,"/manga?limit=20&publicationDemographic[0]=shounen"),method:"GET"}),section:createHomeSection({id:"shounen",title:"UPDATED SHOUNEN TITLES",view_more:!0})},{request:createRequestObject({url:"".concat(Ee,"/manga?limit=20&includedTags[0]=391b0423-d847-456f-aff0-8b0cfc03066b"),method:"GET"}),section:createHomeSection({id:"action",title:"UPDATED ACTION TITLES",view_more:!0})}],r=[],n=function(){var e=i[c];t(e.section),r.push(s.requestManager.schedule(e.request,1).then(function(){var a=Object(A.a)(D.a.mark((function a(r){var n,c,i,o,u,l,d,p;return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n="string"===typeof r.data?JSON.parse(r.data):r.data,c=[],i=Object(L.a)(n.results),a.prev=3,i.s();case 5:if((o=i.n()).done){a.next=22;break}return u=o.value,l=u.data.id,d=u.data.attributes,p=s.decodeHTMLEntity(d.title[Object.keys(d.title)[0]]),a.t0=c,a.t1=createMangaTile,a.t2=l,a.t3=createIconText({text:p}),a.next=16,s.getImageLink(d.links,!0);case 16:a.t4=a.sent,a.t5={id:a.t2,title:a.t3,image:a.t4},a.t6=(0,a.t1)(a.t5),a.t0.push.call(a.t0,a.t6);case 20:a.next=5;break;case 22:a.next=27;break;case 24:a.prev=24,a.t7=a.catch(3),i.e(a.t7);case 27:return a.prev=27,i.f(),a.finish(27);case 30:e.section.items=c,t(e.section);case 32:case"end":return a.stop()}}),a,null,[[3,24,27,30]])})));return function(e){return a.apply(this,arguments)}}()))},c=0,i=a;c<i.length;c++)n();return e.next=6,Promise.all(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getViewMoreItems",value:function(){var e=Object(A.a)(D.a.mark((function e(t,a){var r,n,c,i,s,o,u,l,d,p,h,g,f,m=this;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=null!==(r=null===a||void 0===a?void 0:a.offset)&&void 0!==r?r:0,i=null!==(n=null===a||void 0===a?void 0:a.collectedIds)&&void 0!==n?n:[],s=[],o="",e.t0=t,e.next="recently_updated"===e.t0?7:"shounen"===e.t0?9:"action"===e.t0?11:13;break;case 7:return o="".concat(Ee,"/manga?limit=100&offset=").concat(c),e.abrupt("break",13);case 9:return o="".concat(Ee,"/manga?limit=100&publicationDemographic[0]=shounen&offset=").concat(c),e.abrupt("break",13);case 11:return o="".concat(Ee,"/manga?limit=100&includedTags[0]=391b0423-d847-456f-aff0-8b0cfc03066b&offset=").concat(c),e.abrupt("break",13);case 13:return u=createRequestObject({url:o,method:"GET"}),e.next=16,this.requestManager.schedule(u,1);case 16:l=e.sent,d="string"===typeof l.data?JSON.parse(l.data):l.data,p=[],h=Object(L.a)(d.results);try{for(f=function(){var e=g.value,t=e.data.id,a=e.data.attributes,r=m.decodeHTMLEntity(a.title[Object.keys(a.title)[0]]);i.includes(t)||p.push(m.getImageLink(a.links,!0).then((function(e){s.push(createMangaTile({id:t,title:createIconText({text:r}),image:e})),i.push(t)})))},h.s();!(g=h.n()).done;)f()}catch(v){h.e(v)}finally{h.f()}return Promise.all(p),e.abrupt("return",createPagedResults({results:s,metadata:{offset:c+100,collectedIds:i}}));case 23:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"filterUpdatedManga",value:function(){var e=Object(A.a)(D.a.mark((function e(t,a,r){var n,c,i,s,o,u,l,d,p,h,g,f,m,v,b,x;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.filter((function(e){return!e.includes("-")})),c={},0==n.length){e.next=7;break}return e.next=5,this.getMangaUUIDs(n);case 5:for(c=e.sent,i=0,s=Object.keys(c);i<s.length;i++)o=s[i],c[c[o]]=o;case 7:u=0,l=!0,d=[];case 10:if(!l){e.next=24;break}return p=a.toISOString().substr(0,a.toISOString().length-5),h=createRequestObject({url:"".concat(Ee,"/manga?limit=100&offset=").concat(u,"&updatedAtSince=").concat(p),method:"GET"}),e.next=15,this.requestManager.schedule(h,1);case 15:if(204!=(g=e.sent).status){e.next=18;break}return e.abrupt("return");case 18:f="string"===typeof g.data?JSON.parse(g.data):g.data,m=Object(L.a)(f.results);try{for(m.s();!(v=m.n()).done;)b=v.value,x=b.data.id,new Date(b.data.attributes.updatedAt)<=a?l=!1:r.includes(x)?d.push(x):r.includes(c[x])&&d.push(c[x])}catch(y){m.e(y)}finally{m.f()}l&&(u+=100),e.next=10;break;case 24:d.length>0&&t(createMangaUpdates({ids:d}));case 25:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"decodeHTMLEntity",value:function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(t)})).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&mdash;/g,"\u2014").replace(/&ndash;/g,"\u2013").replace(/&rsquo;/g,"\u2019").replace(/&grave;/g,"`").replace(/&apos;/g,"'").replace(/&quest;/g,"?").replace(/&iquest;/g,"\xbf").replace(/&excl;/g,"!").replace(/&num;/g,"#").replace(/&dollar;/g,"$").replace(/&percnt;/g,"%").replace(/&commat;/g,"@").replace(/&ldquo;/g,"\u201c").replace(/&rdquo;/g,"\u201d").replace(/&hellip;/g,"\u2026").replace(/&hearts;/g,"\u2665")}}]),a}(U),Re="https://cover.mangabeast01.com/cover",De={hot_update:/vm.HotUpdateJSON = (.*);/,latest:/vm.LatestJSON = (.*);/,recommended:/vm.RecommendationJSON = (.*);/,new_titles:/vm.NewSeriesJSON = (.*);/,chapters:/vm.Chapters = (.*);/,directory:/vm.FullDirectory = (.*);/,directory_image_host:/<img ng-src=\"(.*)\//},Le=function(e,t){var a,r,n,c,i,s,o,u,l,d=null!==(a=null===(r=e("[type=application\\/ld\\+json]").html())||void 0===r?void 0:r.replace(/\t*\n*/g,""))&&void 0!==a?a:"",p=d.replace(/"alternateName".*?],/g,""),h=null===(n=/"alternateName": \[(.*?)\]/.exec(d))||void 0===n?void 0:n[1].replace(/\"/g,"").split(","),g=JSON.parse(p).mainEntity,f=e(".row"),m=null!==(c=null===(i=e(".ImgHolder").html())||void 0===i||null===(s=i.match(/src="(.*)\//))||void 0===s?void 0:s[1])&&void 0!==c?c:Re;m!==Re&&(Re=m);var v="".concat(Re,"/").concat(t,".jpg"),b=[null!==(o=e("h1",f).first().text())&&void 0!==o?o:""],x=g.author[0];b=b.concat(null!==h&&void 0!==h?h:"");var y=Number(null===(u=e.root().html())||void 0===u||null===(l=u.match(/vm.NumSubs = (.*);/))||void 0===l?void 0:l[1]),j=[createTagSection({id:"0",label:"genres",tags:[]}),createTagSection({id:"1",label:"format",tags:[]})];j[0].tags=g.genre.map((function(e){return createTag({id:e,label:e})}));var O,k=g.dateModified,w=_.MangaStatus.ONGOING,T="",N=(g.genre.includes("Hentai")||g.genre.includes("Adult"),e(".list-group",f)),M=Object(L.a)(e("li",N).toArray());try{for(M.s();!(O=M.n()).done;){var S=O.value;switch(e(".mlabel",S).text()){case"Type:":var q=e("a",S).text();j[1].tags.push(createTag({id:q.trim(),label:q.trim()}));break;case"Status:":w=e(S).text().includes("Ongoing")?_.MangaStatus.ONGOING:_.MangaStatus.COMPLETED;break;case"Description:":T=e("div",S).text().trim()}}}catch(E){M.e(E)}finally{M.f()}return createManga({id:t,titles:b,image:v,rating:0,status:w,author:x,tags:j,desc:T,hentai:!1,follows:y,lastUpdate:k})},Ae=function(e,t){var a,r,n,c,i=JSON.parse(null!==(a=null===(r=e.root().html())||void 0===r||null===(n=r.match(De.chapters))||void 0===n?void 0:n[1])&&void 0!==a?a:"").reverse(),s=[],o=Object(L.a)(i);try{for(o.s();!(c=o.n()).done;){var u=c.value,l=u.Chapter,d=Number(l.substring(0,1)),p=1!=d?"-index-"+d:"",h=parseInt(l.slice(1,-1)),g=Number(l[l.length-1]),f=t+"-chapter-"+h+(0!=g?"."+g:"")+p+".html",m=h+.1*g,v=u.ChapterName?u.ChapterName:"",b=u.Date.replace(/-/g,"/"),x=new Date(b);s.push(createChapter({id:f,mangaId:t,name:v,chapNum:m,volume:d,langCode:_.LanguageCode.ENGLISH,time:x}))}}catch(y){o.e(y)}finally{o.f()}return s},_e=function(e,t,a){for(var r,n,c,i=[],s=null===(r=e.match(/ng-src="https:\/\/{{([a-zA-Z0-9.]+)}}\/manga\/.+\.png/))||void 0===r?void 0:r[1],o=null===(n=e.match(new RegExp("".concat(s,' = "(.*)";'))))||void 0===n?void 0:n[1],u=JSON.parse(null===(c=e.match(/vm.CurChapter = (.*);/))||void 0===c?void 0:c[1]),l=Number(u.Page),d=u.Chapter.slice(1,-1),p=u.Chapter[u.Chapter.length-1],h=0==p?d:d+"."+p,g=0;g<l;g++){var f="000"+(g+1),m=f.substr(f.length-3);i.push("https://".concat(o,"/manga/").concat(t,"/").concat(""==u.Directory?"":u.Directory+"/").concat(h,"-").concat(m,".png"))}return createChapterDetails({id:a,mangaId:t,pages:i,longStrip:!1})},Ge=function(e,t,a){var r,n,c=e.data,i={ids:[]},s=JSON.parse(null===(r=c.match(De.latest))||void 0===r?void 0:r[1]),o=Object(L.a)(s);try{for(o.s();!(n=o.n()).done;){var u=n.value;a.includes(u.IndexName)&&t<new Date(u.Date)&&i.ids.push(u.IndexName)}}catch(l){o.e(l)}finally{o.f()}return i},Ue=function(e){var t,a,r,n,c,i,s="";switch(e.status){case 0:s="Completed";break;case 1:s="Ongoing";break;default:s=""}var o=e.includeGenre?e.includeDemographic?e.includeGenre.concat(e.includeDemographic):e.includeGenre:e.includeDemographic,u=e.excludeGenre?e.excludeDemographic?e.excludeGenre.concat(e.excludeDemographic):e.excludeGenre:e.excludeDemographic;return{keyword:null===(t=e.title)||void 0===t?void 0:t.toLowerCase(),author:(null===(a=e.author)||void 0===a?void 0:a.toLowerCase())||(null===(r=e.artist)||void 0===r?void 0:r.toLowerCase())||"",status:null!==(n=null===(c=s)||void 0===c?void 0:c.toLowerCase())&&void 0!==n?n:"",type:null===(i=e.includeFormat)||void 0===i?void 0:i.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.toLowerCase())&&void 0!==t?t:""})),genre:null===o||void 0===o?void 0:o.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.toLowerCase())&&void 0!==t?t:""})),genreNo:null===u||void 0===u?void 0:u.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.toLowerCase())&&void 0!==t?t:""}))}},Pe=function(e,t){var a,r,n,c,i=[],s=JSON.parse(null!==(a=null===e||void 0===e||null===(r=e.match(De.directory))||void 0===r?void 0:r[1])&&void 0!==a?a:"").Directory,o=null!==(n=null===e||void 0===e||null===(c=e.match(De.directory_image_host))||void 0===c?void 0:c[1])&&void 0!==n?n:Re;o!==Re&&(Re=o);var u,l=Object(L.a)(s);try{var d=function(){var e,a,r,n,c,s,o=u.value,l="undefined"===typeof t.keyword,d=""===t.author,p=""===t.status,h=!("undefined"!==typeof t.type&&t.type.length>0),g=!("undefined"!==typeof t.genre&&t.genre.length>0),m="undefined"!==typeof t.genreNo;l||(l=[].concat(Object(f.a)(null!==(r=o.al)&&void 0!==r?r:[]),[null!==(n=o.s)&&void 0!==n?n:""]).join("||").toLowerCase().includes(t.keyword));d||(null!==(c=null===(s=o.a)||void 0===s?void 0:s.join("||").toLowerCase())&&void 0!==c?c:"").includes(t.author)&&(d=!0);p||("ongoing"==o.st&&"ongoing"==t.status||"ongoing"!=o.st&&"ongoing"!=t.ss)&&(p=!0);var v=null!==(e=null===(a=o.g)||void 0===a?void 0:a.join("||"))&&void 0!==e?e:"";h||(h=t.type.includes(o.t)),g||(g=t.genre.every((function(e){return v.includes(e)}))),m&&(m=t.genreNo.every((function(e){return v.includes(e)}))),l&&d&&p&&h&&g&&!m&&i.push(createMangaTile({id:o.i,title:createIconText({text:o.s}),image:"".concat(Re,"/").concat(o.i,".jpg"),subtitleText:createIconText({text:o.st})}))};for(l.s();!(u=l.n()).done;)d()}catch(p){l.e(p)}finally{l.f()}return createPagedResults({results:i})},He=function(e){var t,a,r,n=[createTagSection({id:"0",label:"genres",tags:[]}),createTagSection({id:"1",label:"format",tags:[]})],c=JSON.parse(null===(t=e.match(/"Genre"\s*: (.*)/))||void 0===t?void 0:t[1].replace(/'/g,'"')),i=null===(a=e.match(/"Type"\s*: (.*),/g))||void 0===a?void 0:a[1],s=JSON.parse(null===(r=i.match(/(\[.*\])/))||void 0===r?void 0:r[1].replace(/'/g,'"'));return n[0].tags=c.map((function(e){return createTag({id:e,label:e})})),n[1].tags=s.map((function(e){return createTag({id:e,label:e})})),n},Je=function(e,t,a){var r,n,c,i,s,o,u,l=createHomeSection({id:"hot_update",title:"HOT UPDATES",view_more:!0}),d=createHomeSection({id:"latest",title:"LATEST UPDATES",view_more:!0}),p=createHomeSection({id:"new_titles",title:"NEW TITLES",view_more:!0}),g=createHomeSection({id:"recommended",title:"RECOMMENDATIONS",view_more:!0}),f=[l,d,p,g],m=[JSON.parse(null===(r=t.match(De[l.id]))||void 0===r?void 0:r[1]).slice(0,15),JSON.parse(null===(n=t.match(De[d.id]))||void 0===n?void 0:n[1]).slice(0,15),JSON.parse(null===(c=t.match(De[p.id]))||void 0===c?void 0:c[1]).slice(0,15),JSON.parse(null===(i=t.match(De[g.id]))||void 0===i?void 0:i[1])],v=null!==(s=null===(o=e(".ImageHolder").html())||void 0===o||null===(u=o.match(/ng-src="(.*)\//))||void 0===u?void 0:u[1])&&void 0!==s?s:Re;v!==Re&&(Re=v);var b,x=Object(L.a)(f.entries());try{for(x.s();!(b=x.n()).done;){var y=Object(h.a)(b.value,2),j=y[0],O=y[1];a(O);var k,w=[],T=Object(L.a)(m[j]);try{for(T.s();!(k=T.n()).done;){var N=k.value,M=N.IndexName,S=N.SeriesName,q="".concat(Re,"/").concat(M,".jpg"),E=new Date(N.Date).toDateString();E=(E=E.slice(0,E.length-5)).slice(4,E.length),w.push(createMangaTile({id:M,image:q,title:createIconText({text:S}),secondaryText:createIconText({text:E,icon:"clock.fill"})}))}}catch(I){T.e(I)}finally{T.f()}O.items=w,a(O)}}catch(I){x.e(I)}finally{x.f()}},ze=function(e,t){var a,r=[],n=new Set;if(!De[t])return null;var c,i=JSON.parse(null===(a=e.match(De[t]))||void 0===a?void 0:a[1]),s=Object(L.a)(i);try{for(s.s();!(c=s.n()).done;){var o=c.value,u=o.IndexName;if(!n.has(u)){var l=o.SeriesName,d="".concat(Re,"/").concat(u,".jpg"),p=new Date(o.Date).toDateString();p=(p=p.slice(0,p.length-5)).slice(4,p.length),r.push(createMangaTile({id:u,image:d,title:createIconText({text:l}),secondaryText:"new_titles"!==t?createIconText({text:p,icon:"clock.fill"}):void 0})),n.add(u)}}}catch(h){s.e(h)}finally{s.f()}return createPagedResults({results:r})},Be="https://manga4life.com",We={"content-type":"application/x-www-form-urlencoded"},Fe="GET",Ke={version:"2.1.8",name:"Manga4Life",icon:"icon.png",author:"Daniel Kovalevich",authorWebsite:"https://github.com/DanielKovalevich",description:"Extension that pulls manga from MangaLife, includes Advanced Search and Updated manga fetching",hentaiSource:!1,websiteBaseURL:Be,sourceTags:[{text:"Notifications",type:_.TagType.GREEN},{text:"Cloudflare",type:_.TagType.RED}]},Ve=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"getMangaUrl",value:function(e){return"https://cubari.moe/ml/".concat(e)}},{key:"getSourceDetails",value:function(){return Ke}},{key:"getMangaShareUrl",value:function(e){return"".concat(Be,"/manga/").concat(e)}},{key:"getMangaDetails",value:function(){var e=Object(A.a)(D.a.mark((function e(t){var a,r,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({url:"".concat(Be,"/manga/"),method:Fe,param:t}),e.next=3,this.requestManager.schedule(a,1);case 3:return r=e.sent,n=this.cheerio.load(r.data),e.abrupt("return",Le(n,t));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapters",value:function(){var e=Object(A.a)(D.a.mark((function e(t){var a,r,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({url:"".concat(Be,"/manga/"),method:Fe,headers:We,param:t}),e.next=3,this.requestManager.schedule(a,1);case 3:return r=e.sent,n=this.cheerio.load(r.data),e.abrupt("return",Ae(n,t));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapterDetails",value:function(){var e=Object(A.a)(D.a.mark((function e(t,a){var r,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=createRequestObject({url:"".concat(Be,"/read-online/"),headers:We,method:Fe,param:a}),e.next=3,this.requestManager.schedule(r,1);case 3:return n=e.sent,e.abrupt("return",_e(n.data,t,a));case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"filterUpdatedManga",value:function(){var e=Object(A.a)(D.a.mark((function e(t,a,r){var n,c,i;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=createRequestObject({url:"".concat(Be,"/"),headers:We,method:Fe}),e.next=3,this.requestManager.schedule(n,1);case 3:c=e.sent,i=Ge(c,a,r),t(createMangaUpdates(i));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"searchRequest",value:function(){var e=Object(A.a)(D.a.mark((function e(t,a){var r,n,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ue(t),n=createRequestObject({url:"".concat(Be,"/directory/"),metadata:r,headers:We,method:Fe}),e.next=4,this.requestManager.schedule(n,1);case 4:return c=e.sent,e.abrupt("return",Pe(c.data,r));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getTags",value:function(){var e=Object(A.a)(D.a.mark((function e(){var t,a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=createRequestObject({url:"".concat(Be,"/search/"),method:Fe,headers:We}),e.next=3,this.requestManager.schedule(t,1);case 3:return a=e.sent,e.abrupt("return",He(a.data));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHomePageSections",value:function(){var e=Object(A.a)(D.a.mark((function e(t){var a,r,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({url:"".concat(Be),method:Fe}),e.next=3,this.requestManager.schedule(a,1);case 3:r=e.sent,n=this.cheerio.load(r.data),Je(n,r.data,t);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getViewMoreItems",value:function(){var e=Object(A.a)(D.a.mark((function e(t,a){var r,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=createRequestObject({url:Be,method:Fe}),e.next=3,this.requestManager.schedule(r,1);case 3:return n=e.sent,e.abrupt("return",ze(n.data,t));case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getCloudflareBypassRequest",value:function(){return createRequestObject({url:"".concat(Be),method:"GET"})}}]),a}(U),Qe=a(27),$e=a.n(Qe),Ye={};localStorage.getItem("hentai")||window.location.search.includes("hentai")?Ye.NHentai=new J($e.a):(Ye.MangaKatana=new re($e.a),Ye.Guya=new oe($e.a),Ye.Mangakakalot=new Se($e.a),Ye.MangaDex=new Ce($e.a),Ye.MangaLife=new Ve($e.a));var Ze=Ye,Xe=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).setIsOpen=function(e){return function(){return r.setState({isOpen:e})}},r.state={isOpen:!1},r}return Object(o.a)(a,[{key:"render",value:function(){return Object(b.jsxs)("button",{className:"p-1 rounded-xl bg-transparent text-black hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white",children:[Object(b.jsx)(O.a,{className:"h-6 w-6","aria-hidden":"true",onClick:this.setIsOpen(!0)}),Object(b.jsx)(C.c,{appear:!0,show:this.state.isOpen,as:r.Fragment,children:Object(b.jsx)(C.a,{open:!!this.state.isOpen,onClose:this.setIsOpen(!1),as:"div",className:"fixed inset-0 z-10 overflow-y-auto",children:Object(b.jsxs)("div",{className:"min-h-screen px-4 text-center",children:[Object(b.jsx)(C.a.Overlay,{className:"fixed inset-0"}),Object(b.jsx)("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"\u200b"}),Object(b.jsx)(C.c.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:Object(b.jsxs)("div",{className:"text-black dark:text-white inline-block bg-gray-100 dark:bg-gray-800 w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg",children:[Object(b.jsx)(C.a.Title,{className:"text-2xl"}),Object(b.jsx)(C.a.Description,{className:"pt-2",children:"This project is distinct from cubari.moe, and should be considered an early alpha to the catalog that Cubari is capable of displaying."}),Object(b.jsx)("button",{className:"mt-10 bg-transparent text-black hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white block px-3 py-2 rounded-md text-base font-medium",onClick:this.setIsOpen(!1),children:"Cool"})]})})]})})})]})}}]),a}(r.PureComponent),et={dark:{rootClasses:["dark","bg-gray-900"]},light:{rootClasses:["bg-gray-100"]}},tt=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var r;Object(s.a)(this,a),(r=t.call(this,e)).setTheme=function(e){var t;window.localStorage.setItem("theme",e),document.body.className="",(t=document.body.classList).add.apply(t,Object(f.a)(et[e].rootClasses)),r.setState({theme:e})},r.componentDidMount=function(){r.setTheme(window.localStorage.getItem("theme"))};var n=window.localStorage.getItem("theme");return n||window.localStorage.setItem("theme","light"),r.state={theme:n},r}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(b.jsx)("div",{className:"p-1 rounded-full bg-transparent text-black hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white ml-3 mr-3",children:"dark"===this.state.theme?Object(b.jsx)(O.e,{className:"h-6 w-6",onClick:function(){return e.setTheme("light")}}):Object(b.jsx)(O.c,{className:"h-6 w-6",onClick:function(){return e.setTheme("dark")}})})}}]),a}(r.PureComponent),at={Discover:{href:"/",component:function(e){return Object(b.jsx)(T,{discover:e.state.discover,setPath:e.setPath})}},Search:{href:"/search",component:function(e){return Object(b.jsx)(q,{sources:e.sources,setPath:e.setPath})}}},rt=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).setPath=function(e){r.setState({current:e})},r.initializeDiscoverItems=function(){r.sources.forEach((function(e){e.getHomePageSections((function(t){t.title.startsWith(e.getSourceDetails().name)||(t.title="".concat(e.getSourceDetails().name," - ").concat(t.title)),t.source=e,t.mangaUrlizer=e.getMangaUrl,r.setState({discover:new Set(r.state.discover).add(t)})}))}))},r.componentDidMount=function(){r.initializeDiscoverItems()},r.state={discover:new Set,current:void 0},r.sources=Object.values(Ze),r}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(b.jsxs)(d.a,{children:[Object(b.jsx)(C.b,{as:"nav",className:"bg-transparent",children:function(t){var a=t.open;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"max-w-6xl mx-auto px-2 md:px-0 lg:px-0",children:Object(b.jsxs)("div",{className:"relative flex items-center justify-between h-16",children:[Object(b.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center sm:hidden",children:Object(b.jsxs)(C.b.Button,{className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",children:[Object(b.jsx)("span",{className:"sr-only",children:"Open main menu"}),a?Object(b.jsx)(O.f,{className:"block h-6 w-6","aria-hidden":"true"}):Object(b.jsx)(O.b,{className:"block h-6 w-6","aria-hidden":"true"})]})}),Object(b.jsxs)("div",{className:"flex-1 flex sm:ml-3 items-center justify-center sm:items-stretch sm:justify-start",children:[Object(b.jsx)("div",{className:"flex-shrink-0 flex items-center"}),Object(b.jsx)("div",{className:"hidden sm:block",children:Object(b.jsx)("div",{className:"flex space-x-4",children:Object.keys(at).map((function(t){var a=t;return t=at[a],Object(b.jsx)(d.b,{to:t.href,onClick:function(){e.setState({current:a})},className:E(a===e.state.current?"bg-black text-white dark:bg-gray-800 dark:text-white":"bg-transparent text-black hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white","px-3 py-2 rounded-md text-md font-medium"),"aria-current":a===e.state.current?"page":void 0,children:a},a)}))})})]}),Object(b.jsxs)("div",{className:"absolute sm:mr-3 inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0",children:[Object(b.jsx)(tt,{}),Object(b.jsx)(Xe,{})]})]})}),Object(b.jsx)(C.c,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:Object(b.jsx)(C.b.Panel,{className:"sm:hidden",children:Object(b.jsx)("div",{className:"px-2 pt-2 pb-3 space-y-1",children:Object.keys(at).map((function(t){var a=t;return t=at[a],Object(b.jsx)(d.b,{to:t.href,onClick:function(){e.setState({current:a})},className:E(a===e.state.current?"bg-black text-white dark:bg-gray-800 dark:text-white":"bg-transparent text-black hover:bg-white dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white","block px-3 py-2 rounded-md text-base font-medium"),"aria-current":a===e.state.current?"page":void 0,children:a},a)}))})})})]})}}),Object(b.jsxs)(p.c,{children:[Object.keys(at).map((function(t){return t=at[t],Object(b.jsx)(p.a,{exact:!0,path:t.href,children:t.component(e)},t.href)})),Object(b.jsx)(p.a,{children:Object(b.jsx)(I,{})})]})]})}}]),a}(r.Component);i.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(rt,{})}),document.getElementById("root"))},99:function(e,t,a){}},[[219,1,2]]]);