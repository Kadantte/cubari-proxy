(this["webpackJsonpcubari-proxy"]=this["webpackJsonpcubari-proxy"]||[]).push([[0],{219:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(42),i=a.n(c),s=(a(99),a(21)),o=a(6),u=a(7),l=a(9),d=a(8),h=a(44),p=a(10),g=new IntersectionObserver((function(e,t){e.forEach((function(e){e.isIntersecting&&(e.target.style.backgroundImage=e.target.dataset.backgroundImage,t.unobserve(e.target))}))})),f=a(31),m="history",v=new Event("history-changed"),b=a(17),x=a(1),y=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).saveToHistory=function(e){0!==e.button&&1!==e.button||function(e,t,a,r){var n=localStorage.getItem(m);n?((n=JSON.parse(n).filter((function(t){return t.identifier!==e}))).length>=20&&n.pop(),n=[{identifier:e,title:t,url:a,coverUrl:r}].concat(Object(f.a)(n))):n=[{identifier:e,title:t,url:a,coverUrl:r}],window.dispatchEvent(v),localStorage.setItem(m,JSON.stringify(n))}(r.props.mangaUrlizer(r.props.slug),r.props.mangaTitle,r.props.mangaUrlizer(r.props.slug),r.props.coverUrl)},r.componentDidMount=function(){g.observe(r.ref.current)},r.componentWillUnmount=function(){g.unobserve(r.ref.current)},r.ref=n.a.createRef(),r}return Object(u.a)(a,[{key:"render",value:function(){return Object(x.jsx)(b.c,{appear:!0,show:!0,enter:"transition-opacity duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-500",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(x.jsx)("div",{className:"px-3",children:Object(x.jsx)("a",{ref:this.ref,href:this.props.mangaUrlizer(this.props.slug),target:"_blank",rel:"noopener noreferrer",className:"bg-no-repeat bg-cover bg-center bg-gray-300 dark:bg-gray-800 transform rounded-lg shadow-md scale-100 md:hover:scale-105 h-72 w-48 flex flex-row flex-wrap p-1 transition duration-100 ease-in-out","data-background-image":'linear-gradient(rgba(0,0,0,0) 50%, rgba(0,0,0,0.8) 90%), url("'.concat(this.props.coverUrl,'")'),onMouseDown:this.saveToHistory,children:Object(x.jsx)("div",{className:"w-full h-full px-0 flex flex-row flex-wrap overflow-hidden",children:Object(x.jsx)("div",{className:"w-full text-gray-700 font-semibold relative pt-3 md:pt-0",children:Object(x.jsx)("div",{className:"text-l text-white absolute bottom-0 left-0 mx-1 mb-1",style:{textShadow:"0 0 4px black, 0 0 4px black, 0 0 4px black, 0 0 4px black"},children:this.props.mangaTitle})})})})})})}}]),a}(r.PureComponent),j=a(16),O=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(Boolean).join(" ")},k=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(x.jsx)("div",{className:"w-full flex place-content-center pt-10 pb-10",children:Object(x.jsx)(j.f,{className:"text-black dark:text-white animate-spin block h-12 w-12"})})}}]),a}(r.PureComponent),w=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).observerCallback=function(e){e.forEach((function(e){e.isIntersecting&&(r.setState({items:r.props.children.slice(0,6)},r.scrollPositionHandler),r.observer.unobserve(e.target),delete r.observer)}))},r.scrollPositionHandler=function(){if(r.ref.current){var e=r.ref.current.scrollLeft<20,t=r.ref.current.scrollLeft+r.ref.current.clientWidth>r.ref.current.scrollWidth-20;t&&r.state.items.length<r.props.children.length?r.setState({items:r.props.children.slice(0,r.state.items.length+6)}):r.setState({fullyLeftScrolled:e,fullyRightScrolled:t})}},r._scroller=function(e){if(!r.state.scrolling){var t=r.ref.current.lastChild.lastChild.clientWidth,a=r.ref.current.clientWidth,n=t*Math.floor(a/t),c=0,i=r.ref.current.scrollLeft;window.requestAnimationFrame((function t(){var a=.5*(Math.sin((c/20-.5)*Math.PI)+1);r.ref.current.scrollLeft=i+a*n*e,++c<20?window.requestAnimationFrame(t):r.setState({scrolling:!1})})),r.setState({scrolling:!0})}},r.scrollLeft=function(){r._scroller(-1)},r.scrollRight=function(){r._scroller(1)},r.componentDidMount=function(){r.observer.observe(r.componentRef.current)},r.state={fullyLeftScrolled:!0,fullyRightScrolled:!0,scrolling:!1,items:[]},r.ref=n.a.createRef(),r.componentRef=n.a.createRef(),r.observer=new IntersectionObserver(r.observerCallback),r}return Object(u.a)(a,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"relative w-full h-full",ref:this.componentRef,children:[Object(x.jsx)("div",{className:O(this.state.fullyLeftScrolled?"opacity-0 pointer-events-none":"opacity-100","absolute cursor-pointer select-none left-0 md:-left-4 top-1/2 z-10 transition-all duration-250"),children:Object(x.jsx)("div",{className:"sticky bg-gray-900 text-white dark:bg-white dark:text-black rounded-full p-2 shadow-2xl transform scale-95 hover:scale-100 opacity-80 hover:opacity-100 transition-opacity transition-transform duration-250",children:Object(x.jsx)(j.a,{className:"rounded-full z-10 p-0 w-8 h-8","aria-hidden":"true",onClick:this.scrollLeft})})}),this.state.items.length?Object(x.jsx)("div",{ref:this.ref,className:"static w-full h-full flex overflow-x-auto pb-1 pt-5 select-none",onScroll:this.scrollPositionHandler,children:Object(x.jsx)("div",{className:"flex flex-nowrap mt-4 mb-4",children:this.state.items})}):this.props.children.length?Object(x.jsx)(k,{}):void 0,Object(x.jsx)("div",{className:O(this.state.fullyRightScrolled?"opacity-0 pointer-events-none":"opacity-100","absolute cursor-pointer select-none right-0 md:-right-4 top-1/2 z-10 transition-all duration-250"),children:Object(x.jsx)("div",{className:"bg-gray-900 text-white dark:bg-white dark:text-black rounded-full p-2 shadow-2xl transform scale-95 hover:scale-100 opacity-80 hover:opacity-100 transition-opacity transition-transform duration-250",children:Object(x.jsx)(j.b,{className:"rounded-full z-10 p-0 w-8 h-8","aria-hidden":"true",onClick:this.scrollRight})})})]})}}]),a}(r.PureComponent),T=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(x.jsx)("section",{className:"w-full flex-grow pt-2",children:Object(x.jsxs)("div",{className:"w-full flex-grow",children:[Object(x.jsx)("h1",{className:"text-3xl text-black dark:text-white font-semibold leading-loose",children:this.props.text}),Object(x.jsx)("h2",{className:"text-md text-gray-600 dark:text-gray-400 font-medium uppercase",children:this.props.subText})]})})}}]),a}(r.PureComponent),N=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(x.jsx)("div",{className:"container mx-auto max-w-6xl pb-10",children:Object(x.jsx)("div",{className:"w-full h-full bg-transparent flex flex-wrap place-items-center p-3",children:this.props.children})})}}]),a}(r.PureComponent),S=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).componentDidMount=function(){e.props.setPath("Discover")},e}return Object(u.a)(a,[{key:"render",value:function(){var e=[];return this.props.discover.forEach((function(t){if(t.items&&t.items.length){var a=t.title.split(" - "),r=Object(s.a)(a,2),n=r[0],c=r[1];e.push(Object(x.jsx)(T,{text:n,subText:c},t.id+t.title+"title")),e.push(Object(x.jsx)(w,{children:t.items.map((function(e){return Object(x.jsx)(y,{mangaUrlizer:t.mangaUrlizer,slug:e.id,coverUrl:e.image,mangaTitle:e.title.text,sourceName:t.sourceName,source:t.source},t.id+e.id)}))},t.id+t.title+"-carousel"))}})),Object(x.jsx)(N,{children:this.props.discover.size?e:Object(x.jsx)(k,{})})}}]),a}(r.PureComponent),M=a(43),E=a(57),C=["MangaKatana","Manga4Life","Guya"],I=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).handleInput=function(e){if("Enter"===e.key&&e.target.value){var t={title:e.target.value};r.props.searchHandler("",{}),r.setState({searching:!0},(function(){r.runSearchQuery(t)}))}},r.runSearchQuery=function(e){Object.entries(r.props.sources).forEach((function(t){var a=Object(s.a)(t,2),n=a[0],c=a[1],i={source:c,query:e};r.runningQueries.add(i),c.searchRequest(e).then((function(t){var a=(t.results||[]).map((function(e){return e.mangaUrlizer=c.getMangaUrl,e.slug=e.id,e.coverUrl=e.image,e.mangaTitle=e.title.text,e.source=c,e.sourceName=n,e}));r.props.searchHandler(e.title,Object(E.a)(Object(E.a)({},r.props.searchResults),{},Object(M.a)({},n,a)))})).finally((function(){r.runningQueries.delete(i),r.setState({searching:!!r.runningQueries.size})}))}))},r.componentDidMount=function(){r.props.setPath("Search")},r.state={searching:!1},r.runningQueries=new Set,r}return Object(u.a)(a,[{key:"render",value:function(){var e=[];return Object.entries(this.props.searchResults).forEach((function(t){var a=Object(s.a)(t,2),r=a[0],n=a[1];n&&n.length&&(e.push(Object(x.jsx)(T,{text:r,subText:(C.includes(r)?"Recommended - ":"")+"".concat(n.length," result(s)")},"search-".concat(r))),e.push(Object(x.jsx)(w,{children:n.map((function(e){return Object(x.jsx)(y,{mangaUrlizer:e.mangaUrlizer,slug:e.slug,coverUrl:e.coverUrl,mangaTitle:e.mangaTitle,sourceName:e.sourceName,source:e.source},"search-"+r.name+e.id)}))},"search-".concat(r,"-carousel"))))})),Object(x.jsxs)(N,{children:[Object(x.jsx)("input",{className:"w-full mt-8 p-4 pt-4 pb-4 text-2xl text-black bg-gray-200 dark:text-white dark:bg-gray-800 rounded-md focus:outline-none",onKeyPress:this.handleInput,type:"text",defaultValue:this.props.searchQuery,placeholder:"Search..."}),e.length?Object(x.jsx)(N,{children:e}):void 0,this.state.searching?Object(x.jsx)(k,{}):e.length?void 0:this.props.searchQuery?Object(x.jsx)(T,{text:"No results.",subText:"Sorry 'bout that."},"results"):void 0]})}}]),a}(r.PureComponent),q=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).componentDidMount=function(){e.props.setPath("History")},e}return Object(u.a)(a,[{key:"render",value:function(){var e=JSON.parse(localStorage.getItem(m)||"[]").map((function(e){return Object(x.jsx)(y,{mangaUrlizer:function(e){return e},slug:e.identifier,coverUrl:e.coverUrl,mangaTitle:e.title},e.identifier)}));return Object(x.jsxs)(N,{children:[Object(x.jsx)(T,{text:"History",subText:"This includes stuff you've clicked on"}),Object(x.jsx)(w,{children:e},"history")]})}}]),a}(r.PureComponent),L=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(x.jsx)("div",{className:"columns is-mobile is-multiline",children:Object(x.jsx)("section",{className:"hero column is-full",children:Object(x.jsx)("div",{className:"hero-body",children:Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)("h1",{className:"title",children:"404"}),Object(x.jsxs)("h2",{className:"subtitle",children:["Go home? Or visit ",Object(x.jsx)("a",{href:"https://cubari.moe/",children:"cubari.moe"}),"."]})]})})})})}}]),a}(r.PureComponent),R=a(2),D=a.n(R),H=a(5),P=a(3),G=a(4),_=a(61),U=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).requestManager={requestsPerSecond:2.5,requestTimeout:15e3,schedule:function(){var e=Object(P.a)(D.a.mark((function e(t,a){var r,n,c,i,s,o,u;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null!==(r=t.headers)&&void 0!==r?r:{},s=t.data,null===(n=i["content-type"])||void 0===n?void 0:n.includes("application/x-www-form-urlencoded"))for(o in s="",t.data)s&&(s+="&"),s+="".concat(o,"=").concat(t.data[o]);return e.next=5,_({url:"https://cors.bridged.cc/".concat(t.url).concat(null!==(c=t.param)&&void 0!==c?c:""),method:t.method,headers:i,data:s,timeout:this.requestTimeout||0});case 5:return u=e.sent,e.abrupt("return",Promise.resolve(createResponseObject({data:u.data,status:u.status,headers:u.headers,request:t})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},e}return a}(G.Source),A="https://nhentai.net",J={version:"2.0.2",name:"nHentai",description:"Extension which pulls 18+ content from nHentai. (Literally all of it. We know why you're here)",author:"VibrantClouds",authorWebsite:"https://github.com/conradweiser",icon:"logo.png",hentaiSource:!1,sourceTags:[{text:"18+",type:G.TagType.YELLOW}],websiteBaseURL:A},z=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(u.a)(a,[{key:"getMangaUrl",value:function(e){return"https://cubari.moe/g/".concat(e,"/")}},{key:"getSourceDetails",value:function(){return J}},{key:"convertLanguageToCode",value:function(e){switch(e.toLowerCase()){case"english":return G.LanguageCode.ENGLISH;case"japanese":return G.LanguageCode.JAPANESE;case"chinese":return G.LanguageCode.CHINEESE;default:return G.LanguageCode.UNKNOWN}}},{key:"getMangaDetails",value:function(){var e=Object(P.a)(D.a.mark((function e(t){var a,r,n,c,i,s,o,u,l,d,h,p,g,f,m,v,b,x,y,j,O,k,w,T,N,S;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=createRequestObject({url:"".concat(A,"/g/").concat(t),method:"GET"}),e.next=3,this.requestManager.schedule(o,1);case 3:u=e.sent,l=this.cheerio.load(u.data),l("[itemprop=name]"),d=null!==(a=l("[itemprop=image]").attr("content"))&&void 0!==a?a:"",h=null!==(r=l("[itemprop=name]").attr("content"))&&void 0!==r?r:"",p=[createTagSection({id:"0",label:"tag",tags:[]})],g=null!==(n=null===(c=l('meta[name="twitter:description"]').attr("content"))||void 0===c?void 0:c.split(","))&&void 0!==n?n:[],p[0].tags=g.map((function(e){return createTag({id:e.trim(),label:e.trim()})})),h=h.replace(/(\[.+?\])/g,"").trim(),f=[h],m=l("#info"),v=null!==(i=l("h1",m).text())&&void 0!==i?i:"",b=null!==(s=l("h2",m).text())&&void 0!==s?s:"",v&&f.push(v.trim()),b&&f.push(b.trim()),x=l("#info-block"),y="","",j=Object(H.a)(l(".tag-container",x).toArray());try{for(j.s();!(O=j.n()).done;)k=O.value,l(k).text().indexOf("Artists")>-1?(w=l("a",k).text(),y=w.substring(0,w.search(/\d/))):l(k).text().indexOf("Languages")>-1&&((T=l("a",k)).toArray().length>1?(N=l(T.toArray()[1]).text(),N.substring(0,N.indexOf(" ("))):(S=T.text(),S.substring(0,S.indexOf(" ("))))}catch(M){j.e(M)}finally{j.f()}return 1,!0,e.abrupt("return",createManga({id:t,titles:f,image:d,rating:0,status:1,artist:y,tags:p,hentai:!1}));case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapters",value:function(){var e=Object(P.a)(D.a.mark((function e(t){var a,r,n,c,i,s,o,u,l,d,h,p,g;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=createRequestObject({url:"".concat(A,"/g/").concat(t),method:"GET"}),e.next=3,this.requestManager.schedule(n,1);case 3:c=e.sent,i=this.cheerio.load(c.data),s=[],o=null!==(a=i("[itemprop=name]").attr("content"))&&void 0!==a?a:"",u=new Date(null!==(r=i("time").attr("datetime"))&&void 0!==r?r:""),o=o.replace(/(\[.+?\])/g,"").trim(),l=G.LanguageCode.UNKNOWN,d=Object(H.a)(i(".tag-container").toArray()),e.prev=11,d.s();case 13:if((h=d.n()).done){e.next=32;break}if(p=h.value,!(i(p).text().indexOf("Languages")>-1)){e.next=30;break}if(!(g=i("span",p).text()).includes("japanese")){e.next=22;break}return l=G.LanguageCode.JAPANESE,e.abrupt("break",32);case 22:if(!g.includes("english")){e.next=27;break}return l=G.LanguageCode.ENGLISH,e.abrupt("break",32);case 27:if(!g.includes("chinese")){e.next=30;break}return l=G.LanguageCode.CHINEESE,e.abrupt("break",32);case 30:e.next=13;break;case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(11),d.e(e.t0);case 37:return e.prev=37,d.f(),e.finish(37);case 40:return s.push(createChapter({id:"1",mangaId:t,name:o,chapNum:1,time:u,langCode:l})),e.abrupt("return",s);case 42:case"end":return e.stop()}}),e,this,[[11,34,37,40]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapterDetails",value:function(){var e=Object(P.a)(D.a.mark((function e(t,a){var r,n,c,i,s,o,u,l,d,h,p,g,f,m;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=createRequestObject({url:"".concat(A,"/g/").concat(t),method:"GET"}),e.next=3,this.requestManager.schedule(r,1);case 3:n=e.sent,c=this.cheerio.load(n.data),i=[],s=c("#thumbnail-container"),c(".thumb-container",s).length,o=c("img",s).attr("data-src"),u=parseInt(null===o||void 0===o?void 0:o.match(/.*\/(\d*)\//)[1]),l=1,d=Object(H.a)(c(c("img",".thumb-container")).toArray());try{for(d.s();!(h=d.n()).done;)g=h.value,f=null===(p=c(g).attr("data-src"))||void 0===p?void 0:p.match(/\.([png|jpg]{3,3})/g)[0],i.push("https://i.nhentai.net/galleries/".concat(u,"/").concat(l).concat(f)),l++}catch(v){d.e(v)}finally{d.f()}return m=createChapterDetails({id:a,mangaId:t,pages:i,longStrip:!1}),e.abrupt("return",m);case 15:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"searchRequest",value:function(){var e=Object(P.a)(D.a.mark((function e(t,a){var r,n,c,i,s,o,u,l,d,h,p,g,f,m,v,b,x,y,j,O,k,w,T,N,S;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null!==(r=a)&&void 0!==r?r:{},i=null!==(n=a.page)&&void 0!==n?n:1,s=!1,!1!==t.hStatus&&t.title){e.next=5;break}return e.abrupt("return",createPagedResults({results:[]}));case 5:return o=void 0,(null===(c=t.title)||void 0===c?void 0:c.match(/\d{5,6}/))?(o=createRequestObject({url:"".concat(A,"/g/").concat(t.title),method:"GET"}),s=!0):(t.title=null===(u=t.title)||void 0===u?void 0:u.trim(),t.title=t.title.replace(/ /g,"+")+"+",o=createRequestObject({url:"".concat(A,"/search/?q=").concat(t.title,"&page=").concat(i),method:"GET"}),s=!1),e.next=9,this.requestManager.schedule(o,1);case 9:if(l=e.sent,d=this.cheerio.load(l.data),h=[],!s){e.next=20;break}return f=d("#bigcontainer"),m=d("a",f).attr("href"),v=parseInt(null===m||void 0===m?void 0:m.match(/g\/(\d*)\/\d/)[1]),b=(b=null!==(p=d("[itemprop=name]").attr("content"))&&void 0!==p?p:"").replace(/(\[.+?\])/g,"").trim(),h.push(createMangaTile({id:v.toString(),title:createIconText({text:b}),image:null!==(g=d("[itemprop=image]").attr("content"))&&void 0!==g?g:""})),e.abrupt("return",createPagedResults({results:h}));case 20:x=d(".index-container"),y=Object(H.a)(d(".gallery",x).toArray());try{for(y.s();!(j=y.n()).done;)k=j.value,w=d(k),void 0==(T=d("img",w).attr("data-src"))&&(T="http:"+d("img",w).attr("src")),N=d(".caption",w).text(),S=null===(O=d("a",w).attr("href"))||void 0===O?void 0:O.match(/\/(\d*)\//),N=N.replace(/(\[.+?\])/g,"").trim(),h.push(createMangaTile({id:S[1],title:createIconText({text:N}),image:T}))}catch(M){y.e(M)}finally{y.f()}return d("a.last")?a.page=++i:a=void 0,e.abrupt("return",createPagedResults({results:h,metadata:a}));case 25:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getHomePageSections",value:function(){var e=Object(P.a)(D.a.mark((function e(t){var a,r,n,c,i,s,o,u,l,d,h,p,g,f,m,v,b,x,y,j,O,k,w,T;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createHomeSection({id:"popular",title:"Popular Now"}),r=createHomeSection({id:"new",title:"New Uploads",view_more:!0}),t(a),t(r),n=createRequestObject({url:"".concat(A),method:"GET"}),e.next=7,this.requestManager.schedule(n,1);case 7:c=e.sent,i=[],s=[],o=this.cheerio.load(c.data),u=o(".index-container").first(),l=Object(H.a)(o(".gallery",u).toArray());try{for(l.s();!(d=l.n()).done;)p=d.value,g=o(p),void 0==(f=o("img",g).attr("data-src"))&&(f="http:"+o("img",g).attr("src")),m=(m=o(".caption",g).text()).replace(/(\[.+?\])/g,"").trim(),v=null===(h=o("a",g).attr("href"))||void 0===h?void 0:h.match(/\/(\d*)\//),i.push(createMangaTile({id:v[1],title:createIconText({text:m}),image:f}))}catch(N){l.e(N)}finally{l.f()}a.items=i,t(a),u=o(".index-container").last(),b=Object(H.a)(o(".gallery",u).toArray());try{for(b.s();!(x=b.n()).done;)j=x.value,O=o(j),void 0==(k=o("img",O).attr("data-src"))&&(k="http:"+o("img",O).attr("src")),w=(w=o(".caption",O).text()).replace(/(\[.+?\])/g,"").trim(),T=null===(y=o("a",O).attr("href"))||void 0===y?void 0:y.match(/\/(\d*)\//),s.push(createMangaTile({id:T[1],title:createIconText({text:w}),image:k}))}catch(N){b.e(N)}finally{b.f()}r.items=s,t(r);case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getViewMoreItems",value:function(){var e=Object(P.a)(D.a.mark((function e(t,a){var r,n,c,i,s,o,u,l,d,h,p,g,f,m,v,b;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null!==(r=a)&&void 0!==r?r:{},c=null!==(n=a.page)&&void 0!==n?n:1,i=createRequestObject({url:"".concat(A,"/?page=").concat(c),method:"GET"}),e.next=5,this.requestManager.schedule(i,1);case 5:s=e.sent,o=this.cheerio.load(s.data),u=[],l=o(".index-container"),d=Object(H.a)(o(".gallery",l).toArray());try{for(d.s();!(h=d.n()).done;)g=h.value,f=o(g),void 0==(m=o("img",f).attr("data-src"))&&(m="http:"+o("img",f).attr("src")),v=(v=o(".caption",f).text()).replace(/(\[.+?\])/g,"").trim(),b=null===(p=o("a",f).attr("href"))||void 0===p?void 0:p.match(/\/(\d*)\//),u.push(createMangaTile({id:b[1],title:createIconText({text:v}),image:m}))}catch(t){d.e(t)}finally{d.f()}return o("a.last")?a.page=++c:a=void 0,e.abrupt("return",createPagedResults({results:u,metadata:a}));case 13:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),a}(U),F=function(e,t){var a,r=e("h1.heading").first().text().trim(),n=[];n.push(r),e("div.alt_name").text().trim().replace(" ","").split(";").forEach((function(e){n.push(e)}));var c=null!==(a=e("div.media div.cover img").attr("src"))&&void 0!==a?a:"",i=e(".author").text().trim(),s=e(".summary > p").text().trim(),o=e(".value.status").text().trim(),u=!1,l=[];e(".genres > a").each((function(t,a){var r,n,c=e(a).text().trim(),i=null!==(r=null===(n=e(a).attr("href"))||void 0===n?void 0:n.split("genre/")[1])&&void 0!==r?r:"";["Adult","Smut","Mature"].includes(c)&&(u=!0),l.push({id:i,label:c})}));var d=[createTagSection({id:"0",label:"genres",tags:l.map((function(e){return createTag(e)}))})],h=G.MangaStatus.ONGOING;switch(o){case"Ongoing":h=G.MangaStatus.ONGOING;break;case"Completed":h=G.MangaStatus.COMPLETED;break;default:h=G.MangaStatus.ONGOING}return createManga({id:t,titles:n,image:c,rating:0,status:h,author:i,artist:"",tags:d,desc:s,hentai:u})},W=function(e,t){var a,r=[],n=new RegExp("c([0-9.]+)"),c=Object(H.a)(e("tr:has(.chapter)").toArray());try{for(c.s();!(a=c.n()).done;){var i,s,o,u=a.value,l=e("a",u).text(),d=new Date(null!==(i=e(".update_time",u).text())&&void 0!==i?i:""),h=null!==(s=null===(o=e("a",u).attr("href"))||void 0===o?void 0:o.split("/").pop())&&void 0!==s?s:"",p=Number("0"+h.match(n)[1]);isNaN(p)||r.push(createChapter({id:h,mangaId:t,name:l,langCode:G.LanguageCode.ENGLISH,chapNum:p,time:d}))}}catch(g){c.e(g)}finally{c.f()}return r},B=function(e,t,a){var r,n=[],c=RegExp("var ytaw=\\[([^\\[]*)]"),i=Object(H.a)(e("script").toArray());try{for(i.s();!(r=i.n()).done;){var s,o=null===(s=r.value.children[0])||void 0===s?void 0:s.data;if("undefined"!==typeof o&&o.includes("var ytaw=")){var u,l=o.match(c)[1].replace(/''?/g,"").split(","),d=Object(H.a)(l);try{for(d.s();!(u=d.n()).done;){var h=u.value;""!==h&&n.push(h)}}catch(p){d.e(p)}finally{d.f()}}}}catch(p){i.e(p)}finally{i.f()}return createChapterDetails({id:a,mangaId:t,pages:n,longStrip:!1})},Q=function(e){var t,a=[createTagSection({id:"0",label:"genres",tags:[]})],r=Object(H.a)(e(".wrap_item").toArray());try{for(r.s();!(t=r.n()).done;){var n,c,i=t.value,s=e("a",i).first().text().trim(),o=null!==(n=null===(c=e("a",i).attr("href"))||void 0===c?void 0:c.split("genre/")[1])&&void 0!==n?n:"";a[0].tags.push(createTag({id:o,label:s}))}}catch(u){r.e(u)}finally{r.f()}return a},K=function(e,t,a){var r,n=[],c=!0,i=Object(H.a)(e("div.item","div#book_list").toArray());try{for(i.s();!(r=i.n()).done;){var s,o,u=r.value,l=null!==(s=null===(o=e("a",u).attr("href"))||void 0===o?void 0:o.split("/").pop())&&void 0!==s?s:"";new Date(e(".update_time",u).first().text())>t?a.includes(l)&&n.push(l):c=!1}}catch(d){i.e(d)}finally{i.f()}return{ids:n,loadMore:c}},V=function(e,t,a){var r,n=Object(H.a)(t);try{for(n.s();!(r=n.n()).done;){a(r.value)}}catch(A){n.e(A)}finally{n.f()}var c,i=[],s=Object(H.a)(e("div.item","div#hot_update").toArray());try{for(s.s();!(c=s.n()).done;){var o,u,l,d=c.value,h=e(".title",d).text().trim(),p=null!==(o=null===(u=e("a",d).attr("href"))||void 0===u?void 0:u.split("/").pop())&&void 0!==o?o:"",g=null!==(l=e("img",d).first().attr("src"))&&void 0!==l?l:"",f=e(".chapter",d).first().text().trim();p&&h&&i.push(createMangaTile({id:p,image:g,title:createIconText({text:h}),subtitleText:createIconText({text:f})}))}}catch(A){s.e(A)}finally{s.f()}t[0].items=i,a(t[0]);var m,v=[],b=Object(H.a)(e("div.item","div#hot_book").toArray());try{for(b.s();!(m=b.n()).done;){var x,y,j,O=m.value,k=e(".title",O).text().trim(),w=null!==(x=null===(y=e("a",O).attr("href"))||void 0===y?void 0:y.split("/").pop())&&void 0!==x?x:"",T=null!==(j=e("img",O).attr("data-src"))&&void 0!==j?j:"",N=e(".chapter",O).first().text().trim();w&&k&&v.push(createMangaTile({id:w,image:T,title:createIconText({text:k}),subtitleText:createIconText({text:N})}))}}catch(A){b.e(A)}finally{b.f()}t[1].items=v,a(t[1]);var S,M=[],E=Object(H.a)(e("div.item","div#book_list").toArray());try{for(E.s();!(S=E.n()).done;){var C,I,q,L=S.value,R=e(".title",L).text().trim(),D=null!==(C=null===(I=e("a",L).attr("href"))||void 0===I?void 0:I.split("/").pop())&&void 0!==C?C:"",P=null!==(q=e("img",L).first().attr("src"))&&void 0!==q?q:"",G=e(".chapter",L).first().text().trim();D&&R&&M.push(createMangaTile({id:D,image:P,title:createIconText({text:R}),subtitleText:createIconText({text:G})}))}}catch(A){E.e(A)}finally{E.f()}t[2].items=M,a(t[2]);var _,U=Object(H.a)(t);try{for(U.s();!(_=U.n()).done;){a(_.value)}}catch(A){U.e(A)}finally{U.f()}},$=function(e){var t,a;return null!==(t=null===(a=e.title)||void 0===a?void 0:a.replace(" ","+"))&&void 0!==t?t:""},X=function(e){var t=[];try{var a;if(null===(a=e('meta[property="$=url"]').attr("content"))||void 0===a?void 0:a.includes("/manga/")){var r,n,c,i,s,o=null!==(r=e("h1.heading").first().text().trim())&&void 0!==r?r:"",u=null!==(n=null===(c=e('meta[property$=url]"]').attr("content"))||void 0===c||null===(i=c.split("/"))||void 0===i?void 0:i.pop())&&void 0!==n?n:"",l=null!==(s=e("div.media div.cover img").attr("src"))&&void 0!==s?s:"";u&&o&&t.push(createMangaTile({id:u,image:l,title:createIconText({text:o})}))}else{var d,h=[],p=Object(H.a)(e("div.item","#book_list").toArray());try{for(p.s();!(d=p.n()).done;){var g,f,m,v=d.value,b=e(".title a",v).text().trim(),x=null!==(g=null===(f=e("a",v).attr("href"))||void 0===f?void 0:f.split("/").pop())&&void 0!==g?g:"",y=null!==(m=e("img",v).attr("src"))&&void 0!==m?m:"",j=e(".chapter",v).first().text().trim();!h.includes(x)&&x&&b&&(t.push(createMangaTile({id:x,image:y,title:createIconText({text:b}),subtitleText:createIconText({text:j})})),h.push(x))}}catch(O){p.e(O)}finally{p.f()}}}catch(k){console.log(k)}return t},Y=function(e,t){var a,r=[],n=Object(H.a)(e("div.item","div#book_list").toArray());try{for(n.s();!(a=n.n()).done;){var c,i,s,o=a.value,u=e(".title a",o).text().trim(),l=null!==(c=null===(i=e("a",o).attr("href"))||void 0===i?void 0:i.split("/").pop())&&void 0!==c?c:"",d=null!==(s=e("img",o).attr("src"))&&void 0!==s?s:"",h=e(".chapter",o).first().text().trim();l&&u&&r.push(createMangaTile({id:l,image:d,title:createIconText({text:u}),subtitleText:createIconText({text:h})}))}}catch(p){n.e(p)}finally{n.f()}return r},Z=function(e){var t=!0;return Boolean(e("a.next.page-numbers","ul.uk-pagination").text())&&(t=!1),t},ee="https://mangakatana.com",te="GET",ae={"content-type":"application/x-www-form-urlencoded"},re={version:"1.0.6",name:"MangaKatana",icon:"icon.png",author:"Netsky",authorWebsite:"https://github.com/TheNetsky",description:"Extension that pulls manga from MangaKatana.",hentaiSource:!1,websiteBaseURL:ee,sourceTags:[{text:"Notifications",type:G.TagType.GREEN}]},ne=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"getMangaUrl",value:function(e){return"https://cubari.moe/mk/".concat(ee,"/manga/").concat(e)}},{key:"getSourceDetails",value:function(){return re}},{key:"getMangaShareUrl",value:function(e){return"".concat(ee,"/manga/").concat(e)}},{key:"getMangaDetails",value:function(){var e=Object(P.a)(D.a.mark((function e(t){var a,r,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({url:"".concat(ee,"/manga/"),method:te,param:t}),e.next=3,this.requestManager.schedule(a,1);case 3:return r=e.sent,n=this.cheerio.load(r.data),e.abrupt("return",F(n,t));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapters",value:function(){var e=Object(P.a)(D.a.mark((function e(t){var a,r,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({url:"".concat(ee,"/manga/"),method:te,param:t}),e.next=3,this.requestManager.schedule(a,1);case 3:return r=e.sent,n=this.cheerio.load(r.data),e.abrupt("return",W(n,t));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapterDetails",value:function(){var e=Object(P.a)(D.a.mark((function e(t,a){var r,n,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=createRequestObject({url:"".concat(ee,"/manga/").concat(t,"/").concat(a),method:te}),e.next=3,this.requestManager.schedule(r,1);case 3:return n=e.sent,c=this.cheerio.load(n.data,{xmlMode:!1}),e.abrupt("return",B(c,t,a));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getTags",value:function(){var e=Object(P.a)(D.a.mark((function e(){var t,a,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=createRequestObject({url:"".concat(ee,"/genres"),method:te}),e.next=3,this.requestManager.schedule(t,1);case 3:return a=e.sent,r=this.cheerio.load(a.data),e.abrupt("return",Q(r));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"filterUpdatedManga",value:function(){var e=Object(P.a)(D.a.mark((function e(t,a,r){var n,c,i,s,o;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=1,c={ids:[],loadMore:!0};case 2:if(!c.loadMore){e.next=12;break}return i=createRequestObject({url:"".concat(ee,"/latest/page/").concat(n++),method:te}),e.next=6,this.requestManager.schedule(i,1);case 6:s=e.sent,o=this.cheerio.load(s.data),(c=K(o,a,r)).ids.length>0&&t(createMangaUpdates({ids:c.ids})),e.next=2;break;case 12:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"getHomePageSections",value:function(){var e=Object(P.a)(D.a.mark((function e(t){var a,r,n,c,i,s,o;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createHomeSection({id:"hot_update",title:"Hot Updates"}),r=createHomeSection({id:"hot_manga",title:"Hot Manga",view_more:!0}),n=createHomeSection({id:"latest_updates",title:"Latest Updates",view_more:!0}),c=[a,r,n],i=createRequestObject({url:ee,method:te}),e.next=7,this.requestManager.schedule(i,1);case 7:s=e.sent,o=this.cheerio.load(s.data),V(o,c,t);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getViewMoreItems",value:function(){var e=Object(P.a)(D.a.mark((function e(t,a){var r,n,c,i,s,o,u,l;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=null!==(r=null===(n=a)||void 0===n?void 0:n.page)&&void 0!==r?r:1,i="",e.t0=t,e.next="hot_manga"===e.t0?5:"latest_updates"===e.t0?7:9;break;case 5:return i="/new-manga/page/".concat(c),e.abrupt("break",11);case 7:return i="/latest/page/".concat(c),e.abrupt("break",11);case 9:return e.abrupt("return",Promise.resolve(null));case 11:return s=createRequestObject({url:"".concat(ee),method:te,param:i}),e.next=14,this.requestManager.schedule(s,1);case 14:return o=e.sent,u=this.cheerio.load(o.data),l=Y(u),a=Z(u)?void 0:{page:c+1},e.abrupt("return",createPagedResults({results:l,metadata:a}));case 19:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"searchRequest",value:function(){var e=Object(P.a)(D.a.mark((function e(t,a){var r,n,c,i,s,o,u,l;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=null!==(r=null===(n=a)||void 0===n?void 0:n.page)&&void 0!==r?r:1,i=$(t),s=createRequestObject({url:ee,method:te,headers:ae,param:"/page/".concat(c,"?search=").concat(i,"&search_by=book_name")}),e.next=5,this.requestManager.schedule(s,1);case 5:return o=e.sent,u=this.cheerio.load(o.data),l=X(u),a=Z(u)?void 0:{page:c+1},e.abrupt("return",createPagedResults({results:l,metadata:a}));case 10:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),a}(U),ce="https://guya.moe",ie="".concat(ce,"/api/series"),se="".concat(ce,"/api/get_all_series/"),oe={version:"1.1.1",name:"Guya",icon:"icon.png",author:"funkyhippo",authorWebsite:"https://github.com/funkyhippo",description:"Extension that pulls manga from guya.moe",language:"en",hentaiSource:!1,websiteBaseURL:ce},ue=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"getSourceDetails",value:function(){return oe}},{key:"getMangaUrl",value:function(e){return"https://guya.moe/read/manga/".concat(e,"/")}},{key:"getMangaDetails",value:function(){var e=Object(P.a)(D.a.mark((function e(t){var a,r,n,c,i,s;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({metadata:{mangaId:t},url:se,method:"GET"}),e.next=3,this.requestManager.schedule(a,1);case 3:for(i in r=e.sent,n="string"===typeof r.data?JSON.parse(r.data):r.data,c=[],n)s=n[i],t.includes(s.slug)&&c.push(createManga({id:s.slug,titles:[i],image:"".concat(ce,"/").concat(s.cover),rating:5,status:G.MangaStatus.ONGOING,artist:s.artist,author:s.author,desc:s.description}));return e.abrupt("return",c[0]);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapters",value:function(){var e=Object(P.a)(D.a.mark((function e(t){var a,r,n,c,i,s,o,u,l;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({metadata:{mangaId:t},url:"".concat(ie,"/").concat(t,"/"),method:"GET"}),e.next=3,this.requestManager.schedule(a,1);case 3:for(o in r=e.sent,n="string"===typeof r.data?JSON.parse(r.data):r.data,c=n.chapters,i=n.groups,s=[],c)for(l in(u=c[o]).groups)s.push(createChapter({id:"".concat(o).concat("|").concat(l),mangaId:t,chapNum:Number(o),langCode:G.LanguageCode.ENGLISH,name:u.title,volume:u.volume,group:i[l],time:new Date(1e3*Number(u.release_date[l]))}));return e.abrupt("return",s);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapterDetails",value:function(){var e=Object(P.a)(D.a.mark((function e(t,a){var r,n,c,i,o,u,l,d;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=createRequestObject({url:"".concat(ie,"/").concat(t,"/"),method:"GET"}),e.next=3,this.requestManager.schedule(r,1);case 3:return n=e.sent,c="string"===typeof n.data?JSON.parse(n.data):n.data,i=c.chapters,o=a.split("|"),u=Object(s.a)(o,2),l=u[0],d=u[1],e.abrupt("return",createChapterDetails({id:a,longStrip:!1,mangaId:t,pages:i[l].groups[d].map((function(e){return"".concat(ce,"/media/manga/").concat(t,"/chapters/").concat(i[l].folder,"/").concat(d,"/").concat(e)}))}));case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"searchRequest",value:function(){var e=Object(P.a)(D.a.mark((function e(t,a){var r,n,c,i,s,o,u;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=createRequestObject({url:se,method:"GET"}),e.next=3,this.requestManager.schedule(n,1);case 3:return c=e.sent,i="string"===typeof c.data?JSON.parse(c.data):c.data,s=null!==(r=t.title)&&void 0!==r?r:"",o=Object.keys(i).filter((function(e){return e.toLowerCase().includes(s.toLowerCase())})),u=o.map((function(e){var t=i[e];return createMangaTile({id:t.slug,image:"".concat(ce,"/").concat(t.cover),title:createIconText({text:e})})})),e.abrupt("return",createPagedResults({results:u}));case 9:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getHomePageSections",value:function(){var e=Object(P.a)(D.a.mark((function e(t){var a,r,n,c,i,s,o;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createHomeSection({id:"all_guya",title:"ALL GUYA"}),t(a),r=createRequestObject({url:se,method:"GET"}),e.next=5,this.requestManager.schedule(r,1);case 5:for(s in n=e.sent,c="string"===typeof n.data?JSON.parse(n.data):n.data,i=[],c)o=c[s],i.push(createMangaTile({id:o.slug,image:"".concat(ce,"/").concat(o.cover),title:createIconText({text:s})}));a.items=i,t(a);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"filterUpdatedManga",value:function(){var e=Object(P.a)(D.a.mark((function e(t,a,r){var n,c,i,s,o,u;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=createRequestObject({url:se,method:"GET"}),e.next=3,this.requestManager.schedule(n,1);case 3:for(o in c=e.sent,i="string"===typeof c.data?JSON.parse(c.data):c.data,s=[],i)u=i[o],new Date(1e3*u.last_updated)>=a&&r.includes(o)&&s.push(o);t(createMangaUpdates({ids:s}));case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"getMangaShareUrl",value:function(e){return"".concat(ce,"/read/manga/").concat(e,"/")}}]),a}(U),le="https://mangadex.org",de="https://api.mangadex.org",he={author:"nar1n",description:"Extension that pulls manga from MangaDex",icon:"icon.png",name:"MangaDex",version:"1.0.1",authorWebsite:"https://github.com/nar1n",websiteBaseURL:le,hentaiSource:!1,language:G.LanguageCode.ENGLISH,sourceTags:[{text:"Recommended",type:G.TagType.BLUE},{text:"Notifications",type:G.TagType.GREEN}]},pe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).languageMapping={en:"gb","pt-br":"pt",ru:"ru",fr:"fr","es-la":"es",pl:"pl",tr:"tr",it:"it",es:"es",id:"id",vi:"vn",hu:"hu",zh:"cn",de:"de","zh-hk":"hk",th:"th",bg:"bg",uk:"ua",mn:"mn",ro:"ro",ms:"my",ja:"jp",ko:"kr",cs:"cz",pt:"pt",nl:"nl",no:"no",lt:"lt",da:"dk",fi:"fi"},e}return Object(u.a)(a,[{key:"getMangaUrl",value:function(e){return"https://cubari.moe/read/mangadex/".concat(e)}},{key:"getSourceDetails",value:function(){return he}},{key:"getMangaShareUrl",value:function(e){return"".concat(le,"/manga/").concat(e)}},{key:"getMangaUUIDs",value:function(){var e=Object(P.a)(D.a.mark((function e(t){var a,r,n,c,i,s,o,u,l,d=arguments;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.length>1&&void 0!==d[1]?d[1]:"manga",a=t.length,r=0,n={};case 4:return c=createRequestObject({url:"".concat(de,"/legacy/mapping"),method:"POST",headers:{"content-type":"application/json"},data:{type:"manga",ids:t.slice(r,r+500).map((function(e){return Number(e)}))}}),r+=500,e.next=9,this.requestManager.schedule(c,1);case 9:i=e.sent,s="string"===typeof i.data?JSON.parse(i.data):i.data,o=Object(H.a)(s);try{for(o.s();!(u=o.n()).done;)l=u.value,n[l.data.attributes.legacyId]=l.data.attributes.newId}catch(h){o.e(h)}finally{o.f()}if(!(r>=a)){e.next=15;break}return e.abrupt("break",17);case 15:e.next=4;break;case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAuthors",value:function(){var e=Object(P.a)(D.a.mark((function e(t){var a,r,n,c,i,s,o,u,l,d,h,p;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="".concat(de,"/author/?limit=100"),r=0,n=Object(H.a)(t);try{for(n.s();!(c=n.n()).done;)i=c.value,a+="&ids[".concat(r,"]=").concat(i),r+=1}catch(g){n.e(g)}finally{n.f()}return s=createRequestObject({url:a,method:"GET"}),e.next=7,this.requestManager.schedule(s,1);case 7:o=e.sent,u="string"===typeof o.data?JSON.parse(o.data):o.data,l={},d=Object(H.a)(u.results);try{for(d.s();!(h=d.n()).done;)p=h.value,l[p.data.id]=p.data.attributes.name}catch(g){d.e(g)}finally{d.f()}return e.abrupt("return",l);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getGroups",value:function(){var e=Object(P.a)(D.a.mark((function e(t){var a,r,n,c,i,s,o,u,l,d,h,p,g,f;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.length,r=0,n={};case 3:0,c="".concat(de,"/group/?limit=100&offset=").concat(r),i=0,s=Object(H.a)(t.slice(r,r+100));try{for(s.s();!(o=s.n()).done;)u=o.value,c+="&ids[".concat(i,"]=").concat(u),i+=1}catch(m){s.e(m)}finally{s.f()}return r+=100,l=createRequestObject({url:c,method:"GET"}),e.next=12,this.requestManager.schedule(l,1);case 12:d=e.sent,h="string"===typeof d.data?JSON.parse(d.data):d.data,p=Object(H.a)(h.results);try{for(p.s();!(g=p.n()).done;)f=g.value,n[f.data.id]=f.data.attributes.name}catch(m){p.e(m)}finally{p.f()}if(!(r>=a)){e.next=18;break}return e.abrupt("break",20);case 18:e.next=3;break;case 20:return e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMDHNodeURL",value:function(){var e=Object(P.a)(D.a.mark((function e(t){var a,r,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({url:"".concat(de,"/at-home/server/").concat(t),method:"GET"}),e.next=3,this.requestManager.schedule(a,1);case 3:return r=e.sent,n="string"===typeof r.data?JSON.parse(r.data):r.data,e.abrupt("return",n.baseUrl);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getImageLink",value:function(){var e=Object(P.a)(D.a.mark((function e(t){var a,r,n,c,i,s,o,u,l,d,h,p,g,f=arguments;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=f.length>1&&void 0!==f[1]&&f[1],null!==t){e.next=3;break}return e.abrupt("return","https://i.imgur.com/6TrIues.jpg");case 3:if(void 0===t.kt){e.next=6;break}if(isNaN(Number(t.kt))){e.next=6;break}return e.abrupt("return","https://media.kitsu.io/manga/poster_images/".concat(t.kt,"/small.jpg"));case 6:if(!a){e.next=34;break}if(void 0===t.mal){e.next=16;break}return r=createRequestObject({url:"https://api.jikan.moe/v3/manga/".concat(t.mal,"/pictures"),method:"GET"}),e.next=11,this.requestManager.schedule(r,1);case 11:if(n=e.sent,void 0===(c="string"===typeof n.data?JSON.parse(n.data):n.data).pictures){e.next=16;break}if(!(c.pictures.length>0)){e.next=16;break}return e.abrupt("return",c.pictures[0].small);case 16:if(void 0===t.al){e.next=25;break}return i="query ($id: Int) { Media (id: $id, type: MANGA) {coverImage {large}}}",s={id:t.al},o=createRequestObject({url:"https://graphql.anilist.co",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},data:JSON.stringify({query:i,variables:s})}),e.next=22,this.requestManager.schedule(o,1);case 22:return u=e.sent,l="string"===typeof u.data?JSON.parse(u.data):u.data,e.abrupt("return",l.data.Media.coverImage.large);case 25:if(void 0===t.ap){e.next=34;break}return d=createRequestObject({url:"https://www.anime-planet.com/manga/".concat(t.ap),method:"GET"}),e.next=29,this.requestManager.schedule(d,1);case 29:if(h=e.sent,p=this.cheerio.load(h.data),void 0===(g=p(".screenshots").attr("src"))){e.next=34;break}return e.abrupt("return","https://www.anime-planet.com".concat(g));case 34:return e.abrupt("return","https://i.imgur.com/6TrIues.jpg");case 35:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMangaDetails",value:function(){var e=Object(P.a)(D.a.mark((function e(t){var a,r,n,c,i,s,o,u,l,d,h,p,g,f,m,v,b,x=this;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.includes("-")){e.next=7;break}return e.next=3,this.getMangaUUIDs([t]);case 3:r=e.sent,a=r[t],e.next=8;break;case 7:a=t;case 8:return n=createRequestObject({url:"".concat(de,"/manga/").concat(a),method:"GET"}),e.next=11,this.requestManager.schedule(n,1);case 11:c=e.sent,i="string"===typeof c.data?JSON.parse(c.data):c.data,s=i.data.attributes,o=[s.title[Object.keys(s.title)[0]]].concat(s.altTitles.map((function(e){return x.decodeHTMLEntity(e[Object.keys(e)[0]])}))),u=this.decodeHTMLEntity(s.description.en).replace(/\[\/{0,1}[bus]\]/g,""),l=G.MangaStatus.COMPLETED,"ongoing"==s.status&&(l=G.MangaStatus.ONGOING),d=[],h=Object(H.a)(s.tags);try{for(g=function(){var e=p.value,t=e.attributes.name;d.push(createTag({id:e.id,label:Object.keys(t).map((function(e){return t[e]}))[0]}))},h.s();!(p=h.n()).done;)g()}catch(y){h.e(y)}finally{h.f()}if(f=i.relationships.filter((function(e){return"author"==e.type})).map((function(e){return e.id})),m=i.relationships.filter((function(e){return"artist"==e.type})).map((function(e){return e.id})),0==(v=f.concat(m)).length){e.next=30;break}return e.next=27,this.getAuthors(v);case 27:b=e.sent,f=f.map((function(e){return x.decodeHTMLEntity(b[e])})).join(", "),m=m.map((function(e){return x.decodeHTMLEntity(b[e])})).join(", ");case 30:return e.t0=createManga,e.t1=t,e.t2=o,e.next=35,this.getImageLink(s.links,!0);case 35:return e.t3=e.sent,e.t4=f,e.t5=m,e.t6=u,e.t7=l,e.t8=[createTagSection({id:"tags",label:"Tags",tags:d})],e.t9={id:e.t1,titles:e.t2,image:e.t3,author:e.t4,artist:e.t5,desc:e.t6,rating:5,status:e.t7,tags:e.t8},e.abrupt("return",(0,e.t0)(e.t9));case 43:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapters",value:function(){var e=Object(P.a)(D.a.mark((function e(t){var a,r,n,c,i,s,o,u,l,d,h,p,g,f,m,v,b,x,y,j,O,k,w,T,N=this;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.includes("-")){e.next=7;break}return e.next=3,this.getMangaUUIDs([t]);case 3:r=e.sent,a=r[t],e.next=8;break;case 7:a=t;case 8:n=[],c=0,i=[];case 11:return s=createRequestObject({url:"".concat(de,"/manga/").concat(a,"/feed?limit=500&offset=").concat(c),method:"GET"}),e.next=15,this.requestManager.schedule(s,1);case 15:o=e.sent,u="string"===typeof o.data?JSON.parse(o.data):o.data,c+=500,l=Object(H.a)(u.results);try{for(l.s();!(d=l.n()).done;){h=d.value,p=h.data.id,g=h.data.attributes,f=this.decodeHTMLEntity(g.title),m=Number(null===g||void 0===g?void 0:g.chapter),v=Number(null===g||void 0===g?void 0:g.volume),b=g.translatedLanguage,b=Object.keys(this.languageMapping).includes(b)?this.languageMapping[g.translatedLanguage]:"_unkown",x=new Date(g.publishAt),y=h.relationships.filter((function(e){return"scanlation_group"==e.type})).map((function(e){return e.id})),j=Object(H.a)(y);try{for(j.s();!(O=j.n()).done;)k=O.value,i.includes(k)||i.push(k)}catch(S){j.e(S)}finally{j.f()}n.push({id:p,mangaId:t,name:f,chapNum:m,volume:v,langCode:b,groups:y,time:x})}}catch(S){l.e(S)}finally{l.f()}if(!(u.total<=c)){e.next=22;break}return e.abrupt("break",24);case 22:e.next=11;break;case 24:return e.next=26,this.getGroups(i);case 26:return w=e.sent,T=n.map((function(e){return e.group=e.groups.map((function(e){return N.decodeHTMLEntity(w[e])})).join(", ")+"",delete e.groups,createChapter(e)})),e.abrupt("return",T);case 29:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapterDetails",value:function(){var e=Object(P.a)(D.a.mark((function e(t,a){var r,n,c,i,s,o;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.includes("-")){e.next=2;break}throw new Error("OLD ID: PLEASE REFRESH AND CLEAR ORPHANED CHAPTERS");case 2:return e.next=4,this.getMDHNodeURL(a);case 4:return r=e.sent,n=createRequestObject({url:"".concat(de,"/chapter/").concat(a),method:"GET"}),e.next=8,this.requestManager.schedule(n,1);case 8:return c=e.sent,i="string"===typeof c.data?JSON.parse(c.data):c.data,s=i.data.attributes,o=s.data.map((function(e){return"".concat(r,"/data/").concat(s.hash,"/").concat(e)})),e.abrupt("return",createChapterDetails({id:a,mangaId:t,pages:o,longStrip:!1}));case 13:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"searchRequest",value:function(){var e=Object(P.a)(D.a.mark((function e(t,a){var r,n,c,i,s,o,u,l,d,h,p,g,f;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=null!==(r=null===a||void 0===a?void 0:a.offset)&&void 0!==r?r:0,i=[],s=createRequestObject({url:"".concat(de,"/manga?title=").concat(encodeURIComponent(null!==(n=t.title)&&void 0!==n?n:""),"&limit=100&offset=").concat(c),method:"GET"}),e.next=5,this.requestManager.schedule(s,1);case 5:if(200==(o=e.sent).status){e.next=8;break}return e.abrupt("return",createPagedResults({results:i}));case 8:u="string"===typeof o.data?JSON.parse(o.data):o.data,l=Object(H.a)(u.results),e.prev=10,l.s();case 12:if((d=l.n()).done){e.next=29;break}return h=d.value,p=h.data.id,g=h.data.attributes,f=this.decodeHTMLEntity(g.title[Object.keys(g.title)[0]]),e.t0=i,e.t1=createMangaTile,e.t2=p,e.t3=createIconText({text:f}),e.next=23,this.getImageLink(g.links);case 23:e.t4=e.sent,e.t5={id:e.t2,title:e.t3,image:e.t4},e.t6=(0,e.t1)(e.t5),e.t0.push.call(e.t0,e.t6);case 27:e.next=12;break;case 29:e.next=34;break;case 31:e.prev=31,e.t7=e.catch(10),l.e(e.t7);case 34:return e.prev=34,l.f(),e.finish(34);case 37:return e.abrupt("return",createPagedResults({results:i,metadata:{offset:c+100}}));case 38:case"end":return e.stop()}}),e,this,[[10,31,34,37]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getHomePageSections",value:function(){var e=Object(P.a)(D.a.mark((function e(t){var a,r,n,c,i,s=this;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=[{request:createRequestObject({url:"".concat(de,"/manga?limit=20"),method:"GET"}),section:createHomeSection({id:"recently_updated",title:"RECENTLY UPDATED TITLES",view_more:!0})},{request:createRequestObject({url:"".concat(de,"/manga?limit=20&publicationDemographic[0]=shounen"),method:"GET"}),section:createHomeSection({id:"shounen",title:"UPDATED SHOUNEN TITLES",view_more:!0})},{request:createRequestObject({url:"".concat(de,"/manga?limit=20&includedTags[0]=391b0423-d847-456f-aff0-8b0cfc03066b"),method:"GET"}),section:createHomeSection({id:"action",title:"UPDATED ACTION TITLES",view_more:!0})}],r=[],n=function(){var e=i[c];t(e.section),r.push(s.requestManager.schedule(e.request,1).then(function(){var a=Object(P.a)(D.a.mark((function a(r){var n,c,i,o,u,l,d,h;return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n="string"===typeof r.data?JSON.parse(r.data):r.data,c=[],i=Object(H.a)(n.results),a.prev=3,i.s();case 5:if((o=i.n()).done){a.next=22;break}return u=o.value,l=u.data.id,d=u.data.attributes,h=s.decodeHTMLEntity(d.title[Object.keys(d.title)[0]]),a.t0=c,a.t1=createMangaTile,a.t2=l,a.t3=createIconText({text:h}),a.next=16,s.getImageLink(d.links,!0);case 16:a.t4=a.sent,a.t5={id:a.t2,title:a.t3,image:a.t4},a.t6=(0,a.t1)(a.t5),a.t0.push.call(a.t0,a.t6);case 20:a.next=5;break;case 22:a.next=27;break;case 24:a.prev=24,a.t7=a.catch(3),i.e(a.t7);case 27:return a.prev=27,i.f(),a.finish(27);case 30:e.section.items=c,t(e.section);case 32:case"end":return a.stop()}}),a,null,[[3,24,27,30]])})));return function(e){return a.apply(this,arguments)}}()))},c=0,i=a;c<i.length;c++)n();return e.next=6,Promise.all(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getViewMoreItems",value:function(){var e=Object(P.a)(D.a.mark((function e(t,a){var r,n,c,i,s,o,u,l,d,h,p,g,f,m=this;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=null!==(r=null===a||void 0===a?void 0:a.offset)&&void 0!==r?r:0,i=null!==(n=null===a||void 0===a?void 0:a.collectedIds)&&void 0!==n?n:[],s=[],o="",e.t0=t,e.next="recently_updated"===e.t0?7:"shounen"===e.t0?9:"action"===e.t0?11:13;break;case 7:return o="".concat(de,"/manga?limit=100&offset=").concat(c),e.abrupt("break",13);case 9:return o="".concat(de,"/manga?limit=100&publicationDemographic[0]=shounen&offset=").concat(c),e.abrupt("break",13);case 11:return o="".concat(de,"/manga?limit=100&includedTags[0]=391b0423-d847-456f-aff0-8b0cfc03066b&offset=").concat(c),e.abrupt("break",13);case 13:return u=createRequestObject({url:o,method:"GET"}),e.next=16,this.requestManager.schedule(u,1);case 16:l=e.sent,d="string"===typeof l.data?JSON.parse(l.data):l.data,h=[],p=Object(H.a)(d.results);try{for(f=function(){var e=g.value,t=e.data.id,a=e.data.attributes,r=m.decodeHTMLEntity(a.title[Object.keys(a.title)[0]]);i.includes(t)||h.push(m.getImageLink(a.links,!0).then((function(e){s.push(createMangaTile({id:t,title:createIconText({text:r}),image:e})),i.push(t)})))},p.s();!(g=p.n()).done;)f()}catch(v){p.e(v)}finally{p.f()}return Promise.all(h),e.abrupt("return",createPagedResults({results:s,metadata:{offset:c+100,collectedIds:i}}));case 23:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"filterUpdatedManga",value:function(){var e=Object(P.a)(D.a.mark((function e(t,a,r){var n,c,i,s,o,u,l,d,h,p,g,f,m,v,b,x;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.filter((function(e){return!e.includes("-")})),c={},0==n.length){e.next=7;break}return e.next=5,this.getMangaUUIDs(n);case 5:for(c=e.sent,i=0,s=Object.keys(c);i<s.length;i++)o=s[i],c[c[o]]=o;case 7:u=0,l=!0,d=[];case 10:if(!l){e.next=24;break}return h=a.toISOString().substr(0,a.toISOString().length-5),p=createRequestObject({url:"".concat(de,"/manga?limit=100&offset=").concat(u,"&updatedAtSince=").concat(h),method:"GET"}),e.next=15,this.requestManager.schedule(p,1);case 15:if(204!=(g=e.sent).status){e.next=18;break}return e.abrupt("return");case 18:f="string"===typeof g.data?JSON.parse(g.data):g.data,m=Object(H.a)(f.results);try{for(m.s();!(v=m.n()).done;)b=v.value,x=b.data.id,new Date(b.data.attributes.updatedAt)<=a?l=!1:r.includes(x)?d.push(x):r.includes(c[x])&&d.push(c[x])}catch(y){m.e(y)}finally{m.f()}l&&(u+=100),e.next=10;break;case 24:d.length>0&&t(createMangaUpdates({ids:d}));case 25:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"decodeHTMLEntity",value:function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(t)})).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&mdash;/g,"\u2014").replace(/&ndash;/g,"\u2013").replace(/&rsquo;/g,"\u2019").replace(/&grave;/g,"`").replace(/&apos;/g,"'").replace(/&quest;/g,"?").replace(/&iquest;/g,"\xbf").replace(/&excl;/g,"!").replace(/&num;/g,"#").replace(/&dollar;/g,"$").replace(/&percnt;/g,"%").replace(/&commat;/g,"@").replace(/&ldquo;/g,"\u201c").replace(/&rdquo;/g,"\u201d").replace(/&hellip;/g,"\u2026").replace(/&hearts;/g,"\u2665")}}]),a}(U),ge="https://cover.mangabeast01.com/cover",fe={hot_update:/vm.HotUpdateJSON = (.*);/,latest:/vm.LatestJSON = (.*);/,recommended:/vm.RecommendationJSON = (.*);/,new_titles:/vm.NewSeriesJSON = (.*);/,chapters:/vm.Chapters = (.*);/,directory:/vm.FullDirectory = (.*);/,directory_image_host:/<img ng-src=\"(.*)\//},me=function(e,t){var a,r,n,c,i,s,o,u,l,d=null!==(a=null===(r=e("[type=application\\/ld\\+json]").html())||void 0===r?void 0:r.replace(/\t*\n*/g,""))&&void 0!==a?a:"",h=d.replace(/"alternateName".*?],/g,""),p=null===(n=/"alternateName": \[(.*?)\]/.exec(d))||void 0===n?void 0:n[1].replace(/\"/g,"").split(","),g=JSON.parse(h).mainEntity,f=e(".row"),m=null!==(c=null===(i=e(".ImgHolder").html())||void 0===i||null===(s=i.match(/src="(.*)\//))||void 0===s?void 0:s[1])&&void 0!==c?c:ge;m!==ge&&(ge=m);var v="".concat(ge,"/").concat(t,".jpg"),b=[null!==(o=e("h1",f).first().text())&&void 0!==o?o:""],x=g.author[0];b=b.concat(null!==p&&void 0!==p?p:"");var y=Number(null===(u=e.root().html())||void 0===u||null===(l=u.match(/vm.NumSubs = (.*);/))||void 0===l?void 0:l[1]),j=[createTagSection({id:"0",label:"genres",tags:[]}),createTagSection({id:"1",label:"format",tags:[]})];j[0].tags=g.genre.map((function(e){return createTag({id:e,label:e})}));var O,k=g.dateModified,w=G.MangaStatus.ONGOING,T="",N=(g.genre.includes("Hentai")||g.genre.includes("Adult"),e(".list-group",f)),S=Object(H.a)(e("li",N).toArray());try{for(S.s();!(O=S.n()).done;){var M=O.value;switch(e(".mlabel",M).text()){case"Type:":var E=e("a",M).text();j[1].tags.push(createTag({id:E.trim(),label:E.trim()}));break;case"Status:":w=e(M).text().includes("Ongoing")?G.MangaStatus.ONGOING:G.MangaStatus.COMPLETED;break;case"Description:":T=e("div",M).text().trim()}}}catch(C){S.e(C)}finally{S.f()}return createManga({id:t,titles:b,image:v,rating:0,status:w,author:x,tags:j,desc:T,hentai:!1,follows:y,lastUpdate:k})},ve=function(e,t){var a,r,n,c,i=JSON.parse(null!==(a=null===(r=e.root().html())||void 0===r||null===(n=r.match(fe.chapters))||void 0===n?void 0:n[1])&&void 0!==a?a:"").reverse(),s=[],o=Object(H.a)(i);try{for(o.s();!(c=o.n()).done;){var u=c.value,l=u.Chapter,d=Number(l.substring(0,1)),h=1!=d?"-index-"+d:"",p=parseInt(l.slice(1,-1)),g=Number(l[l.length-1]),f=t+"-chapter-"+p+(0!=g?"."+g:"")+h+".html",m=p+.1*g,v=u.ChapterName?u.ChapterName:"",b=u.Date.replace(/-/g,"/"),x=new Date(b);s.push(createChapter({id:f,mangaId:t,name:v,chapNum:m,volume:d,langCode:G.LanguageCode.ENGLISH,time:x}))}}catch(y){o.e(y)}finally{o.f()}return s},be=function(e,t,a){for(var r,n,c,i=[],s=null===(r=e.match(/ng-src="https:\/\/{{([a-zA-Z0-9.]+)}}\/manga\/.+\.png/))||void 0===r?void 0:r[1],o=null===(n=e.match(new RegExp("".concat(s,' = "(.*)";'))))||void 0===n?void 0:n[1],u=JSON.parse(null===(c=e.match(/vm.CurChapter = (.*);/))||void 0===c?void 0:c[1]),l=Number(u.Page),d=u.Chapter.slice(1,-1),h=u.Chapter[u.Chapter.length-1],p=0==h?d:d+"."+h,g=0;g<l;g++){var f="000"+(g+1),m=f.substr(f.length-3);i.push("https://".concat(o,"/manga/").concat(t,"/").concat(""==u.Directory?"":u.Directory+"/").concat(p,"-").concat(m,".png"))}return createChapterDetails({id:a,mangaId:t,pages:i,longStrip:!1})},xe=function(e,t,a){var r,n,c=e.data,i={ids:[]},s=JSON.parse(null===(r=c.match(fe.latest))||void 0===r?void 0:r[1]),o=Object(H.a)(s);try{for(o.s();!(n=o.n()).done;){var u=n.value;a.includes(u.IndexName)&&t<new Date(u.Date)&&i.ids.push(u.IndexName)}}catch(l){o.e(l)}finally{o.f()}return i},ye=function(e){var t,a,r,n,c,i,s="";switch(e.status){case 0:s="Completed";break;case 1:s="Ongoing";break;default:s=""}var o=e.includeGenre?e.includeDemographic?e.includeGenre.concat(e.includeDemographic):e.includeGenre:e.includeDemographic,u=e.excludeGenre?e.excludeDemographic?e.excludeGenre.concat(e.excludeDemographic):e.excludeGenre:e.excludeDemographic;return{keyword:null===(t=e.title)||void 0===t?void 0:t.toLowerCase(),author:(null===(a=e.author)||void 0===a?void 0:a.toLowerCase())||(null===(r=e.artist)||void 0===r?void 0:r.toLowerCase())||"",status:null!==(n=null===(c=s)||void 0===c?void 0:c.toLowerCase())&&void 0!==n?n:"",type:null===(i=e.includeFormat)||void 0===i?void 0:i.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.toLowerCase())&&void 0!==t?t:""})),genre:null===o||void 0===o?void 0:o.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.toLowerCase())&&void 0!==t?t:""})),genreNo:null===u||void 0===u?void 0:u.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.toLowerCase())&&void 0!==t?t:""}))}},je=function(e,t){var a,r,n,c,i=[],s=JSON.parse(null!==(a=null===e||void 0===e||null===(r=e.match(fe.directory))||void 0===r?void 0:r[1])&&void 0!==a?a:"").Directory,o=null!==(n=null===e||void 0===e||null===(c=e.match(fe.directory_image_host))||void 0===c?void 0:c[1])&&void 0!==n?n:ge;o!==ge&&(ge=o);var u,l=Object(H.a)(s);try{var d=function(){var e,a,r,n,c,s,o=u.value,l="undefined"===typeof t.keyword,d=""===t.author,h=""===t.status,p=!("undefined"!==typeof t.type&&t.type.length>0),g=!("undefined"!==typeof t.genre&&t.genre.length>0),m="undefined"!==typeof t.genreNo;l||(l=[].concat(Object(f.a)(null!==(r=o.al)&&void 0!==r?r:[]),[null!==(n=o.s)&&void 0!==n?n:""]).join("||").toLowerCase().includes(t.keyword));d||(null!==(c=null===(s=o.a)||void 0===s?void 0:s.join("||").toLowerCase())&&void 0!==c?c:"").includes(t.author)&&(d=!0);h||("ongoing"==o.st&&"ongoing"==t.status||"ongoing"!=o.st&&"ongoing"!=t.ss)&&(h=!0);var v=null!==(e=null===(a=o.g)||void 0===a?void 0:a.join("||"))&&void 0!==e?e:"";p||(p=t.type.includes(o.t)),g||(g=t.genre.every((function(e){return v.includes(e)}))),m&&(m=t.genreNo.every((function(e){return v.includes(e)}))),l&&d&&h&&p&&g&&!m&&i.push(createMangaTile({id:o.i,title:createIconText({text:o.s}),image:"".concat(ge,"/").concat(o.i,".jpg"),subtitleText:createIconText({text:o.st})}))};for(l.s();!(u=l.n()).done;)d()}catch(h){l.e(h)}finally{l.f()}return createPagedResults({results:i})},Oe=function(e){var t,a,r,n=[createTagSection({id:"0",label:"genres",tags:[]}),createTagSection({id:"1",label:"format",tags:[]})],c=JSON.parse(null===(t=e.match(/"Genre"\s*: (.*)/))||void 0===t?void 0:t[1].replace(/'/g,'"')),i=null===(a=e.match(/"Type"\s*: (.*),/g))||void 0===a?void 0:a[1],s=JSON.parse(null===(r=i.match(/(\[.*\])/))||void 0===r?void 0:r[1].replace(/'/g,'"'));return n[0].tags=c.map((function(e){return createTag({id:e,label:e})})),n[1].tags=s.map((function(e){return createTag({id:e,label:e})})),n},ke=function(e,t,a){var r,n,c,i,o,u,l,d=createHomeSection({id:"hot_update",title:"HOT UPDATES",view_more:!0}),h=createHomeSection({id:"latest",title:"LATEST UPDATES",view_more:!0}),p=createHomeSection({id:"new_titles",title:"NEW TITLES",view_more:!0}),g=createHomeSection({id:"recommended",title:"RECOMMENDATIONS",view_more:!0}),f=[d,h,p,g],m=[JSON.parse(null===(r=t.match(fe[d.id]))||void 0===r?void 0:r[1]).slice(0,15),JSON.parse(null===(n=t.match(fe[h.id]))||void 0===n?void 0:n[1]).slice(0,15),JSON.parse(null===(c=t.match(fe[p.id]))||void 0===c?void 0:c[1]).slice(0,15),JSON.parse(null===(i=t.match(fe[g.id]))||void 0===i?void 0:i[1])],v=null!==(o=null===(u=e(".ImageHolder").html())||void 0===u||null===(l=u.match(/ng-src="(.*)\//))||void 0===l?void 0:l[1])&&void 0!==o?o:ge;v!==ge&&(ge=v);var b,x=Object(H.a)(f.entries());try{for(x.s();!(b=x.n()).done;){var y=Object(s.a)(b.value,2),j=y[0],O=y[1];a(O);var k,w=[],T=Object(H.a)(m[j]);try{for(T.s();!(k=T.n()).done;){var N=k.value,S=N.IndexName,M=N.SeriesName,E="".concat(ge,"/").concat(S,".jpg"),C=new Date(N.Date).toDateString();C=(C=C.slice(0,C.length-5)).slice(4,C.length),w.push(createMangaTile({id:S,image:E,title:createIconText({text:M}),secondaryText:createIconText({text:C,icon:"clock.fill"})}))}}catch(I){T.e(I)}finally{T.f()}O.items=w,a(O)}}catch(I){x.e(I)}finally{x.f()}},we=function(e,t){var a,r=[],n=new Set;if(!fe[t])return null;var c,i=JSON.parse(null===(a=e.match(fe[t]))||void 0===a?void 0:a[1]),s=Object(H.a)(i);try{for(s.s();!(c=s.n()).done;){var o=c.value,u=o.IndexName;if(!n.has(u)){var l=o.SeriesName,d="".concat(ge,"/").concat(u,".jpg"),h=new Date(o.Date).toDateString();h=(h=h.slice(0,h.length-5)).slice(4,h.length),r.push(createMangaTile({id:u,image:d,title:createIconText({text:l}),secondaryText:"new_titles"!==t?createIconText({text:h,icon:"clock.fill"}):void 0})),n.add(u)}}}catch(p){s.e(p)}finally{s.f()}return createPagedResults({results:r})},Te="https://manga4life.com",Ne={"content-type":"application/x-www-form-urlencoded"},Se="GET",Me={version:"2.1.8",name:"Manga4Life",icon:"icon.png",author:"Daniel Kovalevich",authorWebsite:"https://github.com/DanielKovalevich",description:"Extension that pulls manga from MangaLife, includes Advanced Search and Updated manga fetching",hentaiSource:!1,websiteBaseURL:Te,sourceTags:[{text:"Notifications",type:G.TagType.GREEN},{text:"Cloudflare",type:G.TagType.RED}]},Ee=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"getMangaUrl",value:function(e){return"https://cubari.moe/ml/".concat(e)}},{key:"getSourceDetails",value:function(){return Me}},{key:"getMangaShareUrl",value:function(e){return"".concat(Te,"/manga/").concat(e)}},{key:"getMangaDetails",value:function(){var e=Object(P.a)(D.a.mark((function e(t){var a,r,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({url:"".concat(Te,"/manga/"),method:Se,param:t}),e.next=3,this.requestManager.schedule(a,1);case 3:return r=e.sent,n=this.cheerio.load(r.data),e.abrupt("return",me(n,t));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapters",value:function(){var e=Object(P.a)(D.a.mark((function e(t){var a,r,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({url:"".concat(Te,"/manga/"),method:Se,headers:Ne,param:t}),e.next=3,this.requestManager.schedule(a,1);case 3:return r=e.sent,n=this.cheerio.load(r.data),e.abrupt("return",ve(n,t));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapterDetails",value:function(){var e=Object(P.a)(D.a.mark((function e(t,a){var r,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=createRequestObject({url:"".concat(Te,"/read-online/"),headers:Ne,method:Se,param:a}),e.next=3,this.requestManager.schedule(r,1);case 3:return n=e.sent,e.abrupt("return",be(n.data,t,a));case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"filterUpdatedManga",value:function(){var e=Object(P.a)(D.a.mark((function e(t,a,r){var n,c,i;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=createRequestObject({url:"".concat(Te,"/"),headers:Ne,method:Se}),e.next=3,this.requestManager.schedule(n,1);case 3:c=e.sent,i=xe(c,a,r),t(createMangaUpdates(i));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"searchRequest",value:function(){var e=Object(P.a)(D.a.mark((function e(t,a){var r,n,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ye(t),n=createRequestObject({url:"".concat(Te,"/directory/"),metadata:r,headers:Ne,method:Se}),e.next=4,this.requestManager.schedule(n,1);case 4:return c=e.sent,e.abrupt("return",je(c.data,r));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getTags",value:function(){var e=Object(P.a)(D.a.mark((function e(){var t,a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=createRequestObject({url:"".concat(Te,"/search/"),method:Se,headers:Ne}),e.next=3,this.requestManager.schedule(t,1);case 3:return a=e.sent,e.abrupt("return",Oe(a.data));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHomePageSections",value:function(){var e=Object(P.a)(D.a.mark((function e(t){var a,r,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({url:"".concat(Te),method:Se}),e.next=3,this.requestManager.schedule(a,1);case 3:r=e.sent,n=this.cheerio.load(r.data),ke(n,r.data,t);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getViewMoreItems",value:function(){var e=Object(P.a)(D.a.mark((function e(t,a){var r,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=createRequestObject({url:Te,method:Se}),e.next=3,this.requestManager.schedule(r,1);case 3:return n=e.sent,e.abrupt("return",we(n.data,t));case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getCloudflareBypassRequest",value:function(){return createRequestObject({url:"".concat(Te),method:"GET"})}}]),a}(U),Ce=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,[{key:"decodeHTMLEntity",value:function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(t)}))}},{key:"parseTileList",value:function(e,t){var a=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===r&&(r=t);var n=[];return e("div[class^=".concat(t,"_grid] *[class^=").concat(r,"_element]")).map((function(t,r){var c=r.attribs.href;if(c){var i={id:c.replace("/series/","").split("/")[0],title:createIconText({text:a.decodeHTMLEntity(e("p",r).first().text().trim())}),image:e("img",r).attr("src")||""};e("p",r).length>1&&(i.primaryText=createIconText({text:a.decodeHTMLEntity(e("p",r).last().text().trim())})),n.push(createMangaTile(i))}})),n}},{key:"parseFeatured",value:function(e,t){var a=this,r=[],n=[];return e("ul.slider li.slide").map((function(c,i){var s=e("a",i).attr("href");if(s){var o=s.replace("/series/","").split("/")[0];r.includes(o)||(r.push(o),n.push(createMangaTile({id:o,title:createIconText({text:a.decodeHTMLEntity(e("h1",i).first().text().trim())}),image:t+e("img",i).attr("src")||"",primaryText:createIconText({text:a.decodeHTMLEntity(e("div p",e("a",i).parent()).first().text().trim())})})))}})),n}},{key:"parsePages",value:function(e){var t=JSON.parse(e("script#__NEXT_DATA__").html()||"{}");if(t){var a=t.props;if(a){var r=a.pageProps;if(r){var n=r.pages;if(n)return n}}}return[]}},{key:"parseChapterList",value:function(e,t){var a=[],r=JSON.parse(e("script#__NEXT_DATA__").html()||"{}");if(r){var n=r.props;if(n){var c=n.pageProps;if(c){var i=c.series;if(i&&i.chapters&&(i.chapters.length||0)>0){for(var s=0;s<i.chapters.length;s++){var o=i.chapters[s];o.number&&a.push(createChapter({chapNum:o.number,id:String(o.number),langCode:G.LanguageCode.ENGLISH,mangaId:t,name:this.decodeHTMLEntity(o.title||"")||void 0,group:(o.groups||[]).join(", ")}))}if(a.length>0)return a}}}}return this.parseChapterListFallback(e,t)}},{key:"parseChapterListFallback",value:function(e,t){var a=this,r=[];return e('a[class^="chaptertile_element"]').map((function(n,c){var i=e("p",c).first().text().replace("Chapter ",""),s=Number(i)||0,o=null;0===s&&(o=i);var u={chapNum:s,id:String(s),langCode:G.LanguageCode.ENGLISH,mangaId:t,name:a.decodeHTMLEntity(o||e("p",c).last().text().trim())};r.push(createChapter(u))})),r}},{key:"parseManga",value:function(e,t){var a=JSON.parse(e("script#__NEXT_DATA__").html()||"{}");if(a){var r=a.props;if(r){var n=r.pageProps;if(n){var c=n.series;if(c&&c.genres&&(c.genres.length||0)>0&&c.title&&c.decription&&c.status&&c.cover_art&&c.conver_art.source){var i,s=[c.title],o=[],u=[];if(c.alt_titles&&(s=s.concat(c.alt_titles)),c.all_covers)for(var l=0;l<c.all_covers.length;l++){var d=c.all_covers[l];o.push("https://images.catmanga.org".concat(d.source||""))}i=(c.status||"").toLowerCase().includes("ongoing")?G.MangaStatus.ONGOING:G.MangaStatus.COMPLETED;for(var h=0;h<c.genres.length;h++){var p=c.genres[h];u.push(createTag({id:p,label:p}))}for(var g=0;g<c.authors.length;g++)c.authors[g]=this.decodeHTMLEntity(c.authors[g]);for(var f=0;f<s.length;f++)s[f]=this.decodeHTMLEntity(s[f]);return createManga({author:(c.authors||[]).join(", "),covers:o,desc:this.decodeHTMLEntity(c.description),id:t,image:c.cover_art.source,rating:0,status:i,tags:[createTagSection({id:"genres",label:"Genres",tags:u})],titles:s})}}}}return this.parseMangaFallback(e,t)}},{key:"parseMangaFallback",value:function(e,t){var a,r=[];e('div[class^="series_tags"] p').map((function(t,a){var n=e(a).text().trim();r.push(createTag({id:n,label:n}))})),a=e('p[class^="series_seriesStatus"]').first().text().trim().toLowerCase().includes("ongoing")?G.MangaStatus.ONGOING:G.MangaStatus.COMPLETED;var n={desc:this.decodeHTMLEntity(e('div[class^="series_seriesDesc"]').first().text().trim()),id:t,image:e("img").attr("src")||"",rating:0,status:a,titles:[this.decodeHTMLEntity(e("h1").first().text())],tags:[createTagSection({id:"tags",label:"Tags",tags:r})]};return createManga(n)}}]),e}(),Ie="https://catmanga.org",qe={icon:"icon.png",version:"1.2.3",name:"CatManga",author:"PythonCoderAS",authorWebsite:"https://github.com/PythonCoderAS",description:"Extension that pulls manga from CatManga",language:"en",hentaiSource:!1,websiteBaseURL:Ie},Le=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).parser=new Ce,e}return Object(u.a)(a,[{key:"getMangaUrl",value:function(e){return"https://catmanga.org/series/".concat(e)}},{key:"getSourceDetails",value:function(){return qe}},{key:"getMangaShareUrl",value:function(e){return"".concat(Ie,"/series/").concat(e)}},{key:"getHomePageSections",value:function(){var e=Object(P.a)(D.a.mark((function e(t){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHomePageData();case 2:return a=e.sent,t(createHomeSection({id:"featured",title:"Featured",items:this.parser.parseFeatured(a,Ie)})),t(createHomeSection({id:"latest",title:"Latest",items:this.getLatest(a)})),e.t0=t,e.t1=createHomeSection,e.next=9,this.getWebsiteMangaDirectory(null);case 9:e.t2=e.sent.results,e.t3={id:"all",items:e.t2,title:"All Manga"},e.t4=(0,e.t1)(e.t3),(0,e.t0)(e.t4);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getHomePageData",value:function(){var e=Object(P.a)(D.a.mark((function e(){var t,a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=createRequestObject({url:"".concat(Ie),method:"GET"}),e.next=3,this.requestManager.schedule(t,1);case 3:return a=e.sent,e.abrupt("return",this.cheerio.load(a.data));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getLatest",value:function(e){return this.parser.parseTileList(e,"latestChapterListView","latestChapterView")}},{key:"getWebsiteMangaDirectory",value:function(){var e=Object(P.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=createPagedResults,e.t1=this.parser,e.next=4,this.getHomePageData();case 4:return e.t2=e.sent,e.t3=e.t1.parseTileList.call(e.t1,e.t2,"allseries"),e.t4={results:e.t3},e.abrupt("return",(0,e.t0)(e.t4));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapterDetails",value:function(){var e=Object(P.a)(D.a.mark((function e(t,a){var r,n,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=createRequestObject({url:"".concat(Ie,"/series/").concat(t,"/").concat(a),method:"GET"}),e.next=3,this.requestManager.schedule(r,1);case 3:return n=e.sent,c=this.cheerio.load(n.data),e.abrupt("return",createChapterDetails({id:a,longStrip:!0,mangaId:t,pages:this.parser.parsePages(c)}));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getChapters",value:function(){var e=Object(P.a)(D.a.mark((function e(t){var a,r,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({url:"".concat(Ie,"/series/").concat(t),method:"GET"}),e.next=3,this.requestManager.schedule(a,1);case 3:return r=e.sent,n=this.cheerio.load(r.data),e.abrupt("return",this.parser.parseChapterList(n,t));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMangaDetails",value:function(){var e=Object(P.a)(D.a.mark((function e(t){var a,r,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({url:"".concat(Ie,"/series/").concat(t),method:"GET"}),e.next=3,this.requestManager.schedule(a,1);case 3:return r=e.sent,n=this.cheerio.load(r.data),e.abrupt("return",this.parser.parseManga(n,t));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"searchRequest",value:function(){var e=Object(P.a)(D.a.mark((function e(t,a){var r,n,c,i;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getWebsiteMangaDirectory(null);case 2:for(r=e.sent.results,n=[],c=0;c<r.length;c++)i=r[c],t.title&&(i.title.text||"").toLowerCase().includes(t.title.toLowerCase())&&n.push(i);return e.abrupt("return",createPagedResults({results:n}));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"filterUpdatedManga",value:function(){var e=Object(P.a)(D.a.mark((function e(t,a,r){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}()}]),a}(U),Re=a(28),De=a.n(Re),He={};localStorage.getItem("hentai")||window.location.search.includes("hentai")?He.NHentai=new z(De.a):(He.MangaKatana=new ne(De.a),He.Guya=new ue(De.a),He.MangaDex=new pe(De.a),He.MangaLife=new Ee(De.a),He.CatManga=new Le(De.a));var Pe=He,Ge=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).setIsOpen=function(e){return function(){return r.setState({isOpen:e})}},r.state={isOpen:!1},r}return Object(u.a)(a,[{key:"render",value:function(){return Object(x.jsxs)("button",{className:"p-1 rounded-xl bg-transparent text-black hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white",children:[Object(x.jsx)(j.c,{className:"h-6 w-6","aria-hidden":"true",onClick:this.setIsOpen(!0)}),Object(x.jsx)(b.c,{appear:!0,show:this.state.isOpen,as:r.Fragment,children:Object(x.jsx)(b.a,{open:!!this.state.isOpen,onClose:this.setIsOpen(!1),as:"div",className:"fixed inset-0 z-10 overflow-y-auto",children:Object(x.jsxs)("div",{className:"min-h-screen px-4 text-center",children:[Object(x.jsx)(b.a.Overlay,{className:"fixed inset-0"}),Object(x.jsx)("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"\u200b"}),Object(x.jsx)(b.c.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:Object(x.jsxs)("div",{className:"text-black dark:text-white inline-block bg-gray-100 dark:bg-gray-800 w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg",children:[Object(x.jsxs)(b.a.Description,{className:"-mt-2",children:[Object(x.jsx)(T,{text:"About"}),"While this project is related to cubari.moe, it should be considered distinct (and will evolve indepdently of the main website).",Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),"Sources that have decent readers and/or no ads may be included.",Object(x.jsx)(T,{text:"Credits"}),"All sources are powered by Paperback's extensions."," ",Object(x.jsx)("a",{href:"https://paperback.moe/",children:"Check out the app if you're on iOS."})]}),Object(x.jsx)("button",{className:"mt-10 bg-transparent text-black hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white block px-3 py-2 rounded-md text-base font-medium",onClick:this.setIsOpen(!1),children:"Cool"})]})})]})})})]})}}]),a}(r.PureComponent),_e={dark:{rootClasses:["dark","bg-gray-900"]},light:{rootClasses:["bg-gray-100"]}},Ue=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;Object(o.a)(this,a),(r=t.call(this,e)).setTheme=function(e){var t;window.localStorage.setItem("theme",e),document.body.className="",(t=document.body.classList).add.apply(t,Object(f.a)(_e[e].rootClasses)),r.setState({theme:e})},r.componentDidMount=function(){r.setTheme(window.localStorage.getItem("theme"))};var n=window.localStorage.getItem("theme");return n||window.localStorage.setItem("theme","dark"),r.state={theme:n},r}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return Object(x.jsx)("div",{className:"p-1 rounded-full bg-transparent text-black hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white ml-3 mr-3",children:"dark"===this.state.theme?Object(x.jsx)(j.g,{className:"h-6 w-6",onClick:function(){return e.setTheme("light")}}):Object(x.jsx)(j.e,{className:"h-6 w-6",onClick:function(){return e.setTheme("dark")}})})}}]),a}(r.PureComponent),Ae={Discover:{href:"/",inNav:!0,component:function(e){return Object(x.jsx)(S,{discover:e.state.discover,setPath:e.setPath})}},Search:{href:"/search",inNav:!0,component:function(e){return Object(x.jsx)(I,{searchResults:e.state.searchResults,searchQuery:e.state.searchQuery,searchHandler:e.searchHandler,sources:e.sources,setPath:e.setPath})}},History:{href:"/history",inNav:!0,component:function(e){return Object(x.jsx)(q,{setPath:e.setPath})}}},Je=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).setPath=function(e){r.setState({current:e})},r.searchHandler=function(e,t){r.setState({searchQuery:e,searchResults:t})},r.initializeDiscoverItems=function(){Object.entries(r.sources).forEach((function(e){var t=Object(s.a)(e,2),a=t[0],n=t[1];n.getHomePageSections((function(e){e.title.startsWith(n.getSourceDetails().name)||(e.title="".concat(n.getSourceDetails().name," - ").concat(e.title)),e.source=n,e.mangaUrlizer=n.getMangaUrl,e.sourceName=a,e.items&&e.items.length&&r.setState({discover:new Set(r.state.discover).add(e)})}))}))},r.componentDidMount=function(){r.initializeDiscoverItems()},r.state={discover:new Set,searchQuery:"",searchResults:new Set,current:void 0},r.sources=Pe,r}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return Object(x.jsxs)(h.a,{children:[Object(x.jsx)(b.b,{as:"nav",className:"bg-transparent",children:function(t){var a=t.open;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"max-w-6xl mx-auto px-2 md:px-0 lg:px-0",children:Object(x.jsxs)("div",{className:"relative flex items-center justify-between h-16",children:[Object(x.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center sm:hidden",children:Object(x.jsxs)(b.b.Button,{className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",children:[Object(x.jsx)("span",{className:"sr-only",children:"Open main menu"}),a?Object(x.jsx)(j.h,{className:"block h-6 w-6","aria-hidden":"true"}):Object(x.jsx)(j.d,{className:"block h-6 w-6","aria-hidden":"true"})]})}),Object(x.jsxs)("div",{className:"flex-1 flex sm:ml-3 items-center justify-center sm:items-stretch sm:justify-start",children:[Object(x.jsx)("div",{className:"flex-shrink-0 flex items-center"}),Object(x.jsx)("div",{className:"hidden sm:block",children:Object(x.jsx)("div",{className:"flex space-x-4",children:Object.keys(Ae).map((function(t){var a=t;if(t=Ae[a],Ae[a].inNav)return Object(x.jsx)(h.b,{to:t.href,onClick:function(){e.setState({current:a})},className:O(a===e.state.current?"bg-black text-white dark:bg-gray-800 dark:text-white":"bg-transparent text-black hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white","px-3 py-2 rounded-md text-md font-medium"),"aria-current":a===e.state.current?"page":void 0,children:a},a)}))})})]}),Object(x.jsxs)("div",{className:"absolute sm:mr-3 inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0",children:[Object(x.jsx)(Ue,{}),Object(x.jsx)(Ge,{})]})]})}),Object(x.jsx)(b.c,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:Object(x.jsx)(b.b.Panel,{className:"sm:hidden",children:Object(x.jsx)("div",{className:"px-2 pt-2 pb-3 space-y-1",children:Object.keys(Ae).map((function(t){var a=t;if(t=Ae[a],Ae[a].inNav)return Object(x.jsx)(h.b,{to:t.href,onClick:function(){e.setState({current:a})},className:O(a===e.state.current?"bg-black text-white dark:bg-gray-800 dark:text-white":"bg-transparent text-black hover:bg-white dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white","block px-3 py-2 rounded-md text-base font-medium"),"aria-current":a===e.state.current?"page":void 0,children:a},a)}))})})})]})}}),Object(x.jsxs)(p.c,{children:[Object.keys(Ae).map((function(t){return t=Ae[t],Object(x.jsx)(p.a,{exact:!0,path:t.href,children:t.component(e)},t.href)})),Object(x.jsx)(p.a,{children:Object(x.jsx)(L,{})})]})]})}}]),a}(r.Component);i.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(Je,{})}),document.getElementById("root"))},99:function(e,t,a){}},[[219,1,2]]]);