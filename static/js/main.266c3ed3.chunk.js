(this["webpackJsonpcubari-proxy"]=this["webpackJsonpcubari-proxy"]||[]).push([[0],{102:function(e,t,a){},222:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(43),c=a.n(s),i=(a(102),a(16)),o=a(4),u=a(5),l=a(8),d=a(7),p=a(37),h=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(Boolean).join(" ")},f=a(11),g=a(18),m=a(2),v=a.n(m),b=a(9),x=a(3),y=a(6),j="https://nhentai.net",O={version:"2.0.2",name:"nHentai",description:"Extension which pulls 18+ content from nHentai. (Literally all of it. We know why you're here)",author:"VibrantClouds",authorWebsite:"https://github.com/conradweiser",icon:"logo.png",hentaiSource:!1,sourceTags:[{text:"18+",type:y.TagType.YELLOW}],websiteBaseURL:j},k=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(u.a)(a,[{key:"convertLanguageToCode",value:function(e){switch(e.toLowerCase()){case"english":return y.LanguageCode.ENGLISH;case"japanese":return y.LanguageCode.JAPANESE;case"chinese":return y.LanguageCode.CHINEESE;default:return y.LanguageCode.UNKNOWN}}},{key:"getMangaDetails",value:function(){var e=Object(x.a)(v.a.mark((function e(t){var a,r,n,s,c,i,o,u,l,d,p,h,f,g,m,x,y,O,k,w,S,T,N,M,C,E;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=createRequestObject({url:"".concat(j,"/g/").concat(t),method:"GET"}),e.next=3,this.requestManager.schedule(o,1);case 3:u=e.sent,l=this.cheerio.load(u.data),l("[itemprop=name]"),d=null!==(a=l("[itemprop=image]").attr("content"))&&void 0!==a?a:"",p=null!==(r=l("[itemprop=name]").attr("content"))&&void 0!==r?r:"",h=[createTagSection({id:"0",label:"tag",tags:[]})],f=null!==(n=null===(s=l('meta[name="twitter:description"]').attr("content"))||void 0===s?void 0:s.split(","))&&void 0!==n?n:[],h[0].tags=f.map((function(e){return createTag({id:e.trim(),label:e.trim()})})),p=p.replace(/(\[.+?\])/g,"").trim(),g=[p],m=l("#info"),x=null!==(c=l("h1",m).text())&&void 0!==c?c:"",y=null!==(i=l("h2",m).text())&&void 0!==i?i:"",x&&g.push(x.trim()),y&&g.push(y.trim()),O=l("#info-block"),k="","",w=Object(b.a)(l(".tag-container",O).toArray());try{for(w.s();!(S=w.n()).done;)T=S.value,l(T).text().indexOf("Artists")>-1?(N=l("a",T).text(),k=N.substring(0,N.search(/\d/))):l(T).text().indexOf("Languages")>-1&&((M=l("a",T)).toArray().length>1?(C=l(M.toArray()[1]).text(),C.substring(0,C.indexOf(" ("))):(E=M.text(),E.substring(0,E.indexOf(" ("))))}catch(v){w.e(v)}finally{w.f()}return 1,!0,e.abrupt("return",createManga({id:t,titles:g,image:d,rating:0,status:1,artist:k,tags:h,hentai:!1}));case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapters",value:function(){var e=Object(x.a)(v.a.mark((function e(t){var a,r,n,s,c,i,o,u,l,d,p,h,f;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=createRequestObject({url:"".concat(j,"/g/").concat(t),method:"GET"}),e.next=3,this.requestManager.schedule(n,1);case 3:s=e.sent,c=this.cheerio.load(s.data),i=[],o=null!==(a=c("[itemprop=name]").attr("content"))&&void 0!==a?a:"",u=new Date(null!==(r=c("time").attr("datetime"))&&void 0!==r?r:""),o=o.replace(/(\[.+?\])/g,"").trim(),l=y.LanguageCode.UNKNOWN,d=Object(b.a)(c(".tag-container").toArray()),e.prev=11,d.s();case 13:if((p=d.n()).done){e.next=32;break}if(h=p.value,!(c(h).text().indexOf("Languages")>-1)){e.next=30;break}if(!(f=c("span",h).text()).includes("japanese")){e.next=22;break}return l=y.LanguageCode.JAPANESE,e.abrupt("break",32);case 22:if(!f.includes("english")){e.next=27;break}return l=y.LanguageCode.ENGLISH,e.abrupt("break",32);case 27:if(!f.includes("chinese")){e.next=30;break}return l=y.LanguageCode.CHINEESE,e.abrupt("break",32);case 30:e.next=13;break;case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(11),d.e(e.t0);case 37:return e.prev=37,d.f(),e.finish(37);case 40:return i.push(createChapter({id:"1",mangaId:t,name:o,chapNum:1,time:u,langCode:l})),e.abrupt("return",i);case 42:case"end":return e.stop()}}),e,this,[[11,34,37,40]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapterDetails",value:function(){var e=Object(x.a)(v.a.mark((function e(t,a){var r,n,s,c,i,o,u,l,d,p,h,f,g,m;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=createRequestObject({url:"".concat(j,"/g/").concat(t),method:"GET"}),e.next=3,this.requestManager.schedule(r,1);case 3:n=e.sent,s=this.cheerio.load(n.data),c=[],i=s("#thumbnail-container"),s(".thumb-container",i).length,o=s("img",i).attr("data-src"),u=parseInt(null===o||void 0===o?void 0:o.match(/.*\/(\d*)\//)[1]),l=1,d=Object(b.a)(s(s("img",".thumb-container")).toArray());try{for(d.s();!(p=d.n()).done;)f=p.value,g=null===(h=s(f).attr("data-src"))||void 0===h?void 0:h.match(/\.([png|jpg]{3,3})/g)[0],c.push("https://i.nhentai.net/galleries/".concat(u,"/").concat(l).concat(g)),l++}catch(v){d.e(v)}finally{d.f()}return m=createChapterDetails({id:a,mangaId:t,pages:c,longStrip:!1}),e.abrupt("return",m);case 15:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"searchRequest",value:function(){var e=Object(x.a)(v.a.mark((function e(t,a){var r,n,s,c,i,o,u,l,d,p,h,f,g,m,x,y,O,k,w,S,T,N,M,C,E;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null!==(r=a)&&void 0!==r?r:{},c=null!==(n=a.page)&&void 0!==n?n:1,i=!1,!1!==t.hStatus&&t.title){e.next=5;break}return e.abrupt("return",createPagedResults({results:[]}));case 5:return o=void 0,(null===(s=t.title)||void 0===s?void 0:s.match(/\d{5,6}/))?(o=createRequestObject({url:"".concat(j,"/g/").concat(t.title),method:"GET"}),i=!0):(t.title=null===(u=t.title)||void 0===u?void 0:u.trim(),t.title=t.title.replace(/ /g,"+")+"+",o=createRequestObject({url:"".concat(j,"/search/?q=").concat(t.title,"&page=").concat(c),method:"GET"}),i=!1),e.next=9,this.requestManager.schedule(o,1);case 9:if(l=e.sent,d=this.cheerio.load(l.data),p=[],!i){e.next=20;break}return g=d("#bigcontainer"),m=d("a",g).attr("href"),x=parseInt(null===m||void 0===m?void 0:m.match(/g\/(\d*)\/\d/)[1]),y=(y=null!==(h=d("[itemprop=name]").attr("content"))&&void 0!==h?h:"").replace(/(\[.+?\])/g,"").trim(),p.push(createMangaTile({id:x.toString(),title:createIconText({text:y}),image:null!==(f=d("[itemprop=image]").attr("content"))&&void 0!==f?f:""})),e.abrupt("return",createPagedResults({results:p}));case 20:O=d(".index-container"),k=Object(b.a)(d(".gallery",O).toArray());try{for(k.s();!(w=k.n()).done;)T=w.value,N=d(T),void 0==(M=d("img",N).attr("data-src"))&&(M="http:"+d("img",N).attr("src")),C=d(".caption",N).text(),E=null===(S=d("a",N).attr("href"))||void 0===S?void 0:S.match(/\/(\d*)\//),C=C.replace(/(\[.+?\])/g,"").trim(),p.push(createMangaTile({id:E[1],title:createIconText({text:C}),image:M}))}catch(v){k.e(v)}finally{k.f()}return d("a.last")?a.page=++c:a=void 0,e.abrupt("return",createPagedResults({results:p,metadata:a}));case 25:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getHomePageSections",value:function(){var e=Object(x.a)(v.a.mark((function e(t){var a,r,n,s,c,i,o,u,l,d,p,h,f,g,m,x,y,O,k,w,S,T,N,M;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createHomeSection({id:"popular",title:"Popular Now"}),r=createHomeSection({id:"new",title:"New Uploads",view_more:!0}),t(a),t(r),n=createRequestObject({url:"".concat(j),method:"GET"}),e.next=7,this.requestManager.schedule(n,1);case 7:s=e.sent,c=[],i=[],o=this.cheerio.load(s.data),u=o(".index-container").first(),l=Object(b.a)(o(".gallery",u).toArray());try{for(l.s();!(d=l.n()).done;)h=d.value,f=o(h),void 0==(g=o("img",f).attr("data-src"))&&(g="http:"+o("img",f).attr("src")),m=(m=o(".caption",f).text()).replace(/(\[.+?\])/g,"").trim(),x=null===(p=o("a",f).attr("href"))||void 0===p?void 0:p.match(/\/(\d*)\//),c.push(createMangaTile({id:x[1],title:createIconText({text:m}),image:g}))}catch(v){l.e(v)}finally{l.f()}a.items=c,t(a),u=o(".index-container").last(),y=Object(b.a)(o(".gallery",u).toArray());try{for(y.s();!(O=y.n()).done;)w=O.value,S=o(w),void 0==(T=o("img",S).attr("data-src"))&&(T="http:"+o("img",S).attr("src")),N=(N=o(".caption",S).text()).replace(/(\[.+?\])/g,"").trim(),M=null===(k=o("a",S).attr("href"))||void 0===k?void 0:k.match(/\/(\d*)\//),i.push(createMangaTile({id:M[1],title:createIconText({text:N}),image:T}))}catch(v){y.e(v)}finally{y.f()}r.items=i,t(r);case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getViewMoreItems",value:function(){var e=Object(x.a)(v.a.mark((function e(t,a){var r,n,s,c,i,o,u,l,d,p,h,f,g,m,x,y;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null!==(r=a)&&void 0!==r?r:{},s=null!==(n=a.page)&&void 0!==n?n:1,c=createRequestObject({url:"".concat(j,"/?page=").concat(s),method:"GET"}),e.next=5,this.requestManager.schedule(c,1);case 5:i=e.sent,o=this.cheerio.load(i.data),u=[],l=o(".index-container"),d=Object(b.a)(o(".gallery",l).toArray());try{for(d.s();!(p=d.n()).done;)f=p.value,g=o(f),void 0==(m=o("img",g).attr("data-src"))&&(m="http:"+o("img",g).attr("src")),x=(x=o(".caption",g).text()).replace(/(\[.+?\])/g,"").trim(),y=null===(h=o("a",g).attr("href"))||void 0===h?void 0:h.match(/\/(\d*)\//),u.push(createMangaTile({id:y[1],title:createIconText({text:x}),image:m}))}catch(t){d.e(t)}finally{d.f()}return o("a.last")?a.page=++s:a=void 0,e.abrupt("return",createPagedResults({results:u,metadata:a}));case 13:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),a}(y.Source),w=function(e,t){var a,r=[];r.push(e("h1.heading").first().text().trim());var n,s=e("div.alt_name").text().split(";"),c=Object(b.a)(s);try{for(c.s();!(n=c.n()).done;){var i=n.value;r.push(i.trim())}}catch(w){c.e(w)}finally{c.f()}var o,u=null!==(a=e("div.media div.cover img").attr("src"))&&void 0!==a?a:"",l=e(".author").text().trim(),d=e(".summary > p").text().trim(),p=[],h=Object(b.a)(e(".genres > a").toArray());try{for(h.s();!(o=h.n()).done;){var f,g,m=o.value,v=e(m).text().trim(),x=null!==(f=null===(g=e(m).attr("href"))||void 0===g?void 0:g.split("genre/")[1])&&void 0!==f?f:"";["ADULT","SMUT","MATURE"].includes(v.toUpperCase())&&!0,p.push({id:x,label:v})}}catch(w){h.e(w)}finally{h.f()}var j=[createTagSection({id:"0",label:"genres",tags:p.map((function(e){return createTag(e)}))})],O=e(".value.status").text().trim(),k=y.MangaStatus.ONGOING;switch(O.toUpperCase()){case"ONGOING":k=y.MangaStatus.ONGOING;break;case"COMPLETED":k=y.MangaStatus.COMPLETED;break;default:k=y.MangaStatus.ONGOING}return createManga({id:t,titles:r,image:u,rating:0,status:k,author:l,artist:"",tags:j,desc:d,hentai:!1})},S=function(e,t){var a,r=[],n=new RegExp("c([0-9.]+)"),s=Object(b.a)(e("tr:has(.chapter)").toArray());try{for(s.s();!(a=s.n()).done;){var c,i,o,u=a.value,l=e("a",u).text(),d=new Date(null!==(c=e(".update_time",u).text())&&void 0!==c?c:""),p=null!==(i=null===(o=e("a",u).attr("href"))||void 0===o?void 0:o.split("/").pop())&&void 0!==i?i:"",h=Number("0"+p.match(n)[1]);r.push(createChapter({id:p,mangaId:t,name:l,langCode:y.LanguageCode.ENGLISH,chapNum:isNaN(h)?0:h,time:d}))}}catch(f){s.e(f)}finally{s.f()}return r},T=function(e,t,a){var r,n=[],s=RegExp("var ytaw=\\[([^\\[]*)]"),c=Object(b.a)(e("script").toArray());try{for(c.s();!(r=c.n()).done;){var i,o=null===(i=r.value.children[0])||void 0===i?void 0:i.data;if("undefined"!==typeof o&&o.includes("var ytaw=")){var u,l=o.match(s)[1].replace(/''?/g,"").split(","),d=Object(b.a)(l);try{for(d.s();!(u=d.n()).done;){var p=u.value;""!=p&&n.push(p)}}catch(h){d.e(h)}finally{d.f()}}}}catch(h){c.e(h)}finally{c.f()}return createChapterDetails({id:a,mangaId:t,pages:n,longStrip:!1})},N=function(e){var t,a=[createTagSection({id:"0",label:"genres",tags:[]})],r=Object(b.a)(e(".wrap_item").toArray());try{for(r.s();!(t=r.n()).done;){var n,s,c=t.value,i=e("a",c).first().text().trim(),o=null!==(n=null===(s=e("a",c).attr("href"))||void 0===s?void 0:s.split("genre/")[1])&&void 0!==n?n:"";a[0].tags.push(createTag({id:o,label:i}))}}catch(u){r.e(u)}finally{r.f()}return a},M=function(e,t,a){var r,n=[],s=!0,c=Object(b.a)(e("div.item","div#book_list").toArray());try{for(c.s();!(r=c.n()).done;){var i,o,u=r.value,l=null!==(i=null===(o=e("a",u).attr("href"))||void 0===o?void 0:o.split("/").pop())&&void 0!==i?i:"";new Date(e(".update_time",u).first().text())>t?a.includes(l)&&n.push(l):s=!1}}catch(d){c.e(d)}finally{c.f()}return{ids:n,loadMore:s}},C=function(e,t,a){var r,n=Object(b.a)(t);try{for(n.s();!(r=n.n()).done;){a(r.value)}}catch(_){n.e(_)}finally{n.f()}var s,c=[],i=Object(b.a)(e("div.item","div#hot_update").toArray());try{for(i.s();!(s=i.n()).done;){var o,u,l,d=s.value,p=e(".title",d).text().trim(),h=null!==(o=null===(u=e("a",d).attr("href"))||void 0===u?void 0:u.split("/").pop())&&void 0!==o?o:"",f=null!==(l=e("img",d).first().attr("src"))&&void 0!==l?l:"",g=e(".chapter",d).first().text().trim();h&&p&&c.push(createMangaTile({id:h,image:f,title:createIconText({text:p}),subtitleText:createIconText({text:g})}))}}catch(_){i.e(_)}finally{i.f()}t[0].items=c,a(t[0]);var m,v=[],x=Object(b.a)(e("div.item","div#hot_book").toArray());try{for(x.s();!(m=x.n()).done;){var y,j,O,k=m.value,w=e(".title",k).text().trim(),S=null!==(y=null===(j=e("a",k).attr("href"))||void 0===j?void 0:j.split("/").pop())&&void 0!==y?y:"",T=null!==(O=e("img",k).attr("data-src"))&&void 0!==O?O:"",N=e(".chapter",k).first().text().trim();S&&w&&v.push(createMangaTile({id:S,image:T,title:createIconText({text:w}),subtitleText:createIconText({text:N})}))}}catch(_){x.e(_)}finally{x.f()}t[1].items=v,a(t[1]);var M,C=[],E=Object(b.a)(e("div.item","div#book_list").toArray());try{for(E.s();!(M=E.n()).done;){var R,I,L,q=M.value,H=e(".title",q).text().trim(),P=null!==(R=null===(I=e("a",q).attr("href"))||void 0===I?void 0:I.split("/").pop())&&void 0!==R?R:"",D=null!==(L=e("img",q).first().attr("src"))&&void 0!==L?L:"",A=e(".chapter",q).first().text().trim();P&&H&&C.push(createMangaTile({id:P,image:D,title:createIconText({text:H}),subtitleText:createIconText({text:A})}))}}catch(_){E.e(_)}finally{E.f()}t[2].items=C,a(t[2]);var G,U=Object(b.a)(t);try{for(U.s();!(G=U.n()).done;){a(G.value)}}catch(_){U.e(_)}finally{U.f()}},E=function(e){var t,a=null!==(t=e.title)&&void 0!==t?t:"";return encodeURI(a)},R=function(e){var t,a=[],r=[];if(null===(t=e('meta[property="og:url"]').attr("content"))||void 0===t?void 0:t.includes("/manga/")){var n,s,c,i,o,u=null!==(n=e("h1.heading").first().text().trim())&&void 0!==n?n:"",l=null!==(s=null===(c=e("meta[property$=url]").attr("content"))||void 0===c||null===(i=c.split("/"))||void 0===i?void 0:i.pop())&&void 0!==s?s:"",d=null!==(o=e("div.media div.cover img").attr("src"))&&void 0!==o?o:"";!r.includes(l)&&l&&u&&(a.push(createMangaTile({id:l,image:d,title:createIconText({text:u})})),r.push(l))}else{var p,h=Object(b.a)(e("div.item","#book_list").toArray());try{for(h.s();!(p=h.n()).done;){var f,g,m,v=p.value,x=e(".title a",v).text().trim(),y=null!==(f=null===(g=e("a",v).attr("href"))||void 0===g?void 0:g.split("/").pop())&&void 0!==f?f:"",j=null!==(m=e("img",v).attr("src"))&&void 0!==m?m:"",O=e(".chapter",v).first().text().trim();!r.includes(y)&&y&&x&&(a.push(createMangaTile({id:y,image:j,title:createIconText({text:x}),subtitleText:createIconText({text:O})})),r.push(y))}}catch(k){h.e(k)}finally{h.f()}}return a},I=function(e,t){var a,r=[],n=Object(b.a)(e("div.item","div#book_list").toArray());try{for(n.s();!(a=n.n()).done;){var s,c,i,o=a.value,u=e(".title a",o).text().trim(),l=null!==(s=null===(c=e("a",o).attr("href"))||void 0===c?void 0:c.split("/").pop())&&void 0!==s?s:"",d=null!==(i=e("img",o).attr("src"))&&void 0!==i?i:"",p=e(".chapter",o).first().text().trim();l&&u&&r.push(createMangaTile({id:l,image:d,title:createIconText({text:u}),subtitleText:createIconText({text:p})}))}}catch(h){n.e(h)}finally{n.f()}return r},L=function(e){var t=!0;return Boolean(e("a.next.page-numbers","ul.uk-pagination").text())&&(t=!1),t},q="https://mangakatana.com",H="GET",P={"content-type":"application/x-www-form-urlencoded"},D={version:"1.0.6",name:"MangaKatana",icon:"icon.png",author:"Netsky",authorWebsite:"https://github.com/TheNetsky",description:"Extension that pulls manga from MangaKatana.",hentaiSource:!1,websiteBaseURL:q,sourceTags:[{text:"Notifications",type:y.TagType.GREEN}]},A=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"getMangaShareUrl",value:function(e){return"".concat(q,"/manga/").concat(e)}},{key:"getMangaDetails",value:function(){var e=Object(x.a)(v.a.mark((function e(t){var a,r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({url:"".concat(q,"/manga/"),method:H,param:t}),e.next=3,this.requestManager.schedule(a,1);case 3:return r=e.sent,n=this.cheerio.load(r.data),e.abrupt("return",w(n,t));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapters",value:function(){var e=Object(x.a)(v.a.mark((function e(t){var a,r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({url:"".concat(q,"/manga/"),method:H,param:t}),e.next=3,this.requestManager.schedule(a,1);case 3:return r=e.sent,n=this.cheerio.load(r.data),e.abrupt("return",S(n,t));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapterDetails",value:function(){var e=Object(x.a)(v.a.mark((function e(t,a){var r,n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=createRequestObject({url:"".concat(q,"/manga/").concat(t,"/").concat(a),method:H}),e.next=3,this.requestManager.schedule(r,1);case 3:return n=e.sent,s=this.cheerio.load(n.data,{xmlMode:!1}),e.abrupt("return",T(s,t,a));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getTags",value:function(){var e=Object(x.a)(v.a.mark((function e(){var t,a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=createRequestObject({url:"".concat(q,"/genres"),method:H}),e.next=3,this.requestManager.schedule(t,1);case 3:return a=e.sent,r=this.cheerio.load(a.data),e.abrupt("return",N(r));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"filterUpdatedManga",value:function(){var e=Object(x.a)(v.a.mark((function e(t,a,r){var n,s,c,i,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=1,s={ids:[],loadMore:!0};case 2:if(!s.loadMore){e.next=12;break}return c=createRequestObject({url:"".concat(q,"/latest/page/").concat(n++),method:H}),e.next=6,this.requestManager.schedule(c,1);case 6:i=e.sent,o=this.cheerio.load(i.data),(s=M(o,a,r)).ids.length>0&&t(createMangaUpdates({ids:s.ids})),e.next=2;break;case 12:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"getHomePageSections",value:function(){var e=Object(x.a)(v.a.mark((function e(t){var a,r,n,s,c,i,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createHomeSection({id:"hot_update",title:"Hot Updates"}),r=createHomeSection({id:"hot_manga",title:"Hot Manga",view_more:!0}),n=createHomeSection({id:"latest_updates",title:"Latest Updates",view_more:!0}),s=[a,r,n],c=createRequestObject({url:q,method:H}),e.next=7,this.requestManager.schedule(c,1);case 7:i=e.sent,o=this.cheerio.load(i.data),C(o,s,t);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getViewMoreItems",value:function(){var e=Object(x.a)(v.a.mark((function e(t,a){var r,n,s,c,i,o,u,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=null!==(r=null===(n=a)||void 0===n?void 0:n.page)&&void 0!==r?r:1,c="",e.t0=t,e.next="hot_manga"===e.t0?5:"latest_updates"===e.t0?7:9;break;case 5:return c="/new-manga/page/".concat(s),e.abrupt("break",11);case 7:return c="/latest/page/".concat(s),e.abrupt("break",11);case 9:return e.abrupt("return",Promise.resolve(null));case 11:return i=createRequestObject({url:"".concat(q),method:H,param:c}),e.next=14,this.requestManager.schedule(i,1);case 14:return o=e.sent,u=this.cheerio.load(o.data),l=I(u),a=L(u)?void 0:{page:s+1},e.abrupt("return",createPagedResults({results:l,metadata:a}));case 19:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"searchRequest",value:function(){var e=Object(x.a)(v.a.mark((function e(t,a){var r,n,s,c,i,o,u,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=null!==(r=null===(n=a)||void 0===n?void 0:n.page)&&void 0!==r?r:1,c=E(t),i=createRequestObject({url:q,method:H,headers:P,param:"/page/".concat(s,"?search=").concat(c,"&search_by=book_name")}),e.next=5,this.requestManager.schedule(i,1);case 5:return o=e.sent,u=this.cheerio.load(o.data),l=R(u),a=L(u)?void 0:{page:s+1},e.abrupt("return",createPagedResults({results:l,metadata:a}));case 10:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),a}(y.Source),G="https://guya.moe",U="".concat(G,"/api/series"),_="".concat(G,"/api/get_all_series/"),J={version:"1.1.1",name:"Guya",icon:"icon.png",author:"funkyhippo",authorWebsite:"https://github.com/funkyhippo",description:"Extension that pulls manga from guya.moe",language:"en",hentaiSource:!1,websiteBaseURL:G},F=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"getMangaDetails",value:function(){var e=Object(x.a)(v.a.mark((function e(t){var a,r,n,s,c,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({metadata:{mangaId:t},url:_,method:"GET"}),e.next=3,this.requestManager.schedule(a,1);case 3:for(c in r=e.sent,n="string"===typeof r.data?JSON.parse(r.data):r.data,s=[],n)i=n[c],t.includes(i.slug)&&s.push(createManga({id:i.slug,titles:[c],image:"".concat(G,"/").concat(i.cover),rating:5,status:y.MangaStatus.ONGOING,artist:i.artist,author:i.author,desc:i.description}));return e.abrupt("return",s[0]);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapters",value:function(){var e=Object(x.a)(v.a.mark((function e(t){var a,r,n,s,c,i,o,u,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({metadata:{mangaId:t},url:"".concat(U,"/").concat(t,"/"),method:"GET"}),e.next=3,this.requestManager.schedule(a,1);case 3:for(o in r=e.sent,n="string"===typeof r.data?JSON.parse(r.data):r.data,s=n.chapters,c=n.groups,i=[],s)for(l in(u=s[o]).groups)i.push(createChapter({id:"".concat(o).concat("|").concat(l),mangaId:t,chapNum:Number(o),langCode:y.LanguageCode.ENGLISH,name:u.title,volume:u.volume,group:c[l],time:new Date(1e3*Number(u.release_date[l]))}));return e.abrupt("return",i);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapterDetails",value:function(){var e=Object(x.a)(v.a.mark((function e(t,a){var r,n,s,c,o,u,l,d;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=createRequestObject({url:"".concat(U,"/").concat(t,"/"),method:"GET"}),e.next=3,this.requestManager.schedule(r,1);case 3:return n=e.sent,s="string"===typeof n.data?JSON.parse(n.data):n.data,c=s.chapters,o=a.split("|"),u=Object(i.a)(o,2),l=u[0],d=u[1],e.abrupt("return",createChapterDetails({id:a,longStrip:!1,mangaId:t,pages:c[l].groups[d].map((function(e){return"".concat(G,"/media/manga/").concat(t,"/chapters/").concat(c[l].folder,"/").concat(d,"/").concat(e)}))}));case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"searchRequest",value:function(){var e=Object(x.a)(v.a.mark((function e(t,a){var r,n,s,c,i,o,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=createRequestObject({url:_,method:"GET"}),e.next=3,this.requestManager.schedule(n,1);case 3:return s=e.sent,c="string"===typeof s.data?JSON.parse(s.data):s.data,i=null!==(r=t.title)&&void 0!==r?r:"",o=Object.keys(c).filter((function(e){return e.toLowerCase().includes(i.toLowerCase())})),u=o.map((function(e){var t=c[e];return createMangaTile({id:t.slug,image:"".concat(G,"/").concat(t.cover),title:createIconText({text:e})})})),e.abrupt("return",createPagedResults({results:u}));case 9:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getHomePageSections",value:function(){var e=Object(x.a)(v.a.mark((function e(t){var a,r,n,s,c,i,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createHomeSection({id:"all_guya",title:"ALL GUYA"}),t(a),r=createRequestObject({url:_,method:"GET"}),e.next=5,this.requestManager.schedule(r,1);case 5:for(i in n=e.sent,s="string"===typeof n.data?JSON.parse(n.data):n.data,c=[],s)o=s[i],c.push(createMangaTile({id:o.slug,image:"".concat(G,"/").concat(o.cover),title:createIconText({text:i})}));a.items=c,t(a);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"filterUpdatedManga",value:function(){var e=Object(x.a)(v.a.mark((function e(t,a,r){var n,s,c,i,o,u,l,d;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=createRequestObject({url:_,method:"GET"}),e.next=3,this.requestManager.schedule(n,1);case 3:for(o in s=e.sent,c="string"===typeof s.data?JSON.parse(s.data):s.data,i=[],c)u=c[o],l=new Date(1e3*u.last_updated),d=u.slug,l>=a&&r.includes(d)&&i.push(d);t(createMangaUpdates({ids:i}));case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"getMangaShareUrl",value:function(e){return"".concat(G,"/read/manga/").concat(e,"/")}}]),a}(y.Source),z="https://mangadex.org",W="https://api.mangadex.org",B={author:"nar1n",description:"Extension that pulls manga from MangaDex",icon:"icon.png",name:"MangaDex",version:"1.0.3",authorWebsite:"https://github.com/nar1n",websiteBaseURL:z,hentaiSource:!1,language:y.LanguageCode.ENGLISH,sourceTags:[{text:"Recommended",type:y.TagType.BLUE},{text:"Notifications",type:y.TagType.GREEN}]},Q=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).languageMapping={en:"gb","pt-br":"pt",ru:"ru",fr:"fr","es-la":"es",pl:"pl",tr:"tr",it:"it",es:"es",id:"id",vi:"vn",hu:"hu",zh:"cn",de:"de","zh-hk":"hk",th:"th",bg:"bg",uk:"ua",mn:"mn",ro:"ro",ms:"my",ja:"jp",ko:"kr",cs:"cz",pt:"pt",nl:"nl",no:"no",lt:"lt",da:"dk",fi:"fi"},e.requestManager=createRequestManager({requestsPerSecond:4,requestTimeout:15e3}),e}return Object(u.a)(a,[{key:"getMangaShareUrl",value:function(e){return"".concat(z,"/manga/").concat(e)}},{key:"getMangaUUIDs",value:function(){var e=Object(x.a)(v.a.mark((function e(t){var a,r,n,s,c,i,o,u,l,d=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.length>1&&void 0!==d[1]?d[1]:"manga",a=t.length,r=0,n={};case 4:return s=createRequestObject({url:"".concat(W,"/legacy/mapping"),method:"POST",headers:{"content-type":"application/json"},data:{type:"manga",ids:t.slice(r,r+500).map((function(e){return Number(e)}))}}),r+=500,e.next=9,this.requestManager.schedule(s,1);case 9:c=e.sent,i="string"===typeof c.data?JSON.parse(c.data):c.data,o=Object(b.a)(i);try{for(o.s();!(u=o.n()).done;)l=u.value,n[l.data.attributes.legacyId]=l.data.attributes.newId}catch(p){o.e(p)}finally{o.f()}if(!(r>=a)){e.next=15;break}return e.abrupt("break",17);case 15:e.next=4;break;case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAuthors",value:function(){var e=Object(x.a)(v.a.mark((function e(t){var a,r,n,s,c,i,o,u,l,d,p,h;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="".concat(W,"/author/?limit=100"),r=0,n=Object(b.a)(t);try{for(n.s();!(s=n.n()).done;)c=s.value,a+="&ids[".concat(r,"]=").concat(c),r+=1}catch(f){n.e(f)}finally{n.f()}return i=createRequestObject({url:a,method:"GET"}),e.next=7,this.requestManager.schedule(i,1);case 7:o=e.sent,u="string"===typeof o.data?JSON.parse(o.data):o.data,l={},d=Object(b.a)(u.results);try{for(d.s();!(p=d.n()).done;)h=p.value,l[h.data.id]=h.data.attributes.name}catch(f){d.e(f)}finally{d.f()}return e.abrupt("return",l);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getGroups",value:function(){var e=Object(x.a)(v.a.mark((function e(t){var a,r,n,s,c,i,o,u,l,d,p,h,f,g;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.length,r=0,n={};case 3:0,s="".concat(W,"/group/?limit=100&offset=").concat(r),c=0,i=Object(b.a)(t.slice(r,r+100));try{for(i.s();!(o=i.n()).done;)u=o.value,s+="&ids[".concat(c,"]=").concat(u),c+=1}catch(m){i.e(m)}finally{i.f()}return r+=100,l=createRequestObject({url:s,method:"GET"}),e.next=12,this.requestManager.schedule(l,1);case 12:d=e.sent,p="string"===typeof d.data?JSON.parse(d.data):d.data,h=Object(b.a)(p.results);try{for(h.s();!(f=h.n()).done;)g=f.value,n[g.data.id]=g.data.attributes.name}catch(m){h.e(m)}finally{h.f()}if(!(r>=a)){e.next=18;break}return e.abrupt("break",20);case 18:e.next=3;break;case 20:return e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMDHNodeURL",value:function(){var e=Object(x.a)(v.a.mark((function e(t){var a,r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({url:"".concat(W,"/at-home/server/").concat(t),method:"GET"}),e.next=3,this.requestManager.schedule(a,1);case 3:return r=e.sent,n="string"===typeof r.data?JSON.parse(r.data):r.data,e.abrupt("return",n.baseUrl);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getImageLink",value:function(){var e=Object(x.a)(v.a.mark((function e(t){var a,r,n,s,c,i,o,u,l,d,p,h,f,g=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=g.length>1&&void 0!==g[1]&&g[1],null!==t){e.next=3;break}return e.abrupt("return","https://i.imgur.com/6TrIues.jpg");case 3:if(void 0===t.kt){e.next=6;break}if(isNaN(Number(t.kt))){e.next=6;break}return e.abrupt("return","https://media.kitsu.io/manga/poster_images/".concat(t.kt,"/small.jpg"));case 6:if(!a){e.next=34;break}if(void 0===t.mal){e.next=16;break}return r=createRequestObject({url:"https://api.jikan.moe/v3/manga/".concat(t.mal,"/pictures"),method:"GET"}),e.next=11,this.requestManager.schedule(r,1);case 11:if(n=e.sent,void 0===(s="string"===typeof n.data?JSON.parse(n.data):n.data).pictures){e.next=16;break}if(!(s.pictures.length>0)){e.next=16;break}return e.abrupt("return",s.pictures[0].small);case 16:if(void 0===t.al){e.next=25;break}return c="query ($id: Int) { Media (id: $id, type: MANGA) {coverImage {large}}}",i={id:t.al},o=createRequestObject({url:"https://graphql.anilist.co",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},data:JSON.stringify({query:c,variables:i})}),e.next=22,this.requestManager.schedule(o,1);case 22:return u=e.sent,l="string"===typeof u.data?JSON.parse(u.data):u.data,e.abrupt("return",l.data.Media.coverImage.large);case 25:if(void 0===t.ap){e.next=34;break}return d=createRequestObject({url:"https://www.anime-planet.com/manga/".concat(t.ap),method:"GET"}),e.next=29,this.requestManager.schedule(d,1);case 29:if(p=e.sent,h=this.cheerio.load(p.data),void 0===(f=h(".screenshots").attr("src"))){e.next=34;break}return e.abrupt("return","https://www.anime-planet.com".concat(f));case 34:return e.abrupt("return","https://i.imgur.com/6TrIues.jpg");case 35:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMangaDetails",value:function(){var e=Object(x.a)(v.a.mark((function e(t){var a,r,n,s,c,i,o,u,l,d,p,h,f,g,m,x,j,O=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.includes("-")){e.next=7;break}return e.next=3,this.getMangaUUIDs([t]);case 3:r=e.sent,a=r[t],e.next=8;break;case 7:a=t;case 8:return n=createRequestObject({url:"".concat(W,"/manga/").concat(a),method:"GET"}),e.next=11,this.requestManager.schedule(n,1);case 11:s=e.sent,c="string"===typeof s.data?JSON.parse(s.data):s.data,i=c.data.attributes,o=[i.title[Object.keys(i.title)[0]]].concat(i.altTitles.map((function(e){return O.decodeHTMLEntity(e[Object.keys(e)[0]])}))),u=this.decodeHTMLEntity(i.description.en).replace(/\[\/{0,1}[bus]\]/g,""),l=y.MangaStatus.COMPLETED,"ongoing"==i.status&&(l=y.MangaStatus.ONGOING),d=[],p=Object(b.a)(i.tags);try{for(f=function(){var e=h.value,t=e.attributes.name;d.push(createTag({id:e.id,label:Object.keys(t).map((function(e){return t[e]}))[0]}))},p.s();!(h=p.n()).done;)f()}catch(v){p.e(v)}finally{p.f()}if(g=c.relationships.filter((function(e){return"author"==e.type})).map((function(e){return e.id})),m=c.relationships.filter((function(e){return"artist"==e.type})).map((function(e){return e.id})),0==(x=g.concat(m)).length){e.next=30;break}return e.next=27,this.getAuthors(x);case 27:j=e.sent,g=g.map((function(e){return O.decodeHTMLEntity(j[e])})).join(", "),m=m.map((function(e){return O.decodeHTMLEntity(j[e])})).join(", ");case 30:return e.t0=createManga,e.t1=t,e.t2=o,e.next=35,this.getImageLink(i.links,!0);case 35:return e.t3=e.sent,e.t4=g,e.t5=m,e.t6=u,e.t7=l,e.t8=[createTagSection({id:"tags",label:"Tags",tags:d})],e.t9={id:e.t1,titles:e.t2,image:e.t3,author:e.t4,artist:e.t5,desc:e.t6,rating:5,status:e.t7,tags:e.t8},e.abrupt("return",(0,e.t0)(e.t9));case 43:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapters",value:function(){var e=Object(x.a)(v.a.mark((function e(t){var a,r,n,s,c,i,o,u,l,d,p,h,f,g,m,x,y,j,O,k,w,S,T,N,M=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.includes("-")){e.next=7;break}return e.next=3,this.getMangaUUIDs([t]);case 3:r=e.sent,a=r[t],e.next=8;break;case 7:a=t;case 8:n=[],s=0,c=[];case 11:return i=createRequestObject({url:"".concat(W,"/manga/").concat(a,"/feed?limit=500&offset=").concat(s),method:"GET"}),e.next=15,this.requestManager.schedule(i,1);case 15:if(o=e.sent,u="string"===typeof o.data?JSON.parse(o.data):o.data,s+=500,void 0!==u.results){e.next=20;break}throw new Error("Failed to parse json results for ".concat(a));case 20:l=Object(b.a)(u.results);try{for(l.s();!(d=l.n()).done;){p=d.value,h=p.data.id,f=p.data.attributes,g=this.decodeHTMLEntity(f.title),m=Number(null===f||void 0===f?void 0:f.chapter),x=Number(null===f||void 0===f?void 0:f.volume),y=f.translatedLanguage,y=Object.keys(this.languageMapping).includes(y)?this.languageMapping[f.translatedLanguage]:"_unkown",j=new Date(f.publishAt),O=p.relationships.filter((function(e){return"scanlation_group"==e.type})).map((function(e){return e.id})),k=Object(b.a)(O);try{for(k.s();!(w=k.n()).done;)S=w.value,c.includes(S)||c.push(S)}catch(v){k.e(v)}finally{k.f()}n.push({id:h,mangaId:t,name:g,chapNum:m,volume:x,langCode:y,groups:O,time:j})}}catch(v){l.e(v)}finally{l.f()}if(!(u.total<=s)){e.next=24;break}return e.abrupt("break",26);case 24:e.next=11;break;case 26:return e.next=28,this.getGroups(c);case 28:return T=e.sent,N=n.map((function(e){return e.group=e.groups.map((function(e){return M.decodeHTMLEntity(T[e])})).join(", ")+"",delete e.groups,createChapter(e)})),e.abrupt("return",N);case 31:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapterDetails",value:function(){var e=Object(x.a)(v.a.mark((function e(t,a){var r,n,s,c,i,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.includes("-")){e.next=2;break}throw new Error("OLD ID: PLEASE REFRESH AND CLEAR ORPHANED CHAPTERS");case 2:return e.next=4,this.getMDHNodeURL(a);case 4:return r=e.sent,n=createRequestObject({url:"".concat(W,"/chapter/").concat(a),method:"GET"}),e.next=8,this.requestManager.schedule(n,1);case 8:return s=e.sent,c="string"===typeof s.data?JSON.parse(s.data):s.data,i=c.data.attributes,o=i.data.map((function(e){return"".concat(r,"/data/").concat(i.hash,"/").concat(e)})),e.abrupt("return",createChapterDetails({id:a,mangaId:t,pages:o,longStrip:!1}));case 13:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"searchRequest",value:function(){var e=Object(x.a)(v.a.mark((function e(t,a){var r,n,s,c,i,o,u,l,d,p,h,f,g;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=null!==(r=null===a||void 0===a?void 0:a.offset)&&void 0!==r?r:0,c=[],i=createRequestObject({url:"".concat(W,"/manga?title=").concat(encodeURIComponent(null!==(n=t.title)&&void 0!==n?n:""),"&limit=100&offset=").concat(s),method:"GET"}),e.next=5,this.requestManager.schedule(i,1);case 5:if(200==(o=e.sent).status){e.next=8;break}return e.abrupt("return",createPagedResults({results:c}));case 8:if(void 0!==(u="string"===typeof o.data?JSON.parse(o.data):o.data).results){e.next=11;break}throw new Error("Failed to parse json for the given search");case 11:l=Object(b.a)(u.results),e.prev=12,l.s();case 14:if((d=l.n()).done){e.next=31;break}return p=d.value,h=p.data.id,f=p.data.attributes,g=this.decodeHTMLEntity(f.title[Object.keys(f.title)[0]]),e.t0=c,e.t1=createMangaTile,e.t2=h,e.t3=createIconText({text:g}),e.next=25,this.getImageLink(f.links);case 25:e.t4=e.sent,e.t5={id:e.t2,title:e.t3,image:e.t4},e.t6=(0,e.t1)(e.t5),e.t0.push.call(e.t0,e.t6);case 29:e.next=14;break;case 31:e.next=36;break;case 33:e.prev=33,e.t7=e.catch(12),l.e(e.t7);case 36:return e.prev=36,l.f(),e.finish(36);case 39:return e.abrupt("return",createPagedResults({results:c,metadata:{offset:s+100}}));case 40:case"end":return e.stop()}}),e,this,[[12,33,36,39]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getHomePageSections",value:function(){var e=Object(x.a)(v.a.mark((function e(t){var a,r,n,s,c,i=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=[{request:createRequestObject({url:"".concat(W,"/manga?limit=20"),method:"GET"}),section:createHomeSection({id:"recently_updated",title:"RECENTLY UPDATED TITLES",view_more:!0})},{request:createRequestObject({url:"".concat(W,"/manga?limit=20&publicationDemographic[0]=shounen"),method:"GET"}),section:createHomeSection({id:"shounen",title:"UPDATED SHOUNEN TITLES",view_more:!0})},{request:createRequestObject({url:"".concat(W,"/manga?limit=20&includedTags[0]=391b0423-d847-456f-aff0-8b0cfc03066b"),method:"GET"}),section:createHomeSection({id:"action",title:"UPDATED ACTION TITLES",view_more:!0})}],r=[],n=function(){var e=c[s];t(e.section),r.push(i.requestManager.schedule(e.request,1).then(function(){var a=Object(x.a)(v.a.mark((function a(r){var n,s,c,o,u,l,d,p;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n="string"===typeof r.data?JSON.parse(r.data):r.data,s=[],void 0!==n.results){a.next=4;break}throw new Error("Failed to parse json results for section ".concat(e.section.title));case 4:c=Object(b.a)(n.results),a.prev=5,c.s();case 7:if((o=c.n()).done){a.next=24;break}return u=o.value,l=u.data.id,d=u.data.attributes,p=i.decodeHTMLEntity(d.title[Object.keys(d.title)[0]]),a.t0=s,a.t1=createMangaTile,a.t2=l,a.t3=createIconText({text:p}),a.next=18,i.getImageLink(d.links,!0);case 18:a.t4=a.sent,a.t5={id:a.t2,title:a.t3,image:a.t4},a.t6=(0,a.t1)(a.t5),a.t0.push.call(a.t0,a.t6);case 22:a.next=7;break;case 24:a.next=29;break;case 26:a.prev=26,a.t7=a.catch(5),c.e(a.t7);case 29:return a.prev=29,c.f(),a.finish(29);case 32:e.section.items=s,t(e.section);case 34:case"end":return a.stop()}}),a,null,[[5,26,29,32]])})));return function(e){return a.apply(this,arguments)}}()))},s=0,c=a;s<c.length;s++)n();return e.next=6,Promise.all(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getViewMoreItems",value:function(){var e=Object(x.a)(v.a.mark((function e(t,a){var r,n,s,c,i,o,u,l,d,p,h,f,g,m=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=null!==(r=null===a||void 0===a?void 0:a.offset)&&void 0!==r?r:0,c=null!==(n=null===a||void 0===a?void 0:a.collectedIds)&&void 0!==n?n:[],i=[],o="",e.t0=t,e.next="recently_updated"===e.t0?7:"shounen"===e.t0?9:"action"===e.t0?11:13;break;case 7:return o="".concat(W,"/manga?limit=100&offset=").concat(s),e.abrupt("break",13);case 9:return o="".concat(W,"/manga?limit=100&publicationDemographic[0]=shounen&offset=").concat(s),e.abrupt("break",13);case 11:return o="".concat(W,"/manga?limit=100&includedTags[0]=391b0423-d847-456f-aff0-8b0cfc03066b&offset=").concat(s),e.abrupt("break",13);case 13:return u=createRequestObject({url:o,method:"GET"}),e.next=16,this.requestManager.schedule(u,1);case 16:if(l=e.sent,d="string"===typeof l.data?JSON.parse(l.data):l.data,p=[],void 0!==d.results){e.next=21;break}throw new Error("Failed to parse json results for getViewMoreItems");case 21:h=Object(b.a)(d.results);try{for(g=function(){var e=f.value,t=e.data.id,a=e.data.attributes,r=m.decodeHTMLEntity(a.title[Object.keys(a.title)[0]]);c.includes(t)||p.push(m.getImageLink(a.links,!0).then((function(e){i.push(createMangaTile({id:t,title:createIconText({text:r}),image:e})),c.push(t)})))},h.s();!(f=h.n()).done;)g()}catch(v){h.e(v)}finally{h.f()}return Promise.all(p),e.abrupt("return",createPagedResults({results:i,metadata:{offset:s+100,collectedIds:c}}));case 25:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"decodeHTMLEntity",value:function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(t)})).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&mdash;/g,"\u2014").replace(/&ndash;/g,"\u2013").replace(/&rsquo;/g,"\u2019").replace(/&grave;/g,"`").replace(/&apos;/g,"'").replace(/&quest;/g,"?").replace(/&iquest;/g,"\xbf").replace(/&excl;/g,"!").replace(/&num;/g,"#").replace(/&dollar;/g,"$").replace(/&percnt;/g,"%").replace(/&commat;/g,"@").replace(/&ldquo;/g,"\u201c").replace(/&rdquo;/g,"\u201d").replace(/&hellip;/g,"\u2026").replace(/&hearts;/g,"\u2665")}}]),a}(y.Source),V=a(22),K="https://cover.mangabeast01.com/cover",Y={hot_update:/vm.HotUpdateJSON = (.*);/,latest:/vm.LatestJSON = (.*);/,recommended:/vm.RecommendationJSON = (.*);/,new_titles:/vm.NewSeriesJSON = (.*);/,chapters:/vm.Chapters = (.*);/,directory:/vm.FullDirectory = (.*);/,directory_image_host:/<img ng-src=\"(.*)\//},$=function(e,t){var a,r,n,s,c,i,o,u,l,d=null!==(a=null===(r=e("[type=application\\/ld\\+json]").html())||void 0===r?void 0:r.replace(/\t*\n*/g,""))&&void 0!==a?a:"",p=d.replace(/"alternateName".*?],/g,""),h=null===(n=/"alternateName": \[(.*?)\]/.exec(d))||void 0===n?void 0:n[1].replace(/\"/g,"").split(","),f=JSON.parse(p).mainEntity,g=e(".row"),m=null!==(s=null===(c=e(".ImgHolder").html())||void 0===c||null===(i=c.match(/src="(.*)\//))||void 0===i?void 0:i[1])&&void 0!==s?s:K;m!==K&&(K=m);var v="".concat(K,"/").concat(t,".jpg"),x=[null!==(o=e("h1",g).first().text())&&void 0!==o?o:""],j=f.author[0];x=x.concat(null!==h&&void 0!==h?h:"");var O=Number(null===(u=e.root().html())||void 0===u||null===(l=u.match(/vm.NumSubs = (.*);/))||void 0===l?void 0:l[1]),k=[createTagSection({id:"0",label:"genres",tags:[]}),createTagSection({id:"1",label:"format",tags:[]})];k[0].tags=f.genre.map((function(e){return createTag({id:e,label:e})}));var w,S=f.dateModified,T=y.MangaStatus.ONGOING,N="",M=(f.genre.includes("Hentai")||f.genre.includes("Adult"),e(".list-group",g)),C=Object(b.a)(e("li",M).toArray());try{for(C.s();!(w=C.n()).done;){var E=w.value;switch(e(".mlabel",E).text()){case"Type:":var R=e("a",E).text();k[1].tags.push(createTag({id:R.trim(),label:R.trim()}));break;case"Status:":T=e(E).text().includes("Ongoing")?y.MangaStatus.ONGOING:y.MangaStatus.COMPLETED;break;case"Description:":N=e("div",E).text().trim()}}}catch(I){C.e(I)}finally{C.f()}return createManga({id:t,titles:x,image:v,rating:0,status:T,author:j,tags:k,desc:N,hentai:!1,follows:O,lastUpdate:S})},X=function(e,t){var a,r,n,s,c=JSON.parse(null!==(a=null===(r=e.root().html())||void 0===r||null===(n=r.match(Y.chapters))||void 0===n?void 0:n[1])&&void 0!==a?a:"").reverse(),i=[],o=Object(b.a)(c);try{for(o.s();!(s=o.n()).done;){var u=s.value,l=u.Chapter,d=Number(l.substring(0,1)),p=1!=d?"-index-"+d:"",h=parseInt(l.slice(1,-1)),f=Number(l[l.length-1]),g=t+"-chapter-"+h+(0!=f?"."+f:"")+p+".html",m=h+.1*f,v=u.ChapterName?u.ChapterName:"",x=u.Date.replace(/-/g,"/"),j=new Date(x);i.push(createChapter({id:g,mangaId:t,name:v,chapNum:m,volume:d,langCode:y.LanguageCode.ENGLISH,time:j}))}}catch(O){o.e(O)}finally{o.f()}return i},Z=function(e,t,a){for(var r,n,s,c=[],i=null===(r=e.match(/ng-src="https:\/\/{{([a-zA-Z0-9.]+)}}\/manga\/.+\.png/))||void 0===r?void 0:r[1],o=null===(n=e.match(new RegExp("".concat(i,' = "(.*)";'))))||void 0===n?void 0:n[1],u=JSON.parse(null===(s=e.match(/vm.CurChapter = (.*);/))||void 0===s?void 0:s[1]),l=Number(u.Page),d=u.Chapter.slice(1,-1),p=u.Chapter[u.Chapter.length-1],h=0==p?d:d+"."+p,f=0;f<l;f++){var g="000"+(f+1),m=g.substr(g.length-3);c.push("https://".concat(o,"/manga/").concat(t,"/").concat(""==u.Directory?"":u.Directory+"/").concat(h,"-").concat(m,".png"))}return createChapterDetails({id:a,mangaId:t,pages:c,longStrip:!1})},ee=function(e,t,a){var r,n,s=e.data,c={ids:[]},i=JSON.parse(null===(r=s.match(Y.latest))||void 0===r?void 0:r[1]),o=Object(b.a)(i);try{for(o.s();!(n=o.n()).done;){var u=n.value;a.includes(u.IndexName)&&t<new Date(u.Date)&&c.ids.push(u.IndexName)}}catch(l){o.e(l)}finally{o.f()}return c},te=function(e){var t,a,r,n,s,c,i="";switch(e.status){case 0:i="Completed";break;case 1:i="Ongoing";break;default:i=""}var o=e.includeGenre?e.includeDemographic?e.includeGenre.concat(e.includeDemographic):e.includeGenre:e.includeDemographic,u=e.excludeGenre?e.excludeDemographic?e.excludeGenre.concat(e.excludeDemographic):e.excludeGenre:e.excludeDemographic;return{keyword:null===(t=e.title)||void 0===t?void 0:t.toLowerCase(),author:(null===(a=e.author)||void 0===a?void 0:a.toLowerCase())||(null===(r=e.artist)||void 0===r?void 0:r.toLowerCase())||"",status:null!==(n=null===(s=i)||void 0===s?void 0:s.toLowerCase())&&void 0!==n?n:"",type:null===(c=e.includeFormat)||void 0===c?void 0:c.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.toLowerCase())&&void 0!==t?t:""})),genre:null===o||void 0===o?void 0:o.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.toLowerCase())&&void 0!==t?t:""})),genreNo:null===u||void 0===u?void 0:u.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.toLowerCase())&&void 0!==t?t:""}))}},ae=function(e,t){var a,r,n,s,c=[],i=JSON.parse(null!==(a=null===e||void 0===e||null===(r=e.match(Y.directory))||void 0===r?void 0:r[1])&&void 0!==a?a:"").Directory,o=null!==(n=null===e||void 0===e||null===(s=e.match(Y.directory_image_host))||void 0===s?void 0:s[1])&&void 0!==n?n:K;o!==K&&(K=o);var u,l=Object(b.a)(i);try{var d=function(){var e,a,r,n,s,i,o=u.value,l="undefined"===typeof t.keyword,d=""===t.author,p=""===t.status,h=!("undefined"!==typeof t.type&&t.type.length>0),f=!("undefined"!==typeof t.genre&&t.genre.length>0),g="undefined"!==typeof t.genreNo;l||(l=[].concat(Object(V.a)(null!==(r=o.al)&&void 0!==r?r:[]),[null!==(n=o.s)&&void 0!==n?n:""]).join("||").toLowerCase().includes(t.keyword));d||(null!==(s=null===(i=o.a)||void 0===i?void 0:i.join("||").toLowerCase())&&void 0!==s?s:"").includes(t.author)&&(d=!0);p||("ongoing"==o.st&&"ongoing"==t.status||"ongoing"!=o.st&&"ongoing"!=t.ss)&&(p=!0);var m=null!==(e=null===(a=o.g)||void 0===a?void 0:a.join("||"))&&void 0!==e?e:"";h||(h=t.type.includes(o.t)),f||(f=t.genre.every((function(e){return m.includes(e)}))),g&&(g=t.genreNo.every((function(e){return m.includes(e)}))),l&&d&&p&&h&&f&&!g&&c.push(createMangaTile({id:o.i,title:createIconText({text:o.s}),image:"".concat(K,"/").concat(o.i,".jpg"),subtitleText:createIconText({text:o.st})}))};for(l.s();!(u=l.n()).done;)d()}catch(p){l.e(p)}finally{l.f()}return createPagedResults({results:c})},re=function(e){var t,a,r,n=[createTagSection({id:"0",label:"genres",tags:[]}),createTagSection({id:"1",label:"format",tags:[]})],s=JSON.parse(null===(t=e.match(/"Genre"\s*: (.*)/))||void 0===t?void 0:t[1].replace(/'/g,'"')),c=null===(a=e.match(/"Type"\s*: (.*),/g))||void 0===a?void 0:a[1],i=JSON.parse(null===(r=c.match(/(\[.*\])/))||void 0===r?void 0:r[1].replace(/'/g,'"'));return n[0].tags=s.map((function(e){return createTag({id:e,label:e})})),n[1].tags=i.map((function(e){return createTag({id:e,label:e})})),n},ne=function(e,t,a){var r,n,s,c,o,u,l,d=createHomeSection({id:"hot_update",title:"HOT UPDATES",view_more:!0}),p=createHomeSection({id:"latest",title:"LATEST UPDATES",view_more:!0}),h=createHomeSection({id:"new_titles",title:"NEW TITLES",view_more:!0}),f=createHomeSection({id:"recommended",title:"RECOMMENDATIONS",view_more:!0}),g=[d,p,h,f],m=[JSON.parse(null===(r=t.match(Y[d.id]))||void 0===r?void 0:r[1]).slice(0,15),JSON.parse(null===(n=t.match(Y[p.id]))||void 0===n?void 0:n[1]).slice(0,15),JSON.parse(null===(s=t.match(Y[h.id]))||void 0===s?void 0:s[1]).slice(0,15),JSON.parse(null===(c=t.match(Y[f.id]))||void 0===c?void 0:c[1])],v=null!==(o=null===(u=e(".ImageHolder").html())||void 0===u||null===(l=u.match(/ng-src="(.*)\//))||void 0===l?void 0:l[1])&&void 0!==o?o:K;v!==K&&(K=v);var x,y=Object(b.a)(g.entries());try{for(y.s();!(x=y.n()).done;){var j=Object(i.a)(x.value,2),O=j[0],k=j[1];a(k);var w,S=[],T=Object(b.a)(m[O]);try{for(T.s();!(w=T.n()).done;){var N=w.value,M=N.IndexName,C=N.SeriesName,E="".concat(K,"/").concat(M,".jpg"),R=new Date(N.Date).toDateString();R=(R=R.slice(0,R.length-5)).slice(4,R.length),S.push(createMangaTile({id:M,image:E,title:createIconText({text:C}),secondaryText:createIconText({text:R,icon:"clock.fill"})}))}}catch(I){T.e(I)}finally{T.f()}k.items=S,a(k)}}catch(I){y.e(I)}finally{y.f()}},se=function(e,t){var a,r=[],n=new Set;if(!Y[t])return null;var s,c=JSON.parse(null===(a=e.match(Y[t]))||void 0===a?void 0:a[1]),i=Object(b.a)(c);try{for(i.s();!(s=i.n()).done;){var o=s.value,u=o.IndexName;if(!n.has(u)){var l=o.SeriesName,d="".concat(K,"/").concat(u,".jpg"),p=new Date(o.Date).toDateString();p=(p=p.slice(0,p.length-5)).slice(4,p.length),r.push(createMangaTile({id:u,image:d,title:createIconText({text:l}),secondaryText:"new_titles"!==t?createIconText({text:p,icon:"clock.fill"}):void 0})),n.add(u)}}}catch(h){i.e(h)}finally{i.f()}return createPagedResults({results:r})},ce="https://manga4life.com",ie={"content-type":"application/x-www-form-urlencoded"},oe="GET",ue={version:"2.1.8",name:"Manga4Life",icon:"icon.png",author:"Daniel Kovalevich",authorWebsite:"https://github.com/DanielKovalevich",description:"Extension that pulls manga from MangaLife, includes Advanced Search and Updated manga fetching",hentaiSource:!1,websiteBaseURL:ce,sourceTags:[{text:"Notifications",type:y.TagType.GREEN},{text:"Cloudflare",type:y.TagType.RED}]},le=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"getMangaShareUrl",value:function(e){return"".concat(ce,"/manga/").concat(e)}},{key:"getMangaDetails",value:function(){var e=Object(x.a)(v.a.mark((function e(t){var a,r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({url:"".concat(ce,"/manga/"),method:oe,param:t}),e.next=3,this.requestManager.schedule(a,1);case 3:return r=e.sent,n=this.cheerio.load(r.data),e.abrupt("return",$(n,t));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapters",value:function(){var e=Object(x.a)(v.a.mark((function e(t){var a,r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({url:"".concat(ce,"/manga/"),method:oe,headers:ie,param:t}),e.next=3,this.requestManager.schedule(a,1);case 3:return r=e.sent,n=this.cheerio.load(r.data),e.abrupt("return",X(n,t));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapterDetails",value:function(){var e=Object(x.a)(v.a.mark((function e(t,a){var r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=createRequestObject({url:"".concat(ce,"/read-online/"),headers:ie,method:oe,param:a}),e.next=3,this.requestManager.schedule(r,1);case 3:return n=e.sent,e.abrupt("return",Z(n.data,t,a));case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"filterUpdatedManga",value:function(){var e=Object(x.a)(v.a.mark((function e(t,a,r){var n,s,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=createRequestObject({url:"".concat(ce,"/"),headers:ie,method:oe}),e.next=3,this.requestManager.schedule(n,1);case 3:s=e.sent,c=ee(s,a,r),t(createMangaUpdates(c));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"searchRequest",value:function(){var e=Object(x.a)(v.a.mark((function e(t,a){var r,n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=te(t),n=createRequestObject({url:"".concat(ce,"/directory/"),metadata:r,headers:ie,method:oe}),e.next=4,this.requestManager.schedule(n,1);case 4:return s=e.sent,e.abrupt("return",ae(s.data,r));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getTags",value:function(){var e=Object(x.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=createRequestObject({url:"".concat(ce,"/search/"),method:oe,headers:ie}),e.next=3,this.requestManager.schedule(t,1);case 3:return a=e.sent,e.abrupt("return",re(a.data));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHomePageSections",value:function(){var e=Object(x.a)(v.a.mark((function e(t){var a,r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({url:"".concat(ce),method:oe}),e.next=3,this.requestManager.schedule(a,1);case 3:r=e.sent,n=this.cheerio.load(r.data),ne(n,r.data,t);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getViewMoreItems",value:function(){var e=Object(x.a)(v.a.mark((function e(t,a){var r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=createRequestObject({url:ce,method:oe}),e.next=3,this.requestManager.schedule(r,1);case 3:return n=e.sent,e.abrupt("return",se(n.data,t));case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"globalRequestHeaders",value:function(){var e=Object(x.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{referer:ce});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getCloudflareBypassRequest",value:function(){return createRequestObject({url:"".concat(ce),method:"GET"})}}]),a}(y.Source),de=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,[{key:"decodeHTMLEntity",value:function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(t)}))}},{key:"parseTileList",value:function(e,t){var a=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===r&&(r=t);var n=[];return e("div[class^=".concat(t,"_grid] *[class^=").concat(r,"_element]")).map((function(t,r){var s=r.attribs.href;if(s){var c={id:s.replace("/series/","").split("/")[0],title:createIconText({text:a.decodeHTMLEntity(e("p",r).first().text().trim())}),image:e("img",r).attr("src")||""};e("p",r).length>1&&(c.primaryText=createIconText({text:a.decodeHTMLEntity(e("p",r).last().text().trim())})),n.push(createMangaTile(c))}})),n}},{key:"parseFeatured",value:function(e,t){var a=this,r=[],n=[];return e("ul.slider li.slide").map((function(s,c){var i=e("a",c).attr("href");if(i){var o=i.replace("/series/","").split("/")[0];r.includes(o)||(r.push(o),n.push(createMangaTile({id:o,title:createIconText({text:a.decodeHTMLEntity(e("h1",c).first().text().trim())}),image:t+e("img",c).attr("src")||"",primaryText:createIconText({text:a.decodeHTMLEntity(e("div p",e("a",c).parent()).first().text().trim())})})))}})),n}},{key:"parsePages",value:function(e){var t=JSON.parse(e("script#__NEXT_DATA__").html()||"{}");if(t){var a=t.props;if(a){var r=a.pageProps;if(r){var n=r.pages;if(n)return n}}}return[]}},{key:"parseChapterList",value:function(e,t){var a=[],r=JSON.parse(e("script#__NEXT_DATA__").html()||"{}");if(r){var n=r.props;if(n){var s=n.pageProps;if(s){var c=s.series;if(c&&c.chapters&&(c.chapters.length||0)>0){for(var i=0;i<c.chapters.length;i++){var o=c.chapters[i];o.number&&a.push(createChapter({chapNum:o.number,id:String(o.number),langCode:y.LanguageCode.ENGLISH,mangaId:t,name:this.decodeHTMLEntity(o.title||"")||void 0,group:(o.groups||[]).join(", ")}))}if(a.length>0)return a}}}}return this.parseChapterListFallback(e,t)}},{key:"parseChapterListFallback",value:function(e,t){var a=this,r=[];return e('a[class^="chaptertile_element"]').map((function(n,s){var c=e("p",s).first().text().replace("Chapter ",""),i=Number(c)||0,o=null;0===i&&(o=c);var u={chapNum:i,id:String(i),langCode:y.LanguageCode.ENGLISH,mangaId:t,name:a.decodeHTMLEntity(o||e("p",s).last().text().trim())};r.push(createChapter(u))})),r}},{key:"parseManga",value:function(e,t){var a=JSON.parse(e("script#__NEXT_DATA__").html()||"{}");if(a){var r=a.props;if(r){var n=r.pageProps;if(n){var s=n.series;if(s&&s.genres&&(s.genres.length||0)>0&&s.title&&s.decription&&s.status&&s.cover_art&&s.conver_art.source){var c,i=[s.title],o=[],u=[];if(s.alt_titles&&(i=i.concat(s.alt_titles)),s.all_covers)for(var l=0;l<s.all_covers.length;l++){var d=s.all_covers[l];o.push("https://images.catmanga.org".concat(d.source||""))}c=(s.status||"").toLowerCase().includes("ongoing")?y.MangaStatus.ONGOING:y.MangaStatus.COMPLETED;for(var p=0;p<s.genres.length;p++){var h=s.genres[p];u.push(createTag({id:h,label:h}))}for(var f=0;f<s.authors.length;f++)s.authors[f]=this.decodeHTMLEntity(s.authors[f]);for(var g=0;g<i.length;g++)i[g]=this.decodeHTMLEntity(i[g]);return createManga({author:(s.authors||[]).join(", "),covers:o,desc:this.decodeHTMLEntity(s.description),id:t,image:s.cover_art.source,rating:0,status:c,tags:[createTagSection({id:"genres",label:"Genres",tags:u})],titles:i})}}}}return this.parseMangaFallback(e,t)}},{key:"parseMangaFallback",value:function(e,t){var a,r=[];e('div[class^="series_tags"] p').map((function(t,a){var n=e(a).text().trim();r.push(createTag({id:n,label:n}))})),a=e('p[class^="series_seriesStatus"]').first().text().trim().toLowerCase().includes("ongoing")?y.MangaStatus.ONGOING:y.MangaStatus.COMPLETED;var n={desc:this.decodeHTMLEntity(e('div[class^="series_seriesDesc"]').first().text().trim()),id:t,image:e("img").attr("src")||"",rating:0,status:a,titles:[this.decodeHTMLEntity(e("h1").first().text())],tags:[createTagSection({id:"tags",label:"Tags",tags:r})]};return createManga(n)}}]),e}(),pe="https://catmanga.org",he={icon:"icon.png",version:"1.2.3",name:"CatManga",author:"PythonCoderAS",authorWebsite:"https://github.com/PythonCoderAS",description:"Extension that pulls manga from CatManga",language:"en",hentaiSource:!1,websiteBaseURL:pe},fe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).parser=new de,e.requestManager=createRequestManager({requestsPerSecond:5,requestTimeout:1e4}),e}return Object(u.a)(a,[{key:"getMangaShareUrl",value:function(e){return"".concat(pe,"/series/").concat(e)}},{key:"getHomePageSections",value:function(){var e=Object(x.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHomePageData();case 2:return a=e.sent,t(createHomeSection({id:"featured",title:"Featured",items:this.parser.parseFeatured(a,pe)})),t(createHomeSection({id:"latest",title:"Latest",items:this.getLatest(a)})),e.t0=t,e.t1=createHomeSection,e.next=9,this.getWebsiteMangaDirectory(null);case 9:e.t2=e.sent.results,e.t3={id:"all",items:e.t2,title:"All Manga"},e.t4=(0,e.t1)(e.t3),(0,e.t0)(e.t4);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getHomePageData",value:function(){var e=Object(x.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=createRequestObject({url:"".concat(pe),method:"GET"}),e.next=3,this.requestManager.schedule(t,1);case 3:return a=e.sent,e.abrupt("return",this.cheerio.load(a.data));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getLatest",value:function(e){return this.parser.parseTileList(e,"latestChapterListView","latestChapterView")}},{key:"getWebsiteMangaDirectory",value:function(){var e=Object(x.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=createPagedResults,e.t1=this.parser,e.next=4,this.getHomePageData();case 4:return e.t2=e.sent,e.t3=e.t1.parseTileList.call(e.t1,e.t2,"allseries"),e.t4={results:e.t3},e.abrupt("return",(0,e.t0)(e.t4));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChapterDetails",value:function(){var e=Object(x.a)(v.a.mark((function e(t,a){var r,n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=createRequestObject({url:"".concat(pe,"/series/").concat(t,"/").concat(a),method:"GET"}),e.next=3,this.requestManager.schedule(r,1);case 3:return n=e.sent,s=this.cheerio.load(n.data),e.abrupt("return",createChapterDetails({id:a,longStrip:!0,mangaId:t,pages:this.parser.parsePages(s)}));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getChapters",value:function(){var e=Object(x.a)(v.a.mark((function e(t){var a,r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({url:"".concat(pe,"/series/").concat(t),method:"GET"}),e.next=3,this.requestManager.schedule(a,1);case 3:return r=e.sent,n=this.cheerio.load(r.data),e.abrupt("return",this.parser.parseChapterList(n,t));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMangaDetails",value:function(){var e=Object(x.a)(v.a.mark((function e(t){var a,r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=createRequestObject({url:"".concat(pe,"/series/").concat(t),method:"GET"}),e.next=3,this.requestManager.schedule(a,1);case 3:return r=e.sent,n=this.cheerio.load(r.data),e.abrupt("return",this.parser.parseManga(n,t));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"searchRequest",value:function(){var e=Object(x.a)(v.a.mark((function e(t,a){var r,n,s,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getWebsiteMangaDirectory(null);case 2:for(r=e.sent.results,n=[],s=0;s<r.length;s++)c=r[s],t.title&&(c.title.text||"").toLowerCase().includes(t.title.toLowerCase())&&n.push(c);return e.abrupt("return",createPagedResults({results:n}));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"filterUpdatedManga",value:function(){var e=Object(x.a)(v.a.mark((function e(t,a,r){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}()}]),a}(y.Source),ge=a(44),me=a.n(ge),ve=new Set(["cookie","user-agent"]);function be(e,t,a){return function(e){Object(l.a)(n,e);var r=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var t=arguments.length,s=new Array(t),c=0;c<t;c++)s[c]=arguments[c];return(e=r.call.apply(r,[this].concat(s))).getMangaUrl=a,e}return Object(u.a)(n,[{key:"getSourceDetails",value:function(){return t}}]),n}(e)}me.a.interceptors.request.use((function(e){var t;return e.url="https://cors.bridged.cc/".concat(e.url).concat(null!==(t=e.params)&&void 0!==t?t:""),Object.keys(e.headers).forEach((function(t){ve.has(t.toLowerCase())&&delete e.headers[t]})),e})),me.a.interceptors.response.use((function(e){return e}));var xe=a(29),ye=a.n(xe),je={};localStorage.getItem("hentai")?je.NHentai=new(be(k,O,(function(e){return"https://cubari.moe/read/nhentai/".concat(e,"/")})))(ye.a):(je.MangaKatana=new(be(A,D,(function(e){return"https://cubari.moe/mk/".concat(q,"/manga/").concat(e,"/")})))(ye.a),je.Guya=new(be(F,J,(function(e){return"https://guya.moe/read/manga/".concat(e,"/")})))(ye.a),je.MangaDex=new(be(Q,B,(function(e){return"https://cubari.moe/read/mangadex/".concat(e,"/")})))(ye.a),je.MangaLife=new(be(le,ue,(function(e){return"https://cubari.moe/ml/".concat(e,"/")})))(ye.a),je.CatManga=new(be(fe,he,(function(e){return"https://catmanga.org/series/".concat(e,"/")})))(ye.a));var Oe=je,ke=a(1),we=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(ke.jsx)("section",{className:"w-full flex-grow pt-1 sm:pt-2",children:Object(ke.jsxs)("div",{className:"w-full flex-grow",children:[Object(ke.jsx)("h1",{className:h(this.props.textSize?this.props.textSize:"text-2xl sm:text-3xl","text-black dark:text-white font-semibold leading-loose"),children:this.props.text}),Object(ke.jsx)("h2",{className:h(this.props.subTextSize?this.props.subTextSize:"text-sm sm:text-md","text-gray-600 dark:text-gray-400 font-medium"),children:this.props.subText})]})})}}]),a}(r.PureComponent),Se=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).setIsOpen=function(e){return function(){return r.setState({isOpen:e})}},r.state={isOpen:!1},r}return Object(u.a)(a,[{key:"render",value:function(){return Object(ke.jsxs)("button",{className:"p-1 rounded-full bg-transparent text-black hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white focus:outline-none",children:[Object(ke.jsx)(g.d,{className:"h-6 w-6","aria-hidden":"true",onClick:this.setIsOpen(!0)}),Object(ke.jsx)(f.e,{appear:!0,show:this.state.isOpen,as:r.Fragment,children:Object(ke.jsx)(f.a,{open:!!this.state.isOpen,onClose:this.setIsOpen(!1),as:"div",className:"fixed inset-0 z-10 overflow-y-auto",children:Object(ke.jsxs)("div",{className:"min-h-screen px-4 text-center",children:[Object(ke.jsx)(f.a.Overlay,{className:"fixed inset-0"}),Object(ke.jsx)("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"\u200b"}),Object(ke.jsx)(f.e.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:Object(ke.jsxs)("div",{className:"text-black dark:text-white inline-block bg-gray-100 dark:bg-gray-800 w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg",children:[Object(ke.jsxs)(f.a.Description,{className:"-mt-2",children:[Object(ke.jsx)(we,{text:"About"}),"While this project is related to cubari.moe, it should be considered distinct (and will evolve independently of the main website).",Object(ke.jsx)("br",{}),Object(ke.jsx)("br",{}),"Sources that have decent readers and/or no ads may be included.",Object(ke.jsx)(we,{text:"Credits"}),"All sources are powered by Paperback's extensions."," ",Object(ke.jsx)("a",{href:"https://paperback.moe/",children:"Check out the app if you're on iOS."})]}),Object(ke.jsx)("button",{className:"mt-10 bg-transparent text-black hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white block px-3 py-2 rounded-md text-base font-medium",onClick:this.setIsOpen(!1),children:"Cool"})]})})]})})})]})}}]),a}(r.PureComponent),Te={dark:{rootClasses:["dark","bg-gray-900"]},light:{rootClasses:["bg-gray-100"]}},Ne=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;Object(o.a)(this,a),(r=t.call(this,e)).setTheme=function(e){var t;window.localStorage.setItem("theme",e),document.body.className="",(t=document.body.classList).add.apply(t,Object(V.a)(Te[e].rootClasses)),r.setState({theme:e})},r.componentDidMount=function(){r.setTheme(window.localStorage.getItem("theme"))};var n=window.localStorage.getItem("theme");return n||window.localStorage.setItem("theme","dark"),r.state={theme:n},r}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return Object(ke.jsx)("button",{className:"p-1 rounded-full bg-transparent focus:outline-none text-black hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white mr-4",children:"dark"===this.state.theme?Object(ke.jsx)(g.g,{className:"h-6 w-6",onClick:function(){return e.setTheme("light")}}):Object(ke.jsx)(g.f,{className:"h-6 w-6",onClick:function(){return e.setTheme("dark")}})})}}]),a}(r.PureComponent),Me=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).handleChange=function(e){r.setState({textValue:e.target.value})},r.handleKeyPress=function(e){if("Enter"===e.key&&r.state.textValue){var t=new URLSearchParams;t.append("text",r.state.textValue),fetch("https://guya.moe/api/black_hole_mail/",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){r.setState({submitted:!0,textValue:(e.success?"Successfully delivered!":e.error&&"Failed to send.")||"No response."})})).catch((function(){r.setState({submitted:!0,textValue:"Failed to send."})}))}},r.state={textValue:"",submitted:!1},r}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return Object(ke.jsx)(f.c,{as:r.Fragment,children:function(t){var a=t.open;return Object(ke.jsxs)("div",{className:"relative mr-4",children:[Object(ke.jsx)(f.c.Button,{as:"button",className:h("p-1 rounded-full bg-transparent text-black relative focus:outline-none",a?"bg-gray-200 dark:bg-gray-700 text-black dark:text-white":"hover:bg-gray-200 dark:hover:bg-gray-700 dark:hover:text-white text-black dark:text-gray-300"),children:Object(ke.jsx)(g.c,{className:"h-6 w-6","aria-hidden":"true"})}),Object(ke.jsx)(f.e,{as:r.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 -translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-1",children:Object(ke.jsx)(f.c.Panel,{focus:!0,className:"absolute z-40 w-screen max-w-xl px-4 transform -right-24 sm:px-0 pointer-events-none",children:Object(ke.jsx)("div",{className:"ml-8 overflow-hidden mt-6 rounded-lg shadow-lg ring-1 ring-black ring-opacity-5",children:Object(ke.jsxs)("div",{className:"p-4 text-black dark:text-white bg-gray-100 dark:bg-gray-800 pointer-events-auto",children:[Object(ke.jsx)(we,{text:"Send us a message!",textSize:"text-2xl",subText:"Let us know if you have any ideas, suggestions, or issues.",subTextSize:"text-sm"}),Object(ke.jsx)("input",{className:h("w-full mt-8 p-4 text-md bg-gray-200 dark:bg-gray-700 rounded-md focus:outline-none shadow-md",e.state.submitted?"text-gray-500 dark:text-gray-500 user select-none":"text-black dark:text-white"),onChange:e.handleChange,onKeyPress:e.handleKeyPress,type:"text",value:e.state.textValue,placeholder:"Press enter to send...",disabled:e.state.submitted})]})})})})]})}})}}]),a}(r.PureComponent),Ce=a(10),Ee=new IntersectionObserver((function(e,t){e.forEach((function(e){e.isIntersecting&&(e.target.style.backgroundImage=e.target.dataset.backgroundImage,t.unobserve(e.target))}))})),Re=a(61),Ie=a(95),Le=a.n(Ie),qe="cubari",He=function(){var e={name:qe,builder:function(e){var t="series",a="{SOURCE_SLUG_REPLACEMENT}",r="series/",n="".concat(r).concat(a);e.declareType(t,{type:"object",properties:{slug:{type:"string"},coverUrl:{type:"string"},source:{type:"string"},url:{type:"string"},title:{type:"string"},timestamp:{type:"number"},chapters:{type:"array",default:[]},pinned:{type:"boolean",default:!1}},required:["slug","source","url","title","timestamp","chapters","pinned"]});var s=function(e,t,r){return e.replace(a,"".concat(r,"-").concat(t))},c=function(e,t,a,r,n,s,c){return{slug:e,coverUrl:t||"",source:a,url:r,title:n,timestamp:Date.now(),chapters:c||[],pinned:void 0!==s&&s}};return{exports:{slugBuilder:function(e,t){return"".concat(t,"-").concat(e)},addSeries:function(a,r,i,o,u,l,d){var p=c(a,r,i,o,u,l,d);return e.storeObject(t,s(n,a,i),p)},editSeries:function(){var a=Object(x.a)(v.a.mark((function a(r,i,o,u,l,d,p){var h,f;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.getObject(s(n,r,o));case 2:if(!(h=a.sent)){a.next=8;break}return f=c(r||h.slug,i||h.coverUrl,o||h.source,u||h.url,l||h.title,void 0!==d?d:h.pinned,p||h.chapters),a.abrupt("return",e.storeObject(t,s(n,r,o),f));case 8:console.error("[Remote Storage] Cannot edit a non-existent series.");case 9:case"end":return a.stop()}}),a)})));return function(e,t,r,n,s,c,i){return a.apply(this,arguments)}}(),getSeries:function(t,a){return e.getObject(s(n,t,a))},removeSeries:function(t,a){return e.remove(s(n,t,a))},getAllSeries:function(){return e.storage.connected?e.getAll(r,6e4):e.getAll(r)}}}}},t=new Le.a({cache:!0,modules:[e],disableFeatures:["Dropbox","GoogleDrive","IndexedDB"]});return t.access.claim(qe,"rw"),t.caching.enable("/".concat(qe,"/")),t}(),Pe=function(){var e="timestamp",t=function(e,t){var a=[];for(var r in e)a.push(e[r]);return a.sort((function(e,a){return a[t]-e[t]})),a},a=function(){var e=Object(x.a)(v.a.mark((function e(){var t,a,r,n,s,c,o,u,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He.cubari.getAllSeries();case 2:t=e.sent,a=0,r=Object.entries(t);case 4:if(!(a<r.length)){e.next=21;break}if(n=Object(i.a)(r[a],2),s=n[0],c=n[1],e.prev=6,c.timestamp){e.next=13;break}return o=s.indexOf("-"),u=s.slice(o+1),l=s.slice(0,o),e.next=13,He.cubari.removeSeries(u,l);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),console.error("[Global History] Sync error, continuing.");case 18:a++,e.next=4;break;case 21:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(){return e.apply(this,arguments)}}(),r=function(){var r=Object(x.a)(v.a.mark((function r(n,s,c,i,o){var u,l,d;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a();case 2:return r.t0=t,r.next=5,He.cubari.getAllSeries();case 5:if(r.t1=r.sent,r.t1){r.next=8;break}r.t1={};case 8:r.t2=r.t1,r.t3=e,u=(0,r.t0)(r.t2,r.t3),l=u.find((function(e){return e.slug===n&&e.source===c})),u=u.filter((function(e){return!e.pinned}));case 13:if(!(u.length+(l?0:1)>20)){r.next=19;break}return d=u.pop(),r.next=17,He.cubari.removeSeries(d.slug,d.source);case 17:r.next=13;break;case 19:if(!l){r.next=23;break}return r.abrupt("return",He.cubari.editSeries(n,s,c,i,o,l.pinned,l.chapters));case 23:return r.abrupt("return",He.cubari.addSeries(n,s,c,i,o,void 0,void 0));case 24:case"end":return r.stop()}}),r)})));return function(e,t,a,n,s){return r.apply(this,arguments)}}(),n=function(){var e=Object(x.a)(v.a.mark((function e(t,r){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:return e.abrupt("return",He.cubari.removeSeries(t,r));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),s=function(){var e=Object(x.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe.getAllUnpinnedSeries();case 2:(t=e.sent)&&Array.prototype.forEach.call(t,(function(e){n(e.slug,e.source)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(x.a)(v.a.mark((function e(t,a,r){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He.cubari.getSeries(t,a);case 2:if(!(n=e.sent)){e.next=8;break}return r=Object(V.a)(new Set([].concat(Object(V.a)(r),Object(V.a)(n.chapters)))),e.abrupt("return",He.cubari.editSeries(t,void 0,a,void 0,void 0,void 0,r));case 8:console.error("[Global History] addChapters - Series didn't exist.");case 9:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),o=function(){var e=Object(x.a)(v.a.mark((function e(t,a,r){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c(t,a,[r]));case 1:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}();return{max:20,pushSeries:r,removeSeries:n,removeAllUnpinnedSeries:s,addChapters:c,addChapter:o,removeChapter:function(){var e=Object(x.a)(v.a.mark((function e(t,a,r){var n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He.cubari.getSeries(t,a);case 2:if(!(n=e.sent)){e.next=8;break}return s=n.chapters.filter((function(e){return e!==r})),e.abrupt("return",He.cubari.editSeries(t,void 0,a,void 0,void 0,void 0,s));case 8:console.error("[Global History] removeChapter - Series didn't exist.");case 9:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),removeAllChapters:function(){var e=Object(x.a)(v.a.mark((function e(t,a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He.cubari.getSeries(t,a);case 2:if(!e.sent){e.next=7;break}return e.abrupt("return",He.cubari.editSeries(t,void 0,a,void 0,void 0,void 0,[]));case 7:console.error("[Global History] removeAllChapters - series didn't exist.");case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),getReadChapters:function(){var e=Object(x.a)(v.a.mark((function e(t,a){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He.cubari.getSeries(t,a);case 2:if(!(r=e.sent)){e.next=7;break}return e.abrupt("return",r.chapters);case 7:console.error("[Global History] getReadChapters - series didn't exist.");case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),isSeriesPinned:function(){var e=Object(x.a)(v.a.mark((function e(t,a){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He.cubari.getSeries(t,a);case 2:return r=e.sent,e.abrupt("return",!(!r||!r.pinned));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),pinSeries:function(){var e=Object(x.a)(v.a.mark((function e(t,a,r,n,s){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He.cubari.getSeries(t,r);case 2:if(!e.sent){e.next=7;break}return e.abrupt("return",He.cubari.editSeries(t,void 0,r,void 0,void 0,!0,void 0));case 7:return e.abrupt("return",He.cubari.addSeries(t,a,r,n,s,!0,void 0));case 8:case"end":return e.stop()}}),e)})));return function(t,a,r,n,s){return e.apply(this,arguments)}}(),unpinSeries:function(){var e=Object(x.a)(v.a.mark((function e(t,a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He.cubari.getSeries(t,a);case 2:if(!e.sent){e.next=7;break}return e.abrupt("return",He.cubari.editSeries(t,void 0,a,void 0,void 0,!1,void 0));case 7:console.error("[Global History] unpinSeries - series didn't exist.");case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),getAllPinnedSeries:function(){var r=Object(x.a)(v.a.mark((function r(){return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a();case 2:return r.t0=t,r.next=5,He.cubari.getAllSeries();case 5:if(r.t1=r.sent,r.t1){r.next=8;break}r.t1={};case 8:return r.t2=r.t1,r.t3=e,r.abrupt("return",(0,r.t0)(r.t2,r.t3).filter((function(e){return e.pinned})));case 11:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),getAllUnpinnedSeries:function(){var r=Object(x.a)(v.a.mark((function r(){return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a();case 2:return r.t0=t,r.next=5,He.cubari.getAllSeries();case 5:if(r.t1=r.sent,r.t1){r.next=8;break}r.t1={};case 8:return r.t2=r.t1,r.t3=e,r.abrupt("return",(0,r.t0)(r.t2,r.t3).filter((function(e){return!e.pinned})));case 11:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}()}}(),De=function(e){return function(){return e&&e.startsWith("/")?"https://cubari.moe".concat(e):e}},Ae=function(e){return(e||"").replace("https://cubari.moe","")},Ge=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(ke.jsx)("div",{className:"w-full flex place-content-center pt-10 pb-10",children:Object(ke.jsx)(Ue,{className:"text-black dark:text-white animate-spin block h-10 w-10"})})}}]),a}(r.PureComponent),Ue=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(ke.jsxs)("svg",{className:this.props.className,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Object(ke.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Object(ke.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}}]),a}(r.PureComponent),_e=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).consolidateState=function(e){r.ref.current&&r.setState(e)},r.saveToHistory=function(){return Pe.pushSeries(r.props.slug,r.props.coverUrl,r.props.sourceName,Ae(r.props.mangaUrlizer(r.props.slug)),r.props.mangaTitle).then((function(){var e={removing:!1};r.props.storageCallback?r.props.storageCallback().then((function(){r.consolidateState(e)})):r.consolidateState(e)}))},r.removeFromHistory=function(){return Pe.removeSeries(r.props.slug,r.props.sourceName).then((function(){var e={removing:!1};r.props.storageCallback?r.props.storageCallback().then((function(){r.consolidateState(e)})):r.consolidateState(e)}))},r.saveToPin=function(){return Pe.pinSeries(r.props.slug,r.props.coverUrl,r.props.sourceName,Ae(r.props.mangaUrlizer(r.props.slug)),r.props.mangaTitle).then((function(){var e={saving:!1,saved:!0};r.props.storageCallback?r.props.storageCallback().then((function(){r.consolidateState(e)})):r.consolidateState(e)}))},r.removeFromPin=function(){return Pe.unpinSeries(r.props.slug,r.props.sourceName).then((function(){var e={saving:!1,saved:!1};r.props.storageCallback?r.props.storageCallback().then((function(){r.consolidateState(e)})):r.consolidateState(e)}))},r.addHistoryHandler=function(e){r.setState({removing:!0},r.saveToHistory)},r.removeHistoryHandler=function(e){return e.preventDefault(),e.stopPropagation(),r.state.removing||r.setState({removing:!0},r.removeFromHistory),!1},r.pinHandler=function(e){return e.preventDefault(),e.stopPropagation(),r.state.saving||r.setState({saving:!0},(function(){r.state.saved?r.removeFromPin():r.saveToPin()})),!1},r.componentDidMount=function(){Ee.observe(r.ref.current),r.props.saved?r.setState({saved:r.props.saved,saving:!1}):Pe.isSeriesPinned(r.props.slug,r.props.sourceName).then((function(e){r.ref.current&&r.setState({saved:e,saving:!1})}))},r.componentWillUnmount=function(){Ee.unobserve(r.ref.current)},r.ref=n.a.createRef(),r.state={saved:void 0,saving:!0,removing:!1},r}return Object(u.a)(a,[{key:"render",value:function(){return Object(ke.jsx)(f.e,{appear:!0,show:!0,as:r.Fragment,enter:"transition-opacity duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-500",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(ke.jsx)("div",{className:"px-2 py-3.5 sm:px-3.5 sm:py-5",style:{willChange:"transform"},children:Object(ke.jsx)("a",{ref:this.ref,href:this.props.mangaUrlizer(this.props.slug),target:"_blank",rel:"noopener noreferrer",className:"bg-no-repeat bg-cover bg-center bg-gray-300 dark:bg-gray-800 transform rounded-lg shadow-md scale-100 md:hover:scale-105 w-32 h-52 sm:h-72 sm:w-48 flex flex-row flex-wrap p-1 transition duration-100 ease-in-out","data-background-image":'linear-gradient(rgba(0,0,0,0) 60%, rgba(0,0,0,0.75) 90%), url("'.concat(this.props.coverUrl,'")'),onClick:this.addHistoryHandler,style:{willChange:"transform"},children:Object(ke.jsx)("div",{className:"w-full h-full px-0 flex flex-row flex-wrap overflow-hidden",children:Object(ke.jsxs)("div",{className:"w-full text-gray-700 font-semibold relative pt-3 md:pt-0",children:[Object(ke.jsx)("div",{className:"text-xs sm:text-base text-white absolute bottom-0 left-0 mx-1 mb-1",style:{textShadow:"0 0 4px black, 0 0 4px black, 0 0 4px black, 0 0 4px black"},children:this.props.mangaTitle}),Object(ke.jsx)("div",{className:h(this.props.showRemoveFromHistory?"text-gray-400 dark:text-gray-600":"hidden","absolute top-0 left-0 mx-1 my-1 bg-gray-900 dark:bg-white rounded-full p-1 shadow-xl transform scale-95 transition-opacity transition-transform duration-250",this.state.removing?"opacity-100 hover:scale-95":"opacity-40 hover:scale-105 hover:opacity-100"),onClick:this.removeHistoryHandler,style:{willChange:"transform"},children:this.state.removing?Object(ke.jsx)(Ue,{className:"rounded-full animate-spin z-10 p-0 w-6 h-6"}):Object(ke.jsx)(Re.b,{className:"rounded-full z-10 p-0 w-6 h-6"})}),Object(ke.jsx)("div",{className:h(this.state.saved?"opacity-80 text-red-700 dark:text-red-600":"text-gray-400 dark:text-gray-600","absolute top-0 right-0 mx-1 my-1 bg-gray-900 dark:bg-white rounded-full p-1 shadow-xl transform scale-95 transition-opacity transition-transform duration-250",this.state.saving?"opacity-100 hover:scale-95":"opacity-40 hover:scale-105 hover:opacity-100"),onClick:this.pinHandler,style:{willChange:"transform"},children:this.state.saving?Object(ke.jsx)(Ue,{className:"rounded-full animate-spin z-10 p-0 w-6 h-6"}):Object(ke.jsx)(Re.a,{className:"rounded-full z-10 p-0 w-6 h-6"})})]})})})})})}}]),a}(r.PureComponent),Je=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).observerCallback=function(e){e.forEach((function(e){e.isIntersecting&&(r.setState({items:r.props.children.slice(0,6)},r.scrollPositionHandler),r.observer.unobserve(e.target),delete r.observer)}))},r.scrollPositionHandler=function(){if(r.ref.current){var e=r.ref.current.scrollLeft<20,t=r.ref.current.scrollLeft+r.ref.current.clientWidth>r.ref.current.scrollWidth-20;t&&r.state.items.length<r.props.children.length?r.setState({items:r.props.children.slice(0,r.state.items.length+6)}):r.setState({fullyLeftScrolled:e,fullyRightScrolled:t})}},r._scroller=function(e){if(!r.state.scrolling){r.ref.current.classList.add("overflow-x-hidden");var t=r.ref.current.lastChild.lastChild.clientWidth,a=r.ref.current.clientWidth,n=r.ref.current.scrollLeft,s=t*Math.floor(a/t)+(t*Math.ceil(n/t)-n)*e;s<t&&(s=t);var c=0;window.requestAnimationFrame((function t(){var a=c/20,i=a*a/(2*(a*a-a)+1);r.ref.current.scrollLeft=n+i*s*e,++c<20?window.requestAnimationFrame(t):(r.ref.current.classList.remove("overflow-x-hidden"),r.setState({scrolling:!1}))})),r.setState({scrolling:!0})}},r.scrollLeft=function(){r._scroller(-1)},r.scrollRight=function(){r._scroller(1)},r.componentDidMount=function(){r.observer.observe(r.componentRef.current)},r.state={fullyLeftScrolled:!0,fullyRightScrolled:!0,scrolling:!1,items:[]},r.ref=n.a.createRef(),r.componentRef=n.a.createRef(),r.observer=new IntersectionObserver(r.observerCallback),r}return Object(u.a)(a,[{key:"render",value:function(){return Object(ke.jsxs)("div",{className:"relative w-full h-full",ref:this.componentRef,children:[Object(ke.jsx)("div",{className:h(this.state.fullyLeftScrolled?"opacity-0 pointer-events-none":"opacity-100","absolute cursor-pointer select-none -left-2 md:-left-5 top-1/2 z-10 transition-all duration-250"),children:Object(ke.jsx)("div",{className:"sticky bg-gray-900 text-white dark:bg-white dark:text-black rounded-full p-2 shadow-2xl transform scale-95 hover:scale-100 opacity-80 hover:opacity-100 transition-opacity transition-transform duration-250",children:Object(ke.jsx)(g.a,{className:"rounded-full z-10 p-0 w-8 h-8","aria-hidden":"true",onClick:this.scrollLeft})})}),this.state.items.length?Object(ke.jsx)("div",{ref:this.ref,className:"static w-full h-full flex overflow-x-auto no-scrollbar pb-1 pt-1 sm:pt-5 select-none",onScroll:this.scrollPositionHandler,children:Object(ke.jsx)("div",{className:"flex flex-nowrap mt-1 mb-1",children:this.state.items})}):this.props.children.length?Object(ke.jsx)(Ge,{}):void 0,Object(ke.jsx)("div",{className:h(this.state.fullyRightScrolled?"opacity-0 pointer-events-none":"opacity-100","absolute cursor-pointer select-none -right-2 md:-right-5 top-1/2 z-10 transition-all duration-250"),children:Object(ke.jsx)("div",{className:"bg-gray-900 text-white dark:bg-white dark:text-black rounded-full p-2 shadow-2xl transform scale-95 hover:scale-100 opacity-80 hover:opacity-100 transition-opacity transition-transform duration-250",children:Object(ke.jsx)(g.b,{className:"rounded-full z-10 p-0 w-8 h-8","aria-hidden":"true",onClick:this.scrollRight})})})]})}}]),a}(r.PureComponent),Fe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(ke.jsx)("div",{className:"container mx-auto my-auto max-w-6xl pb-10",children:Object(ke.jsx)("div",{className:"w-full h-full bg-transparent flex flex-wrap place-content-center md:place-content-start place-items-center p-3",children:this.props.children})})}}]),a}(r.PureComponent),ze=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).componentDidMount=function(){e.props.setPath("Discover")},e}return Object(u.a)(a,[{key:"render",value:function(){var e=[];return this.props.discover.forEach((function(t){if(t.items&&t.items.length){var a=t.title.split(" - "),r=Object(i.a)(a,2),n=r[0],s=r[1];e.push(Object(ke.jsx)(we,{text:n,subText:(c=s,c.split(" ").filter(Boolean).map((function(e){return e.charAt(0).toUpperCase()+e.toLowerCase().slice(1)})).join(" "))},t.id+t.title+"title")),e.push(Object(ke.jsx)(Je,{children:t.items.map((function(e){return Object(ke.jsx)(_e,{mangaUrlizer:t.mangaUrlizer,slug:e.id,coverUrl:e.image,mangaTitle:e.title.text,sourceName:t.sourceName,source:t.source},t.id+e.id)}))},t.id+t.title+"-carousel"))}var c})),Object(ke.jsx)(Fe,{children:this.props.discover.size?e:Object(ke.jsx)(Ge,{})})}}]),a}(r.PureComponent),We=a(45),Be=a(46),Qe=["MangaKatana","Manga4Life","Guya"],Ve=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).handleInput=function(e){if("Enter"===e.key&&e.target.value){var t={title:e.target.value};r.runningQueries.clear(),r.props.searchHandler("",{}),r.setState({searching:!0},(function(){r.runSearchQuery(t)}))}},r.sourceQueryHelper=function(e,t,a){r.runningQueries.add(a);var n=!1;t.searchRequest(Object(Be.a)({},a.query),a.metadata).then((function(s){if(r.runningQueries.has(a)&&r.inputRef.current){var c=(s.results||[]).map((function(a){return a.mangaUrlizer=t.getMangaUrl,a.slug=a.id,a.coverUrl=a.image,a.mangaTitle=a.title.text,a.source=t,a.sourceName=e,a})),i=r.props.searchResults[e];a.metadata=s.metadata,n=a.metadata&&c.length,r.props.searchHandler(a.query.title,Object(Be.a)(Object(Be.a)({},r.props.searchResults),{},Object(We.a)({},e,[].concat(Object(V.a)(i||[]),Object(V.a)(c)))))}})).finally((function(){r.runningQueries.has(a)&&r.inputRef.current&&(n?r.sourceQueryHelper(e,t,a):(r.runningQueries.delete(a),r.setState({searching:!!r.runningQueries.size})))}))},r.runSearchQuery=function(e){Object.entries(r.props.sources).forEach((function(t){var a=Object(i.a)(t,2),n=a[0],s=a[1],c={source:s,query:e,metadata:void 0};r.sourceQueryHelper(n,s,c)}))},r.componentDidMount=function(){r.props.setPath("Search"),setTimeout((function(){r.inputRef.current&&r.inputRef.current.focus()}),500)},r.state={searching:!1},r.inputRef=n.a.createRef(),r.runningQueries=new Set,r}return Object(u.a)(a,[{key:"render",value:function(){var e=[];return Object.entries(this.props.searchResults).forEach((function(t){var a=Object(i.a)(t,2),r=a[0],n=a[1];n&&n.length&&(e.push(Object(ke.jsx)(we,{text:r,subText:(Qe.includes(r)?"Recommended - ":"")+"".concat(n.length," result(s)")},"search-".concat(r))),e.push(Object(ke.jsx)(Je,{children:n.map((function(e){return Object(ke.jsx)(_e,{mangaUrlizer:e.mangaUrlizer,slug:e.slug,coverUrl:e.coverUrl,mangaTitle:e.mangaTitle,sourceName:e.sourceName,source:e.source},"search-"+r.name+e.id)}))},"search-".concat(r,"-carousel"))))})),Object(ke.jsxs)(Fe,{children:[Object(ke.jsx)("input",{className:"w-full mt-8 px-4 py-4 text-xl sm:text-2xl text-black bg-gray-200 dark:text-white dark:bg-gray-800 rounded-md focus:outline-none shadow-md",ref:this.inputRef,onKeyPress:this.handleInput,type:"text",defaultValue:this.props.searchQuery,placeholder:"Search..."}),e.length?Object(ke.jsx)(Fe,{children:e}):void 0,this.state.searching?Object(ke.jsx)(Ge,{}):e.length?void 0:this.props.searchQuery?Object(ke.jsx)(we,{text:"No results.",subText:"Sorry 'bout that."},"results"):void 0]})}}]),a}(r.PureComponent),Ke=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).updateItems=function(){return Pe.getAllUnpinnedSeries().then((function(e){r.ref.current&&r.setState({items:e,ready:!0})}))},r.componentDidMount=function(){r.props.setPath("History"),r.updateItems()},r.ref=n.a.createRef(),r.state={items:[],ready:!1},r}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return Object(ke.jsxs)(Fe,{children:[Object(ke.jsx)(we,{text:"History",subText:"This includes the last ".concat(Pe.max," things you've clicked on (").concat(this.state.items.length," so far)"),ref:this.ref}),this.state.ready?Object(ke.jsx)(Fe,{children:this.state.items.map((function(t){return Object(ke.jsx)(_e,{mangaUrlizer:De(t.url),slug:t.slug,coverUrl:t.coverUrl,mangaTitle:t.title,sourceName:t.source,source:Oe[t.source],showRemoveFromHistory:!0,storageCallback:e.updateItems},"history-".concat(t.timestamp,"-").concat(t.slug,"-").concat(t.source))}))},"history"):Object(ke.jsx)(Ge,{})]})}}]),a}(r.PureComponent),Ye=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).updateItems=function(){return Pe.getAllPinnedSeries().then((function(e){r.ref.current&&r.setState({items:e,ready:!0})}))},r.componentDidMount=function(){r.props.setPath("Saved"),r.updateItems()},r.ref=n.a.createRef(),r.state={items:[],ready:!1},r}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return Object(ke.jsxs)(Fe,{children:[Object(ke.jsx)(we,{text:"Saved",subText:'This includes stuff you\'ve "hearted"',ref:this.ref}),this.state.ready?Object(ke.jsx)(Fe,{children:this.state.items.map((function(t){return Object(ke.jsx)(_e,{mangaUrlizer:De(t.url),slug:t.slug,coverUrl:t.coverUrl,mangaTitle:t.title,sourceName:t.source,source:Oe[t.source],storageCallback:e.updateItems},"saved-".concat(t.timestamp,"-").concat(t.slug,"-").concat(t.source))}))}):Object(ke.jsx)(Ge,{})]})}}]),a}(r.PureComponent),$e=a(96),Xe=a.n($e),Ze="hentai",et="enabled",tt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).componentDidMount=function(){r.props.setPath("Settings"),He.on("ready",(function(){r.widgetRef.current&&(r.widget.attach(r.widgetRef.current.id),r.setState({ready:!0}))}))},r.hentaiToggle=function(e){r.setState({hentaiEnabled:e},(function(){e?localStorage.setItem(Ze,et):localStorage.removeItem(Ze),window.location.reload()}))},r.widgetRef=n.a.createRef(),localStorage.getItem(Ze)&&localStorage.setItem(Ze,et),r.widget=new Xe.a(He,{skipInitial:!0,modalBackdrop:!1,leaveOpen:!0}),r.state={ready:!1,hentaiEnabled:localStorage.getItem(Ze)},r}return Object(u.a)(a,[{key:"render",value:function(){return Object(ke.jsxs)(Fe,{children:[Object(ke.jsx)(we,{text:"Settings"}),Object(ke.jsx)(we,{text:"Hentai Mode",textSize:"text-2xl",subText:"For the horny"}),Object(ke.jsx)("div",{className:"h-full w-full mb-5 items-center sm:items-start mt-5 flex flex-wrap place-content-center sm:place-content-start",children:Object(ke.jsxs)(f.d,{checked:this.state.hentaiEnabled,onChange:this.hentaiToggle,className:h(this.state.hentaiEnabled?"bg-blue-600 dark:bg-blue-500":"bg-gray-700 dark:bg-gray-200","relative inline-flex items-center h-6 rounded-full w-11 focus:outline-none"),children:[Object(ke.jsx)("span",{className:"sr-only",children:"Enable notifications"}),Object(ke.jsx)("span",{className:h(this.state.hentaiEnabled?"translate-x-6":"translate-x-1","inline-block w-4 h-4 transform bg-white dark:bg-gray-900 rounded-full")})]})}),Object(ke.jsx)(we,{text:"Remote Storage",textSize:"text-2xl",subText:"[Experimental] Synchronize your reading history across different devices"}),Object(ke.jsxs)("div",{className:"h-full w-full items-center sm:items-start mt-5 flex flex-wrap place-content-center sm:place-content-start",children:[Object(ke.jsx)("div",{id:"remote-storage-widget",ref:this.widgetRef}),this.state.ready?void 0:Object(ke.jsx)(Ge,{})]})]})}}]),a}(r.PureComponent),at=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(ke.jsx)(Fe,{children:Object(ke.jsx)(we,{text:"Page not found!",subText:"You broke me!"})})}}]),a}(r.PureComponent),rt={Discover:{href:"/",inNav:!0,component:function(e){return Object(ke.jsx)(ze,{discover:e.state.discover,setPath:e.setPath})}},Search:{href:"/search",inNav:!0,component:function(e){return Object(ke.jsx)(Ve,{searchResults:e.state.searchResults,searchQuery:e.state.searchQuery,searchHandler:e.searchHandler,sources:e.sources,setPath:e.setPath})}},History:{href:"/history",inNav:!0,component:function(e){return Object(ke.jsx)(Ke,{setPath:e.setPath})}},Saved:{href:"/saved",inNav:!0,component:function(e){return Object(ke.jsx)(Ye,{setPath:e.setPath})}},Settings:{href:"/settings",inNav:!0,component:function(e){return Object(ke.jsx)(tt,{setPath:e.setPath})}}},nt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return Object(ke.jsx)(r.Fragment,{children:Object(ke.jsxs)(Ce.c,{children:[Object.values(rt).map((function(t){return Object(ke.jsx)(Ce.a,{exact:!0,path:t.href,children:t.component(e.props.app)},t.href)})),Object(ke.jsx)(Ce.a,{children:Object(ke.jsx)(at,{})})]})})}}]),a}(r.PureComponent),st=Object(Ce.f)(nt),ct=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).setPath=function(e){r.setState({current:e})},r.searchHandler=function(e,t){r.setState({searchQuery:e,searchResults:t})},r.initializeDiscoverItems=function(){Object.entries(r.sources).forEach((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];n.getHomePageSections((function(e){e.title.startsWith(a)||(e.title="".concat(a," - ").concat(e.title)),e.source=n,e.mangaUrlizer=n.getMangaUrl,e.sourceName=a,e.items&&e.items.length&&r.setState({discover:new Set(r.state.discover).add(e)})}))}))},r.componentDidMount=function(){!function(){for(var e=0,t=Object.entries(localStorage);e<t.length;e++){var a=Object(i.a)(t[e],2),r=a[0],n=a[1];r.startsWith("remotestorage")&&"undefined"===n&&localStorage.removeItem(r)}}(),r.initializeDiscoverItems()},r.state={discover:new Set,searchQuery:"",searchResults:new Set,current:void 0},r.sources=Oe,r}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return Object(ke.jsxs)(p.a,{children:[Object(ke.jsxs)(f.b,{as:"nav",className:"bg-transparent",children:[Object(ke.jsx)("div",{className:"max-w-6xl mx-auto px-2 md:px-0 lg:px-0",children:Object(ke.jsxs)("div",{className:"relative flex items-center justify-between h-16",children:[Object(ke.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center sm:hidden",children:Object(ke.jsx)(f.b.Button,{className:"inline-flex items-center justify-center p-2 rounded-md text-black hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white focus:outline-none",children:function(e){var t=e.open;return Object(ke.jsxs)(r.Fragment,{children:[Object(ke.jsx)("span",{className:"sr-only",children:"Open main menu"}),t?Object(ke.jsx)(g.h,{className:"block h-6 w-6","aria-hidden":"true"}):Object(ke.jsx)(g.e,{className:"block h-6 w-6","aria-hidden":"true"})]})}})}),Object(ke.jsxs)("div",{className:"flex-1 flex sm:ml-3 items-center justify-center sm:items-stretch sm:justify-start",children:[Object(ke.jsx)("div",{className:"flex-shrink-0 flex items-center"}),Object(ke.jsx)("div",{className:"hidden sm:block",children:Object(ke.jsx)("div",{className:"flex space-x-4",children:Object.keys(rt).map((function(t){var a=t;if(t=rt[a],rt[a].inNav)return Object(ke.jsx)(p.b,{to:t.href,onClick:function(){e.setState({current:a})},className:h(a===e.state.current?"bg-black text-white dark:bg-gray-800 dark:text-white":"bg-transparent text-black hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white","px-3 py-2 rounded-md text-md font-medium"),"aria-current":a===e.state.current?"page":void 0,children:a},a)}))})})]}),Object(ke.jsxs)("div",{className:"absolute sm:mr-3 inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0",children:[Object(ke.jsx)(Me,{}),Object(ke.jsx)(Ne,{}),Object(ke.jsx)(Se,{})]})]})}),Object(ke.jsx)(f.e,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:Object(ke.jsx)(f.b.Item,{as:"div",className:"sm:hidden px-2 pt-2 pb-3 space-y-1",children:Object.keys(rt).map((function(t){var a=t;if(t=rt[a],rt[a].inNav)return Object(ke.jsx)(p.b,{to:t.href,onClick:function(){e.setState({current:a})},className:h(a===e.state.current?"bg-black text-white dark:bg-gray-800 dark:text-white":"bg-transparent text-black hover:bg-white dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white","block px-3 py-2 rounded-md text-base font-medium"),"aria-current":a===e.state.current?"page":void 0,children:a},a)}))})})]}),Object(ke.jsx)(st,{app:this})]})}}]),a}(r.Component);c.a.render(Object(ke.jsx)(n.a.StrictMode,{children:Object(ke.jsx)(ct,{})}),document.getElementById("root"))}},[[222,1,2]]]);